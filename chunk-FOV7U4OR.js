import{a as xe}from"./chunk-AC2XLNCQ.js";import{a as ve,b as Ce}from"./chunk-TFCUHU7I.js";import{a as fe}from"./chunk-MSDI2JUU.js";import{a as ue}from"./chunk-WRB6FDXO.js";import{a as pe}from"./chunk-NFEJ3R32.js";import{a as ge}from"./chunk-7YNDMGGC.js";import{$ as _,$a as ce,A as B,Aa as w,Ba as N,Ca as ie,F as I,Ia as ne,Ja as k,K as O,Ka as oe,La as ae,Ma as g,N as Q,Na as re,O as o,Oa as L,R as D,U as Z,Ua as le,Z as U,_ as s,_a as de,a as X,b as J,ba as A,ca as T,da as E,ea as x,eb as se,fa as r,fb as _e,ga as a,ha as b,ia as F,ja as R,ka as z,la as y,na as M,nb as me,oa as ee,pa as c,v as S,va as te,wa as V,x as f,y as h,ya as d,z as P,za as u}from"./chunk-HADTIDD7.js";function Se(i,t){if(i&1){let e=y();F(0,"button",3),ee("click",function(){f(e);let l=c().$implicit,m=c();return h(m.rated.emit(l))}),d(1,"\u2605"),R()}if(i&2){let e=c().$implicit,n=c();V("stars__star--filled",e<=n.displayRating())("stars__star--half",e-.5===n.displayRating()),U("aria-label","Rate "+e+" stars")}}function Pe(i,t){if(i&1&&(F(0,"span",4),d(1,"\u2605"),R()),i&2){let e=c().$implicit,n=c();V("stars__star--filled",e<=n.displayRating())}}function Oe(i,t){if(i&1&&s(0,Se,2,5,"button",1)(1,Pe,2,2,"span",2),i&2){let e=c();_(e.interactive()?0:1)}}var G=class i{rating=L(0);maxStars=L(5);interactive=L(!1);rated=re();displayRating=g(()=>{let t=this.rating();return Math.round(t*2)/2});starArray=g(()=>Array.from({length:this.maxStars()},(t,e)=>e+1));static \u0275fac=function(e){return new(e||i)};static \u0275cmp=D({type:i,selectors:[["app-rating-stars"]],inputs:{rating:[1,"rating"],maxStars:[1,"maxStars"],interactive:[1,"interactive"]},outputs:{rated:"rated"},decls:3,vars:3,consts:[["role","img",1,"stars"],[1,"stars__star",3,"stars__star--filled","stars__star--half"],[1,"stars__star",3,"stars__star--filled"],[1,"stars__star",3,"click"],[1,"stars__star"]],template:function(e,n){e&1&&(F(0,"div",0),T(1,Oe,2,1,null,null,A),R()),e&2&&(V("stars--interactive",n.interactive()),U("aria-label","Rating: "+n.displayRating().toFixed(1)+" out of 5"),o(),E(n.starArray()))},styles:[".stars[_ngcontent-%COMP%]{display:inline-flex;gap:2px}.stars__star[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--border-bright);transition:color .15s;background:none;border:none;padding:0;cursor:default;min-height:auto;min-width:auto}.stars__star--filled[_ngcontent-%COMP%]{color:var(--accent-gold)}.stars--interactive[_ngcontent-%COMP%]   .stars__star[_ngcontent-%COMP%]{cursor:pointer;min-height:44px;min-width:32px;display:flex;align-items:center;justify-content:center}.stars--interactive[_ngcontent-%COMP%]   .stars__star[_ngcontent-%COMP%]:hover{color:var(--accent-cream)}"],changeDetection:0})};var H=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=D({type:i,selectors:[["app-skeleton-detail"]],decls:19,vars:0,consts:[["aria-hidden","true",1,"skeleton-detail"],[1,"skeleton-detail__hero","skeleton-shimmer"],[1,"skeleton-detail__content","container"],[1,"skeleton-detail__layout"],[1,"skeleton-detail__poster","skeleton-shimmer"],[1,"skeleton-detail__info"],[1,"skeleton-detail__title","skeleton-shimmer"],[1,"skeleton-detail__meta","skeleton-shimmer"],[1,"skeleton-detail__tagline","skeleton-shimmer"],[1,"skeleton-detail__text","skeleton-shimmer"],[1,"skeleton-detail__text","skeleton-detail__text--short","skeleton-shimmer"],[1,"skeleton-detail__actions"],[1,"skeleton-detail__btn","skeleton-shimmer"],[1,"skeleton-detail__btn","skeleton-detail__btn--small","skeleton-shimmer"],[1,"skeleton-detail__row","skeleton-shimmer"],[1,"skeleton-detail__row","skeleton-detail__row--short","skeleton-shimmer"],["role","status",1,"sr-only"]],template:function(e,n){e&1&&(F(0,"div",0),z(1,"div",1),F(2,"div",2)(3,"div",3),z(4,"div",4),F(5,"div",5),z(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),F(11,"div",11),z(12,"div",12)(13,"div",12)(14,"div",13),R(),z(15,"div",14)(16,"div",15),R()()()(),F(17,"span",16),d(18,"Loading film details..."),R())},styles:[".skeleton-detail__hero[_ngcontent-%COMP%]{height:350px;background:linear-gradient(180deg,var(--bg-raised) 0%,var(--bg-deep) 100%)}.skeleton-detail__content[_ngcontent-%COMP%]{margin-top:-120px;position:relative;padding-bottom:var(--space-2xl)}.skeleton-detail__layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr;gap:var(--space-xl)}.skeleton-detail__poster[_ngcontent-%COMP%]{aspect-ratio:2 / 3;border-radius:var(--radius-lg)}.skeleton-detail__title[_ngcontent-%COMP%]{height:36px;width:70%;border-radius:var(--radius);margin-bottom:var(--space-md)}.skeleton-detail__meta[_ngcontent-%COMP%]{height:16px;width:40%;border-radius:var(--radius-sm);margin-bottom:var(--space-lg)}.skeleton-detail__tagline[_ngcontent-%COMP%]{height:16px;width:55%;border-radius:var(--radius-sm);margin-bottom:var(--space-md)}.skeleton-detail__text[_ngcontent-%COMP%]{height:14px;width:100%;border-radius:var(--radius-sm);margin-bottom:var(--space-sm)}.skeleton-detail__text--short[_ngcontent-%COMP%]{width:75%;margin-bottom:var(--space-xl)}.skeleton-detail__actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);margin-bottom:var(--space-xl)}.skeleton-detail__btn[_ngcontent-%COMP%]{height:48px;width:140px;border-radius:var(--radius-lg)}.skeleton-detail__btn--small[_ngcontent-%COMP%]{width:100px}.skeleton-detail__row[_ngcontent-%COMP%]{height:14px;width:60%;border-radius:var(--radius-sm);margin-bottom:var(--space-sm)}.skeleton-detail__row--short[_ngcontent-%COMP%]{width:40%}.skeleton-shimmer[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--bg-raised) 25%,var(--bg-hover) 50%,var(--bg-raised) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}@media(prefers-reduced-motion:reduce){.skeleton-shimmer[_ngcontent-%COMP%]{animation:none;background:var(--bg-raised)}}@media(max-width:768px){.skeleton-detail__hero[_ngcontent-%COMP%]{height:220px}.skeleton-detail__content[_ngcontent-%COMP%]{margin-top:-60px}.skeleton-detail__layout[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--space-lg)}.skeleton-detail__poster[_ngcontent-%COMP%]{max-width:200px;margin:0 auto}}"],changeDetection:0})};var j=class i{transform(t){if(t==null||t<=0)return"";let e=Math.floor(t/60),n=t%60;return e===0?`${n}m`:n>0?`${e}h ${n}m`:`${e}h`}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=Z({name:"runtime",type:i,pure:!0})};var Me=i=>["/genre",i],ye=i=>["/decade",i],K=i=>["/director",i],Te=i=>["/watch",i],Ee=()=>["/browse"],Fe=i=>({languages:i,streamable:"0"}),Ie=i=>["/actor",i],we=i=>["/movie",i],ke=(i,t)=>t.id,Re=(i,t)=>t.name,De=(i,t)=>t.movie.id;function Ae(i,t){i&1&&b(0,"app-skeleton-detail")}function ze(i,t){if(i&1&&b(0,"div",52),i&2){let e=c();te("background-image","url("+e.backdropUrl+")")}}function Ve(i,t){if(i&1&&b(0,"img",11),i&2){let e=c();x("src",e.posterUrl,O)("alt",e.title+" poster")}}function Ne(i,t){if(i&1&&(r(0,"div",12)(1,"span",53),d(2),a(),r(3,"span",54),d(4),a()()),i&2){let e=c();o(2),u(e.title),o(2),u(e.year)}}function Le(i,t){if(i&1&&(r(0,"span",15),d(1),a()),i&2){let e=c(2);o(),w("#",e.catalogRank()," in catalog")}}function $e(i,t){i&1&&(r(0,"span",16),d(1),a()),i&2&&(o(),u(t))}function We(i,t){if(i&1&&(r(0,"a",18),d(1),a()),i&2){let e=t;x("routerLink",k(3,Me,e.genre)),o(),N("#",e.rank," in ",e.genre)}}function Ue(i,t){if(i&1&&(r(0,"a",18),d(1),a()),i&2){let e=t;x("routerLink",k(3,ye,e.decade)),o(),N("#",e.rank," in ",e.decade,"s")}}function Be(i,t){if(i&1&&(r(0,"a",18),d(1),a()),i&2){let e=t;x("routerLink",k(4,K,e.director)),o(),ie("#",e.rank," of ",e.total," by ",e.director)}}function Ge(i,t){if(i&1&&(r(0,"span",19),d(1),a()),i&2){let e=t;o(),N("#",e.rank," in ",e.language)}}function He(i,t){i&1&&(r(0,"span",19),d(1),a()),i&2&&(o(),w("#",t.rank," free to watch"))}function je(i,t){if(i&1&&(r(0,"span",55),d(1,"\xB7"),a(),r(2,"a",56),d(3),a()),i&2){let e=c(),n=c();o(2),x("routerLink",k(3,ye,n.yearDecade())),o(),N("",n.yearPeers()," films from ",e.year)}}function Ye(i,t){if(i&1&&(r(0,"span",55),d(1,"\xB7"),a(),r(2,"span",57),d(3),oe(4,"runtime"),a()),i&2){let e=c();o(3),u(ae(4,1,e.runtime))}}function qe(i,t){if(i&1&&(r(0,"span",55),d(1,"\xB7"),a(),r(2,"span",57),d(3),a()),i&2){let e=c();o(3),u(e.originalLanguage.toUpperCase())}}function Ke(i,t){if(i&1&&(r(0,"p",22),d(1),a()),i&2){let e=c();o(),w("\u201C",e.tagline,"\u201D")}}function Xe(i,t){if(i&1&&(r(0,"p",23),d(1),a()),i&2){let e=c();o(),u(e.overview)}}function Je(i,t){if(i&1&&(r(0,"div",58)(1,"span",59),d(2,"TMDb"),a(),r(3,"span",60),d(4),a(),b(5,"app-rating-stars",61),a()),i&2){let e=c(2);o(4),u(e.tmdbRating.toFixed(1)),o(),x("rating",e.tmdbRating/2)}}function Qe(i,t){if(i&1&&(r(0,"div",58)(1,"span",59),d(2,"IMDb"),a(),r(3,"span",60),d(4),a()()),i&2){let e=c(2);o(4),u(e.imdbRating)}}function Ze(i,t){if(i&1&&(r(0,"div",58)(1,"span",59),d(2,"RT"),a(),r(3,"span",60),d(4),a()()),i&2){let e=c(2);o(4),u(e.rottenTomatoesRating)}}function et(i,t){if(i&1&&(r(0,"div",24),s(1,Je,6,2,"div",58),s(2,Qe,5,1,"div",58),s(3,Ze,5,1,"div",58),a()),i&2){let e=c();o(),_(e.tmdbRating?1:-1),o(),_(e.imdbRating?2:-1),o(),_(e.rottenTomatoesRating?3:-1)}}function tt(i,t){if(i&1&&(r(0,"a",26),d(1,"Watch Film"),a()),i&2){let e=c();x("routerLink",k(1,Te,e.id))}}function it(i,t){if(i&1&&(r(0,"a",27),d(1,"View on IMDb"),a()),i&2){let e=c();x("href","https://www.imdb.com/title/"+e.imdbId,O)}}function nt(i,t){if(i&1&&(r(0,"a",28),d(1,"Search Internet Archive"),a()),i&2){let e=c(),n=c();x("href","https://archive.org/search?query="+n.encodeTitle(e.title),O)}}function ot(i,t){i&1&&(P(),r(0,"svg",30),b(1,"path",62),a())}function at(i,t){i&1&&(P(),r(0,"svg",31),b(1,"path",62),a())}function rt(i,t){if(i&1){let e=y();r(0,"button",63),M("click",function(){f(e);let l=c(),m=c();return h(m.addToWatchlist(l.id))}),d(1,"+ Watchlist"),a()}}function lt(i,t){if(i&1){let e=y();r(0,"button",64),M("click",function(){f(e);let l=c(),m=c();return h(m.removeFromWatchlist(l.id))}),d(1,"In Watchlist"),a()}}function dt(i,t){if(i&1){let e=y();r(0,"button",63),M("click",function(){f(e);let l=c(),m=c();return h(m.markWatched(l.id))}),d(1,"Mark Watched"),a()}}function ct(i,t){if(i&1){let e=y();r(0,"button",67),M("click",function(){let l=f(e).$implicit,m=c(3),C=c();return h(C.addToPlaylist(l.id,m.id))}),d(1),a()}if(i&2){let e=t.$implicit;o(),u(e.name)}}function st(i,t){if(i&1&&(r(0,"div",42),T(1,ct,2,1,"button",66,ke),a()),i&2){let e=c(3);o(),E(e.collection.playlists())}}function _t(i,t){if(i&1){let e=y();r(0,"div",34)(1,"button",65),M("click",function(){f(e);let l=c(2);return h(l.playlistMenuOpen.set(!l.playlistMenuOpen()))}),d(2,"+ Playlist"),a(),s(3,st,3,0,"div",42),a()}if(i&2){let e=c(2);o(3),_(e.playlistMenuOpen()?3:-1)}}function mt(i,t){if(i&1){let e=y();r(0,"div",42)(1,"button",68),M("click",function(){f(e);let l=c(),m=c();return h(m.shareTwitter(l))}),P(),r(2,"svg",69),b(3,"path",70),a(),d(4," Twitter / X "),a(),B(),r(5,"button",71),M("click",function(){f(e);let l=c(),m=c();return h(m.shareFacebook(l))}),P(),r(6,"svg",69),b(7,"path",72),a(),d(8," Facebook "),a(),B(),r(9,"button",73),M("click",function(){f(e);let l=c(2);return h(l.copyLink())}),P(),r(10,"svg",74),b(11,"rect",75)(12,"path",76),a(),d(13," Copy Link "),a()()}}function pt(i,t){if(i&1){let e=y();r(0,"div",43)(1,"span",77),d(2,"Your Rating"),a(),r(3,"app-rating-stars",78),M("rated",function(l){f(e);let m=c(),C=c();return h(C.onRate(m.id,l))}),a()()}if(i&2){let e=c(),n=c();o(3),x("rating",n.getUserRating(e.id))("interactive",!0)}}function gt(i,t){if(i&1){let e=y();r(0,"div",44)(1,"label",79),d(2,"Your Notes"),a(),r(3,"textarea",80),M("blur",function(l){f(e);let m=c(),C=c();return h(C.onNoteChange(m.id,l))}),a()()}if(i&2){let e=c(),n=c();o(3),x("value",n.collection.getNote(e.id))}}function vt(i,t){if(i&1){let e=y();r(0,"div",82)(1,"p",84),d(2),a(),r(3,"button",85),M("click",function(){f(e);let l=c(4);return h(l.reviewEditing.set(!0))}),d(4,"Edit"),a()()}if(i&2){let e=c(3),n=c();o(2),u(n.collection.getReview(e.id))}}function ut(i,t){if(i&1){let e=y();r(0,"button",86),M("click",function(){f(e);let l=c(4);return h(l.reviewEditing.set(!0))}),d(1,"Write a Review"),a()}}function Ct(i,t){if(i&1&&s(0,vt,5,1,"div",82)(1,ut,2,0,"button",83),i&2){let e=c(2),n=c();_(n.collection.getReview(e.id)?0:1)}}function xt(i,t){if(i&1){let e=y();r(0,"textarea",87),M("blur",function(l){f(e);let m=c(2),C=c();return h(C.onReviewSave(m.id,l))}),a(),r(1,"p",88),d(2,"Click outside to save"),a()}if(i&2){let e=c(2),n=c();x("value",n.collection.getReview(e.id))}}function ft(i,t){if(i&1&&(r(0,"div",45)(1,"label",81),d(2,"Your Review"),a(),s(3,Ct,2,1)(4,xt,3,1),a()),i&2){let e=c(2);o(3),_(e.reviewEditing()?4:3)}}function ht(i,t){i&1&&d(0,", ")}function bt(i,t){if(i&1&&(r(0,"a",92),d(1),a(),s(2,ht,1,0)),i&2){let e=t.$implicit,n=t.$index,l=t.$count;x("routerLink",k(3,K,e)),o(),u(e),o(),_(n!==l-1?2:-1)}}function Mt(i,t){i&1&&d(0),i&2&&w(", avg \u2605 ",t)}function yt(i,t){i&1&&d(0),i&2&&w(", ",t,"% free")}function wt(i,t){if(i&1&&(r(0,"span",91),d(1),s(2,Mt,1,1),s(3,yt,1,1),d(4,")"),a()),i&2){let e,n,l=c(4);o(),w("(",t," in catalog"),o(),_((e=l.directorAvgRating())?2:-1,e),o(),_((n=l.directorStreamablePct())?3:-1,n)}}function kt(i,t){if(i&1&&(r(0,"div",89)(1,"span",90),d(2),a(),r(3,"span"),T(4,bt,3,5,null,null,A),s(6,wt,5,3,"span",91),a()()),i&2){let e,n=c(2),l=c();o(2),w("Director",n.directors.length>1?"s":""),o(2),E(n.directors),o(2),_((e=l.totalDirectorFilms())?6:-1,e)}}function St(i,t){if(i&1&&(r(0,"a",94),d(1),a()),i&2){let e=t.$implicit;x("routerLink",k(2,Me,e)),o(),u(e)}}function Pt(i,t){i&1&&d(0),i&2&&w(", ",t,"% streamable")}function Ot(i,t){i&1&&d(0),i&2&&w(", median \u2605 ",t)}function Tt(i,t){i&1&&d(0),i&2&&w(", ",t," directors")}function Et(i,t){if(i&1&&(r(0,"span",91),d(1),s(2,Pt,1,1),s(3,Ot,1,1),s(4,Tt,1,1),d(5,")"),a()),i&2){let e,n,l,m=t,C=c(4);o(),N("(",m.count," ",m.genre," films"),o(),_((e=C.genreStreamablePct())?2:-1,e),o(),_((n=C.genreMedianRating())?3:-1,n),o(),_((l=C.genreDirectorCount())?4:-1,l)}}function Ft(i,t){if(i&1&&(r(0,"div",89)(1,"span",90),d(2,"Genres"),a(),r(3,"div",93),T(4,St,2,4,"a",94,A),s(6,Et,6,5,"span",91),a()()),i&2){let e,n=c(2),l=c();o(4),E(n.genres),o(2),_((e=l.genreSiblingCount())?6:-1,e)}}function It(i,t){if(i&1&&(r(0,"div",46),s(1,kt,7,2,"div",89),s(2,Ft,7,1,"div",89),a()),i&2){let e=c();o(),_(e.directors.length>0?1:-1),o(),_(e.genres.length>0?2:-1)}}function Rt(i,t){if(i&1&&(r(0,"div",89)(1,"span",90),d(2,"Language"),a(),r(3,"a",95),d(4),a()()),i&2){let e=c(2),n=c();o(3),x("routerLink",ne(3,Ee))("queryParams",k(4,Fe,n.languageName(e.originalLanguage))),o(),u(n.languageName(e.originalLanguage))}}function Dt(i,t){if(i&1&&(r(0,"div",89)(1,"span",90),d(2),a(),r(3,"span"),d(4),a()()),i&2){let e=c(2);o(2),u(e.productionCountries.length>1?"Countries":"Country"),o(2),u(e.productionCountries.join(", "))}}function At(i,t){if(i&1&&(r(0,"div",46),s(1,Rt,5,6,"div",89),s(2,Dt,5,2,"div",89),a()),i&2){let e=c();o(),_(e.originalLanguage?1:-1),o(),_(e.productionCountries.length>0?2:-1)}}function zt(i,t){if(i&1&&(r(0,"a",97),P(),r(1,"svg",100),b(2,"path",101)(3,"path",102),a(),d(4," Internet Archive "),a()),i&2){let e=c(2);x("href","https://archive.org/details/"+e.internetArchiveId,O)}}function Vt(i,t){if(i&1&&(r(0,"a",98),P(),r(1,"svg",103),b(2,"path",104),a(),d(3," YouTube "),a()),i&2){let e=c(2);x("href","https://www.youtube.com/watch?v="+e.youtubeId,O)}}function Nt(i,t){if(i&1&&(r(0,"a",99),d(1," IMDb "),a()),i&2){let e=c(2);x("href","https://www.imdb.com/title/"+e.imdbId,O)}}function Lt(i,t){if(i&1&&(r(0,"div",47)(1,"span",96),d(2,"Available on"),a(),s(3,zt,5,1,"a",97),s(4,Vt,4,1,"a",98),s(5,Nt,2,1,"a",99),a()),i&2){let e=c();o(3),_(e.internetArchiveId?3:-1),o(),_(e.youtubeId?4:-1),o(),_(e.imdbId?5:-1)}}function $t(i,t){if(i&1&&(r(0,"span",105),d(1),a()),i&2){let e=t.$implicit;o(),u(e)}}function Wt(i,t){if(i&1&&(r(0,"div",48),T(1,$t,2,1,"span",105,A),a()),i&2){let e=c(2);o(),E(e.filmContext())}}function Ut(i,t){if(i&1&&b(0,"img",109),i&2){let e=c().$implicit;x("src",e.profileUrl,O)("alt",e.name)}}function Bt(i,t){i&1&&b(0,"div",110)}function Gt(i,t){if(i&1&&(r(0,"p",112),d(1),a()),i&2){let e=c().$implicit;o(),u(e.character)}}function Ht(i,t){if(i&1&&(r(0,"a",108),s(1,Ut,1,2,"img",109)(2,Bt,1,0,"div",110),r(3,"p",111),d(4),a(),s(5,Gt,2,1,"p",112),a()),i&2){let e=t.$implicit;x("routerLink",k(4,Ie,e.name)),o(),_(e.profileUrl?1:2),o(3),u(e.name),o(),_(e.character?5:-1)}}function jt(i,t){if(i&1&&(r(0,"section",49)(1,"h2"),d(2,"Cast "),r(3,"span",106),d(4),a()(),r(5,"div",107),T(6,Ht,6,6,"a",108,Re),a()()),i&2){let e=c();o(4),w("(",e.cast.length,")"),o(2),E(e.cast)}}function Yt(i,t){if(i&1&&b(0,"img",109),i&2){let e=c().$implicit;x("src",e.posterUrl,O)("alt",e.title)}}function qt(i,t){if(i&1&&(r(0,"div",117)(1,"span"),d(2),a()()),i&2){let e=c().$implicit;o(2),u(e.title)}}function Kt(i,t){i&1&&(r(0,"span",118),d(1,"\u2713"),a())}function Xt(i,t){i&1&&(r(0,"span",119),d(1,"+"),a())}function Jt(i,t){if(i&1&&(r(0,"a",115)(1,"div",116),s(2,Yt,1,2,"img",109)(3,qt,3,1,"div",117),s(4,Kt,2,0,"span",118)(5,Xt,2,0,"span",119),a(),r(6,"p",120),d(7),a(),r(8,"p",121),d(9),a()()),i&2){let e=t.$implicit,n=c(3);x("routerLink",k(5,we,e.id)),o(2),_(e.posterUrl?2:3),o(2),_(n.collection.isWatched(e.id)?4:n.collection.isInWatchlist(e.id)?5:-1),o(3),u(e.title),o(2),u(e.year)}}function Qt(i,t){if(i&1&&(r(0,"section",50)(1,"div",113)(2,"h2"),d(3),a(),r(4,"a",114),d(5,"View all \u2192"),a()(),r(6,"app-scroll-row"),T(7,Jt,10,7,"a",115,ke),a()()),i&2){let e=c(2);o(3),w("More by ",e.movie().directors[0]),o(),x("routerLink",k(2,K,e.movie().directors[0])),o(3),E(e.directorFilms())}}function Zt(i,t){i&1&&(r(0,"span",106),d(1),a()),i&2&&(o(),w("(",t," unwatched)"))}function ei(i,t){i&1&&(r(0,"span",106),d(1),a()),i&2&&(o(),w("\xB7 ",t," free"))}function ti(i,t){if(i&1&&b(0,"img",109),i&2){let e=c().$implicit;x("src",e.movie.posterUrl,O)("alt",e.movie.title)}}function ii(i,t){if(i&1&&(r(0,"div",117)(1,"span"),d(2),a()()),i&2){let e=c().$implicit;o(2),u(e.movie.title)}}function ni(i,t){i&1&&(r(0,"span",118),d(1,"\u2713"),a())}function oi(i,t){i&1&&(r(0,"span",119),d(1,"+"),a())}function ai(i,t){if(i&1&&(r(0,"p",122),d(1),a()),i&2){let e=c().$implicit;o(),u(e.reason)}}function ri(i,t){if(i&1&&(r(0,"a",115)(1,"div",116),s(2,ti,1,2,"img",109)(3,ii,3,1,"div",117),s(4,ni,2,0,"span",118)(5,oi,2,0,"span",119),a(),r(6,"p",120),d(7),a(),r(8,"p",121),d(9),a(),s(10,ai,2,1,"p",122),a()),i&2){let e=t.$implicit,n=c(3);x("routerLink",k(6,we,e.movie.id)),o(2),_(e.movie.posterUrl?2:3),o(2),_(n.collection.isWatched(e.movie.id)?4:n.collection.isInWatchlist(e.movie.id)?5:-1),o(3),u(e.movie.title),o(2),u(e.movie.year),o(),_(e.reason?10:-1)}}function li(i,t){if(i&1&&(r(0,"section",51)(1,"h2"),d(2,"You Might Also Like"),s(3,Zt,2,1,"span",106),s(4,ei,2,1,"span",106),a(),r(5,"app-scroll-row"),T(6,ri,11,8,"a",115,De),a()()),i&2){let e,n,l=c(2);o(3),_((e=l.similarUnwatchedCount())?3:-1,e),o(),_((n=l.similarStreamableCount())?4:-1,n),o(2),E(l.similarWithReasons())}}function di(i,t){if(i&1){let e=y();r(0,"div",0)(1,"button",2),M("click",function(){f(e);let l=c();return h(l.goBack())}),P(),r(2,"svg",3),b(3,"polyline",4),a(),d(4," Back "),a(),B(),r(5,"div",5),s(6,ze,1,2,"div",6),b(7,"div",7),a(),r(8,"div",8)(9,"div",9)(10,"div",10),s(11,Ve,1,2,"img",11)(12,Ne,5,2,"div",12),a(),r(13,"div",13)(14,"h1",14),d(15),a(),s(16,Le,2,1,"span",15),s(17,$e,2,1,"span",16),r(18,"div",17),s(19,We,2,5,"a",18),s(20,Ue,2,5,"a",18),s(21,Be,2,6,"a",18),s(22,Ge,2,2,"span",19),s(23,He,2,1,"span",19),a(),r(24,"div",20)(25,"span",21),d(26),a(),s(27,je,4,5),s(28,Ye,5,3),s(29,qe,4,1),a(),s(30,Ke,2,1,"p",22),s(31,Xe,2,1,"p",23),s(32,et,4,3,"div",24),r(33,"div",25),s(34,tt,2,3,"a",26)(35,it,2,1,"a",27)(36,nt,2,1,"a",28),r(37,"button",29),M("click",function(){let l=f(e),m=c();return h(m.toggleFavorite(l.id))}),s(38,ot,2,0,":svg:svg",30)(39,at,2,0,":svg:svg",31),a(),s(40,rt,2,0,"button",32)(41,lt,2,0,"button",33),s(42,dt,2,0,"button",32),s(43,_t,4,1,"div",34),r(44,"div",35)(45,"button",36),M("click",function(){f(e);let l=c();return h(l.shareMenuOpen.set(!l.shareMenuOpen()))}),P(),r(46,"svg",3),b(47,"circle",37)(48,"circle",38)(49,"circle",39)(50,"line",40)(51,"line",41),a(),d(52," Share "),a(),s(53,mt,14,0,"div",42),a()(),s(54,pt,4,2,"div",43),s(55,gt,4,1,"div",44),s(56,ft,5,1,"div",45),s(57,It,3,2,"div",46),s(58,At,3,2,"div",46),s(59,Lt,6,3,"div",47),a()(),s(60,Wt,3,0,"div",48),s(61,jt,8,1,"section",49),s(62,Qt,9,4,"section",50),s(63,li,8,2,"section",51),a()()}if(i&2){let e,n,l,m,C,$,p=t,v=c();o(6),_(p.backdropUrl?6:-1),o(5),_(p.posterUrl?11:12),o(4),u(p.title),o(),_(v.catalogRank()>0?16:-1),o(),_((e=v.ratingPercentile())?17:-1,e),o(2),_((n=v.genreRank())?19:-1,n),o(),_((l=v.decadeRank())?20:-1,l),o(),_((m=v.directorRank())?21:-1,m),o(),_((C=v.languageRank())?22:-1,C),o(),_(($=v.streamableRank())?23:-1,$),o(2),x("title",v.yearPeers()>1?"One of "+v.yearPeers()+" films from "+p.year:""),o(),u(p.year),o(),_(v.yearPeers()>2?27:-1),o(),_(p.runtime?28:-1),o(),_(p.originalLanguage?29:-1),o(),_(p.tagline?30:-1),o(),_(p.overview?31:-1),o(),_(p.tmdbRating||p.imdbRating||p.rottenTomatoesRating?32:-1),o(2),_(v.streamingUrl()?34:p.imdbId?35:36),o(3),V("detail__fav-btn--active",v.collection.isFavorite(p.id)),U("aria-label",v.collection.isFavorite(p.id)?"Remove from favorites":"Add to favorites"),o(),_(v.collection.isFavorite(p.id)?38:39),o(2),_(!v.collection.isInWatchlist(p.id)&&!v.collection.isWatched(p.id)?40:v.collection.isInWatchlist(p.id)?41:-1),o(2),_(v.collection.isWatched(p.id)?-1:42),o(),_(v.collection.playlists().length>0?43:-1),o(10),_(v.shareMenuOpen()?53:-1),o(),_(v.collection.isWatched(p.id)?54:-1),o(),_(v.collection.isWatched(p.id)?55:-1),o(),_(v.collection.isWatched(p.id)?56:-1),o(),_(p.directors.length>0||p.genres.length>0?57:-1),o(),_(p.originalLanguage||p.productionCountries.length>0?58:-1),o(),_(p.imdbId||p.internetArchiveId||p.youtubeId?59:-1),o(),_(v.filmContext().length>0?60:-1),o(),_(p.cast.length>0?61:-1),o(),_(v.directorFilms().length>0?62:-1),o(),_(v.similarWithReasons().length>0?63:-1)}}function ci(i,t){i&1&&(r(0,"div",1)(1,"h2"),d(2,"Film not found"),a(),r(3,"p",123),d(4,"This film is not in our catalog."),a(),r(5,"a",124),d(6,"Browse Films"),a()())}var be=class i{id=L.required();location=S(le);router=S(se);catalogService=S(me);movieService=S(xe);collection=S(pe);streaming=S(fe);notifications=S(ge);recentlyViewed=S(ve);titleService=S(ce);metaService=S(de);movie=I(null);loading=I(!0);streamingUrl=I(null);shareMenuOpen=I(!1);playlistMenuOpen=I(!1);reviewEditing=I(!1);summary=I(null);ratedMovies=g(()=>this.catalogService.movies().filter(t=>t.voteAverage>0));primaryGenreFilms=g(()=>{let t=this.summary();return!t||t.genres.length===0?[]:this.catalogService.movies().filter(e=>e.genres.includes(t.genres[0]))});primaryDirFilms=g(()=>{let t=this.summary();return!t||t.directors.length===0?[]:this.catalogService.movies().filter(e=>e.directors.includes(t.directors[0]))});sameDecadeFilms=g(()=>{let t=this.summary();if(!t)return[];let e=Math.floor(t.year/10)*10;return this.catalogService.movies().filter(n=>Math.floor(n.year/10)*10===e)});similarFilms=g(()=>{let t=this.summary();return t?this.catalogService.getSimilar(t):[]});filmContext=g(()=>{let t=this.movie();if(!t)return[];let e=[];t.year<1930?e.push("Silent Era"):t.year<1950?e.push("Golden Age"):t.year<1970&&e.push("Post-War Cinema");let n=new Date().getFullYear()-t.year;return e.push(`${n} years old`),t.isStreamable?t.internetArchiveId?e.push("Free on Internet Archive"):t.youtubeId&&e.push("Free on YouTube"):e.push("Not in public domain"),t.runtime&&(t.runtime<60?e.push("Short film"):t.runtime>150&&e.push("Epic length")),t.originalLanguage&&t.originalLanguage!=="en"&&e.push("Foreign language"),t.genres.length>=4&&e.push("Multi-genre"),e});similarWithReasons=g(()=>{let t=this.summary();if(!t)return[];let e=this.similarFilms(),n=new Set(t.genres.map(C=>C.toLowerCase())),l=new Set(t.directors.map(C=>C.toLowerCase())),m=Math.floor(t.year/10)*10;return e.map(C=>{let $=C.directors.find(Y=>l.has(Y.toLowerCase())),p=C.genres.filter(Y=>n.has(Y.toLowerCase())),v=Math.floor(C.year/10)*10===m,W="";return $?W=`Also by ${$}`:p.length>0&&v?W=`${p[0]}, ${m}s`:p.length>0?W=p.length>1?p.slice(0,2).join(" & "):p[0]:v&&(W=`Also from the ${m}s`),{movie:C,reason:W}})});catalogRank=g(()=>{let t=this.summary();if(!t||t.voteAverage===0)return 0;let n=[...this.ratedMovies()].sort((l,m)=>m.voteAverage-l.voteAverage).findIndex(l=>l.id===t.id);return n>=0?n+1:0});genreRank=g(()=>{let t=this.summary();if(!t||t.voteAverage===0||t.genres.length===0)return null;let e=this.primaryGenreFilms().filter(l=>l.voteAverage>0).sort((l,m)=>m.voteAverage-l.voteAverage),n=e.findIndex(l=>l.id===t.id);return n<0||n>=20?null:{rank:n+1,genre:t.genres[0],total:e.length}});decadeRank=g(()=>{let t=this.summary();if(!t||t.voteAverage===0)return null;let e=this.sameDecadeFilms().filter(l=>l.voteAverage>0).sort((l,m)=>m.voteAverage-l.voteAverage),n=e.findIndex(l=>l.id===t.id);return n<0||n>=20?null:{rank:n+1,decade:Math.floor(t.year/10)*10,total:e.length}});directorRank=g(()=>{let t=this.summary();if(!t||t.voteAverage===0||t.directors.length===0)return null;let e=this.primaryDirFilms().filter(l=>l.voteAverage>0).sort((l,m)=>m.voteAverage-l.voteAverage);if(e.length<3)return null;let n=e.findIndex(l=>l.id===t.id);return n<0||n>=10?null:{rank:n+1,director:t.directors[0],total:e.length}});languageRank=g(()=>{let t=this.summary();if(!t||t.voteAverage===0||!t.language||t.language==="English")return null;let e=t.language,n=this.ratedMovies().filter(m=>m.language===e).sort((m,C)=>C.voteAverage-m.voteAverage);if(n.length<20)return null;let l=n.findIndex(m=>m.id===t.id);return l<0||l>=10?null:{rank:l+1,language:e}});streamableRank=g(()=>{let t=this.summary();if(!t||t.voteAverage===0||!t.isStreamable)return null;let e=this.ratedMovies().filter(l=>l.isStreamable).sort((l,m)=>m.voteAverage-l.voteAverage),n=e.findIndex(l=>l.id===t.id);return n<0||n>=20?null:{rank:n+1,total:e.length}});totalDirectorFilms=g(()=>{let t=this.primaryDirFilms();return t.length>1?t.length:null});directorAvgRating=g(()=>{let t=this.primaryDirFilms().filter(e=>e.voteAverage>0);return t.length<3?null:(t.reduce((e,n)=>e+n.voteAverage,0)/t.length).toFixed(1)});directorStreamablePct=g(()=>{let t=this.primaryDirFilms();if(t.length<3)return null;let e=Math.round(t.filter(n=>n.isStreamable).length/t.length*100);return e>0&&e<100?e:null});genreSiblingCount=g(()=>{let t=this.summary();if(!t||t.genres.length===0)return null;let e=this.primaryGenreFilms().length-1;return e>=10?{genre:t.genres[0],count:e}:null});similarUnwatchedCount=g(()=>{let t=this.similarWithReasons();if(t.length===0)return null;let e=t.filter(n=>!this.collection.isWatched(n.movie.id)).length;return e>0&&e<t.length?e:null});similarStreamableCount=g(()=>{let t=this.similarWithReasons();if(t.length===0)return null;let e=t.filter(n=>n.movie.isStreamable).length;return e>0&&e<t.length?e:null});genreMedianRating=g(()=>{let t=this.primaryGenreFilms().filter(m=>m.voteAverage>0);if(t.length<10)return null;let e=t.map(m=>m.voteAverage).sort((m,C)=>m-C),n=Math.floor(e.length/2);return(e.length%2===0?(e[n-1]+e[n])/2:e[n]).toFixed(1)});genreStreamablePct=g(()=>{let t=this.primaryGenreFilms();if(t.length<10)return null;let e=Math.round(t.filter(n=>n.isStreamable).length/t.length*100);return e>0&&e<100?e:null});yearDecade=g(()=>{let t=this.summary();return t?Math.floor(t.year/10)*10:0});yearPeers=g(()=>{let t=this.summary();return t?this.sameDecadeFilms().filter(e=>e.year===t.year).length:0});ratingPercentile=g(()=>{let t=this.summary();if(!t||t.voteAverage===0)return null;let e=this.ratedMovies();if(e.length<10)return null;let n=e.filter(m=>m.voteAverage>t.voteAverage).length,l=Math.round(n/e.length*100);return l<=5?"Top 5%":l<=10?"Top 10%":l<=25?"Top 25%":null});directorFilms=g(()=>{let t=this.summary();return!t||t.directors.length===0?[]:this.primaryDirFilms().filter(e=>e.id!==t.id).sort((e,n)=>n.voteAverage-e.voteAverage).slice(0,8)});genreDirectorCount=g(()=>{let t=this.primaryGenreFilms();if(t.length<10)return null;let e=new Set;for(let n of t)for(let l of n.directors)e.add(l);return e.size>=5?e.size:null});onKeydown(t){if(!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)&&(t.key==="j"||t.key==="k")){let e=this.catalogService.movies(),n=e.findIndex(m=>m.id===this.id());if(n===-1)return;let l=t.key==="j"?n+1:n-1;l>=0&&l<e.length&&this.router.navigate(["/movie",e[l].id])}}async ngOnInit(){await this.catalogService.load();let t=this.catalogService.movies().find(n=>n.id===this.id());if(!t){this.loading.set(!1),this.titleService.setTitle("Film Not Found \u2014 BW Cinema");return}this.titleService.setTitle(`${t.title} (${t.year}) \u2014 BW Cinema`),this.recentlyViewed.add(t.id),this.summary.set(t);let e=this.streaming.getSource(t.internetArchiveId,t.youtubeId);this.streamingUrl.set(e?.embedUrl??null),this.updateMetaTags(t);try{let n=await this.movieService.getDetail(t);this.movie.set(n)}catch{this.movie.set(J(X({},t),{overview:"",runtime:null,tagline:"",backdropUrl:null,cast:[],crew:[],tmdbRating:t.voteAverage,imdbRating:null,rottenTomatoesRating:null,metacriticRating:null,releaseDate:"",originalLanguage:"",productionCountries:[]}))}this.loading.set(!1)}addToWatchlist(t){this.collection.addToWatchlist(t),this.notifications.show("Added to watchlist","success")}removeFromWatchlist(t){this.collection.removeFromWatchlist(t),this.notifications.show("Removed from watchlist","info")}markWatched(t){this.collection.markWatched(t),this.notifications.show("Marked as watched","success")}onRate(t,e){this.collection.setRating(t,e),this.notifications.show(`Rated ${e} star${e!==1?"s":""}`,"success")}getUserRating(t){return this.collection.watched().find(n=>n.movieId===t)?.userRating??0}toggleFavorite(t){this.collection.toggleFavorite(t);let e=this.collection.isFavorite(t)?"Added to favorites":"Removed from favorites";this.notifications.show(e,"success")}onNoteChange(t,e){let n=e.target.value;this.collection.setNote(t,n)}onReviewSave(t,e){let n=e.target.value;this.collection.setReview(t,n),this.reviewEditing.set(!1),n.trim()&&this.notifications.show("Review saved","success")}updateMetaTags(t){let e=`${t.title} (${t.year}) \u2014 ${t.directors.join(", ")}. ${t.genres.join(", ")}. Watch classic B&W cinema on BW Cinema.`;this.metaService.updateTag({property:"og:title",content:`${t.title} (${t.year}) \u2014 BW Cinema`}),this.metaService.updateTag({property:"og:description",content:e}),this.metaService.updateTag({name:"twitter:title",content:`${t.title} (${t.year}) \u2014 BW Cinema`}),this.metaService.updateTag({name:"twitter:description",content:e}),this.metaService.updateTag({name:"description",content:e}),this.metaService.updateTag({property:"og:url",content:window.location.href}),t.posterUrl&&(this.metaService.updateTag({property:"og:image",content:t.posterUrl}),this.metaService.updateTag({name:"twitter:image",content:t.posterUrl}))}addToPlaylist(t,e){this.collection.addToPlaylist(t,e);let n=this.collection.playlists().find(l=>l.id===t);this.notifications.show(`Added to ${n?.name??"playlist"}`,"success"),this.playlistMenuOpen.set(!1)}shareTwitter(t){let e=window.location.href,n=`${t.title} (${t.year}) \u2014 Watch classic B&W cinema`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(n)}&url=${encodeURIComponent(e)}`,"_blank","noopener,width=550,height=420"),this.shareMenuOpen.set(!1)}shareFacebook(t){let e=window.location.href;window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,"_blank","noopener,width=550,height=420"),this.shareMenuOpen.set(!1)}async copyLink(){await navigator.clipboard.writeText(window.location.href),this.notifications.show("Link copied to clipboard","info"),this.shareMenuOpen.set(!1)}goBack(){this.location.back()}encodeTitle(t){return encodeURIComponent(t)}static LANG_NAMES={en:"English",fr:"French",de:"German",ja:"Japanese",it:"Italian",es:"Spanish",ru:"Russian",sv:"Swedish",da:"Danish",no:"Norwegian",pt:"Portuguese",nl:"Dutch",zh:"Chinese",ko:"Korean",pl:"Polish",cs:"Czech",hu:"Hungarian",fi:"Finnish",el:"Greek",ro:"Romanian",tr:"Turkish",ar:"Arabic",hi:"Hindi",bn:"Bengali",th:"Thai",he:"Hebrew",uk:"Ukrainian",fa:"Persian",id:"Indonesian",nb:"Norwegian",sh:"Serbo-Croatian",sr:"Serbian",hr:"Croatian",sk:"Slovak",bg:"Bulgarian",ka:"Georgian",vi:"Vietnamese",ta:"Tamil",te:"Telugu",mr:"Marathi",ml:"Malayalam",kn:"Kannada",is:"Icelandic",ca:"Catalan",eu:"Basque",cn:"Chinese",af:"Afrikaans",cy:"Welsh",ga:"Irish",gl:"Galician"};languageName(t){return i.LANG_NAMES[t]??t.toUpperCase()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=D({type:i,selectors:[["app-movie"]],hostBindings:function(e,n){e&1&&M("keydown",function(m){return n.onKeydown(m)},Q)},inputs:{id:[1,"id"]},decls:3,vars:1,consts:[[1,"detail"],[1,"container","detail__not-found"],["aria-label","Go back",1,"detail__back",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","15 18 9 12 15 6"],[1,"detail__hero"],[1,"detail__backdrop",3,"background-image"],[1,"detail__hero-gradient"],[1,"detail__content","container"],[1,"detail__layout"],[1,"detail__poster"],[3,"src","alt"],[1,"detail__poster-placeholder"],[1,"detail__info"],[1,"detail__title"],[1,"detail__rank"],[1,"detail__percentile"],[1,"detail__sub-ranks"],[1,"detail__sub-rank",3,"routerLink"],[1,"detail__sub-rank"],[1,"detail__meta"],[1,"detail__meta-item",3,"title"],[1,"detail__tagline"],[1,"detail__overview"],[1,"detail__ratings"],[1,"detail__actions"],[1,"btn-primary","detail__watch-btn",3,"routerLink"],["target","_blank","rel","noopener",1,"btn-secondary","detail__watch-btn","detail__imdb-btn",3,"href"],["target","_blank","rel","noopener",1,"btn-secondary","detail__watch-btn",3,"href"],[1,"btn-ghost","detail__fav-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor","stroke","currentColor","stroke-width","1"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"btn-secondary"],[1,"btn-secondary","detail__active-btn"],[1,"detail__playlist-wrap"],[1,"detail__share-wrap"],["aria-label","Share this film",1,"btn-ghost","detail__share-btn",3,"click"],["cx","18","cy","5","r","3"],["cx","6","cy","12","r","3"],["cx","18","cy","19","r","3"],["x1","8.59","y1","13.51","x2","15.42","y2","17.49"],["x1","15.41","y1","6.51","x2","8.59","y2","10.49"],[1,"detail__share-menu"],[1,"detail__user-rating"],[1,"detail__notes"],[1,"detail__review"],[1,"detail__details"],[1,"detail__available"],[1,"detail__context"],["appReveal","",1,"detail__cast-section"],["appReveal","","aria-label","More by director",1,"detail__similar"],["appReveal","","aria-label","Similar films",1,"detail__similar"],[1,"detail__backdrop"],[1,"detail__poster-title"],[1,"detail__poster-year"],[1,"detail__meta-sep"],[1,"detail__meta-item","detail__meta-link",3,"routerLink"],[1,"detail__meta-item"],[1,"detail__rating-card"],[1,"detail__rating-source"],[1,"detail__rating-score"],[3,"rating"],["d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"],[1,"btn-secondary",3,"click"],[1,"btn-secondary","detail__active-btn",3,"click"],[1,"btn-ghost","detail__playlist-btn",3,"click"],[1,"detail__share-option"],[1,"detail__share-option",3,"click"],["aria-label","Share on Twitter / X",1,"detail__share-option",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["aria-label","Share on Facebook",1,"detail__share-option",3,"click"],["d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],["aria-label","Copy link to clipboard",1,"detail__share-option",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],[1,"detail__user-rating-label"],[3,"rated","rating","interactive"],["for","film-notes",1,"detail__notes-label"],["id","film-notes","placeholder","Add your thoughts about this film...","rows","3",1,"detail__notes-input",3,"blur","value"],["for","film-review",1,"detail__notes-label"],[1,"detail__review-display"],[1,"btn-secondary","detail__review-start"],[1,"detail__review-text"],[1,"btn-ghost","detail__review-edit",3,"click"],[1,"btn-secondary","detail__review-start",3,"click"],["id","film-review","placeholder","Share your thoughts on this film. What made it memorable?","rows","5",1,"detail__notes-input","detail__review-input",3,"blur","value"],[1,"detail__review-hint"],[1,"detail__detail-row"],[1,"detail__detail-label"],[1,"detail__director-count"],[3,"routerLink"],[1,"detail__tags"],[1,"detail__tag",3,"routerLink"],[3,"routerLink","queryParams"],[1,"detail__available-label"],["target","_blank","rel","noopener",1,"detail__source-badge","detail__source-badge--ia",3,"href"],["target","_blank","rel","noopener",1,"detail__source-badge","detail__source-badge--yt",3,"href"],["target","_blank","rel","noopener",1,"detail__source-badge","detail__source-badge--imdb",3,"href"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M4 19.5A2.5 2.5 0 0 1 6.5 17H20"],["d","M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"],["width","14","height","14","viewBox","0 0 24 24","fill","currentColor"],["d","M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.546 12 3.546 12 3.546s-7.505 0-9.377.504A3.016 3.016 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.504 9.376.504 9.376.504s7.505 0 9.377-.504a3.016 3.016 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"],[1,"detail__context-chip"],[1,"detail__section-note"],[1,"detail__cast"],[1,"cast-card",3,"routerLink"],["loading","lazy",3,"src","alt"],[1,"cast-card__placeholder"],[1,"cast-card__name"],[1,"cast-card__character"],[1,"detail__section-header"],[1,"detail__section-link",3,"routerLink"],[1,"detail__carousel-card",3,"routerLink"],[1,"detail__carousel-poster-wrap"],[1,"detail__carousel-placeholder"],["title","Watched",1,"detail__carousel-badge","detail__carousel-badge--watched"],["title","In watchlist",1,"detail__carousel-badge","detail__carousel-badge--watchlist"],[1,"detail__carousel-title"],[1,"detail__carousel-meta"],[1,"detail__carousel-reason"],[1,"text-secondary"],["routerLink","/browse",1,"btn-primary"]],template:function(e,n){if(e&1&&s(0,Ae,1,0,"app-skeleton-detail")(1,di,64,37,"div",0)(2,ci,7,0,"div",1),e&2){let l;_(n.loading()?0:(l=n.movie())?1:2,l)}},dependencies:[_e,G,H,ue,Ce,j],styles:[".detail__back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;position:absolute;top:var(--space-md);left:var(--space-lg);z-index:10;padding:6px 14px 6px 8px;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.15);border-radius:20px;color:var(--text-secondary);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.detail__back[_ngcontent-%COMP%]:hover{background:#000000b3;color:var(--text-primary);border-color:var(--accent-gold)}.detail[_ngcontent-%COMP%]{position:relative}.detail__hero[_ngcontent-%COMP%]{position:relative;height:350px;overflow:hidden}.detail__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background-size:cover;background-position:center top;opacity:.4}.detail__hero-gradient[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,transparent 30%,var(--bg-deep) 100%)}.detail__content[_ngcontent-%COMP%]{position:relative;margin-top:-120px;padding-bottom:var(--space-2xl)}.detail__layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr;gap:var(--space-xl)}.detail__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:var(--radius-lg);box-shadow:var(--shadow-poster)}.detail__poster-placeholder[_ngcontent-%COMP%]{width:100%;aspect-ratio:2 / 3;background:linear-gradient(170deg,#1a1a1a,#222 40%,#1a1a1a);border-radius:var(--radius-lg);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-sm);box-shadow:var(--shadow-poster);font-family:var(--font-heading)}.detail__poster-title[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem;text-align:center;padding:0 var(--space-md)}.detail__poster-year[_ngcontent-%COMP%]{color:var(--accent-gold);font-size:1.6rem;font-weight:700;opacity:.5}.detail__rank[_ngcontent-%COMP%]{display:inline-block;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:var(--accent-gold);background:var(--accent-gold-dim);padding:2px 10px;border-radius:10px;margin-bottom:var(--space-sm)}.detail__percentile[_ngcontent-%COMP%]{display:inline-block;font-size:.7rem;font-weight:700;color:var(--text-primary);background:var(--bg-raised);border:1px solid var(--border-bright);padding:2px 8px;border-radius:10px;margin-left:var(--space-xs);margin-bottom:var(--space-sm);vertical-align:middle}.detail__sub-ranks[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap;margin-bottom:var(--space-sm)}.detail__sub-rank[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:var(--text-tertiary);background:var(--bg-raised);border:1px solid var(--border);padding:1px 8px;border-radius:10px;text-decoration:none;transition:color .2s,border-color .2s}.detail__sub-rank[_ngcontent-%COMP%]:hover{color:var(--accent-gold);border-color:var(--accent-gold)}.detail__title[_ngcontent-%COMP%]{font-size:2.2rem;margin-bottom:var(--space-sm)}.detail__meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);color:var(--text-secondary);font-size:1rem;margin-bottom:var(--space-lg)}.detail__meta-sep[_ngcontent-%COMP%]{color:var(--text-tertiary)}.detail__meta-link[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none}.detail__meta-link[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.detail__tagline[_ngcontent-%COMP%]{font-style:italic;color:var(--accent-cream);font-size:1.05rem;margin:0 0 var(--space-md);opacity:.85}.detail__overview[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.8;margin:0 0 var(--space-xl);font-size:.95rem}.detail__ratings[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);margin-bottom:var(--space-xl);flex-wrap:wrap}.detail__rating-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md) var(--space-lg);min-width:80px}.detail__rating-source[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text-tertiary);font-weight:600}.detail__rating-score[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:var(--accent-gold);font-family:var(--font-heading)}.detail__actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);flex-wrap:wrap;margin-bottom:var(--space-xl)}.detail__watch-btn[_ngcontent-%COMP%]{padding:var(--space-md) var(--space-xl);font-size:1rem;border-radius:var(--radius-lg);display:inline-block}.detail__active-btn[_ngcontent-%COMP%]{border-color:var(--accent-gold);color:var(--accent-gold)}.detail__details[_ngcontent-%COMP%]{margin-bottom:var(--space-lg)}.detail__detail-row[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);padding:var(--space-sm) 0;border-bottom:1px solid var(--border);font-size:.95rem}.detail__detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail__detail-label[_ngcontent-%COMP%]{color:var(--text-tertiary);min-width:90px;flex-shrink:0;font-size:.85rem;text-transform:uppercase;padding-top:2px}.detail__director-count[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);margin-left:4px}.detail__tags[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap}.detail__tag[_ngcontent-%COMP%]{background-color:var(--bg-raised);border:1px solid var(--border);border-radius:14px;padding:2px 12px;font-size:.85rem;color:var(--text-secondary);text-decoration:none;transition:border-color .2s,color .2s,background-color .2s}.detail__tag[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold);background-color:var(--accent-gold-dim)}.detail__available[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);flex-wrap:wrap}.detail__available-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.05em;font-weight:600}.detail__source-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;border-radius:14px;font-size:.8rem;font-weight:600;text-decoration:none;transition:all .2s;--_c: var(--text-secondary);background:color-mix(in srgb,var(--_c) 12%,transparent);color:var(--_c);border:1px solid color-mix(in srgb,var(--_c) 30%,transparent)}.detail__source-badge[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--_c) 22%,transparent);border-color:var(--_c)}.detail__source-badge--ia[_ngcontent-%COMP%]{--_c: rgb(25, 135, 84)}.detail__source-badge--yt[_ngcontent-%COMP%]{--_c: rgb(220, 50, 50)}.detail__source-badge--imdb[_ngcontent-%COMP%]{--_c: #f5c518}.detail__cast-section[_ngcontent-%COMP%]{margin-top:var(--space-2xl);padding-top:var(--space-xl);border-top:1px solid var(--border)}.detail__cast[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:var(--space-md)}.cast-card[_ngcontent-%COMP%]{text-align:center;text-decoration:none;color:inherit}@media(hover:hover)and (pointer:fine){.cast-card[_ngcontent-%COMP%]{transition:transform .2s}.cast-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}}.cast-card[_ngcontent-%COMP%]:hover   .cast-card__name[_ngcontent-%COMP%]{color:var(--accent-gold)}.cast-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;object-fit:cover;margin-bottom:var(--space-sm);box-shadow:var(--shadow-sm)}.cast-card__placeholder[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;background-color:var(--bg-raised);margin:0 auto var(--space-sm)}.cast-card__name[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;margin:0 0 2px;color:var(--text-primary)}.cast-card__character[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:0}.detail__playlist-wrap[_ngcontent-%COMP%], .detail__share-wrap[_ngcontent-%COMP%]{position:relative}.detail__playlist-btn[_ngcontent-%COMP%]{font-size:.9rem}.detail__share-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;font-size:.9rem}.detail__share-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:4px;background:var(--bg-surface);border:1px solid var(--border-bright);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);z-index:20;min-width:160px;padding:var(--space-xs)}.detail__share-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);width:100%;padding:var(--space-sm) var(--space-md);background:none;border:none;color:var(--text-secondary);font-size:.9rem;cursor:pointer;border-radius:var(--radius);min-height:40px}.detail__share-option[_ngcontent-%COMP%]:hover{background:var(--bg-hover);color:var(--text-primary)}.detail__fav-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:48px;min-height:48px;padding:0;color:var(--text-tertiary);transition:color .2s,transform .2s}.detail__fav-btn[_ngcontent-%COMP%]:hover, .detail__fav-btn--active[_ngcontent-%COMP%]{color:#e53e3e}.detail__fav-btn--active[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.detail__notes[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.detail__notes-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary);font-weight:600;margin-bottom:var(--space-sm)}.detail__notes-input[_ngcontent-%COMP%]{width:100%;padding:var(--space-md);background-color:var(--bg-surface);color:var(--text-primary);border:1px solid var(--border);border-radius:var(--radius-lg);font:.95rem/1.6 var(--font-body);resize:vertical;min-height:80px}.detail__notes-input[_ngcontent-%COMP%]:focus{border-color:var(--accent-gold);outline:none}.detail__user-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);margin-bottom:var(--space-xl);padding:var(--space-md) var(--space-lg);background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg)}.detail__user-rating-label[_ngcontent-%COMP%]{font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary);font-weight:600}.detail__section-header[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;margin-bottom:var(--space-sm)}.detail__section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.detail__section-link[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.detail__section-note[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:var(--text-tertiary)}.detail__similar[_ngcontent-%COMP%]{margin-top:var(--space-2xl);padding-top:var(--space-xl);border-top:1px solid var(--border)}.detail__carousel-card[_ngcontent-%COMP%]{flex:0 0 140px;scroll-snap-align:start;text-decoration:none;color:var(--text-primary)}@media(hover:hover)and (pointer:fine){.detail__carousel-card[_ngcontent-%COMP%]{transition:transform .2s}.detail__carousel-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}}.detail__carousel-poster-wrap[_ngcontent-%COMP%]{position:relative}.detail__carousel-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:2 / 3;object-fit:cover;border-radius:var(--radius);margin-bottom:var(--space-xs)}.detail__carousel-badge[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700}.detail__carousel-badge--watched[_ngcontent-%COMP%]{background:#d4af37e6;color:var(--bg-deep)}.detail__carousel-badge--watchlist[_ngcontent-%COMP%]{background:#0009;color:var(--accent-gold);border:1px solid var(--accent-gold)}.detail__carousel-placeholder[_ngcontent-%COMP%]{width:100%;aspect-ratio:2 / 3;background:var(--bg-raised);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;padding:var(--space-sm);margin-bottom:var(--space-xs);font-size:.75rem;color:var(--text-tertiary)}.detail__carousel-title[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.detail__carousel-meta[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:0}.detail__carousel-reason[_ngcontent-%COMP%]{font-size:.65rem;color:var(--accent-gold);margin:2px 0 0;opacity:.85;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.detail__context[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-xs);margin-bottom:var(--space-xl)}.detail__context-chip[_ngcontent-%COMP%]{font-size:.75rem;padding:4px 12px;border-radius:14px;background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);white-space:nowrap}.detail__not-found[_ngcontent-%COMP%]{padding:var(--space-3xl) 0;text-align:center}.detail__review[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.detail__review-display[_ngcontent-%COMP%]{background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md) var(--space-lg)}.detail__review-text[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.8;font-size:.95rem;margin:0 0 var(--space-sm);white-space:pre-wrap}.detail__review-edit[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary)}.detail__review-edit[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.detail__review-start[_ngcontent-%COMP%]{font-size:.9rem}.detail__review-input[_ngcontent-%COMP%]{min-height:120px}.detail__review-hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:var(--space-xs) 0 0}.detail__imdb-btn[_ngcontent-%COMP%]{border-color:#f5c51880;color:#f5c518}.detail__imdb-btn[_ngcontent-%COMP%]:hover{background-color:#f5c5181a;border-color:#f5c518}@media(max-width:768px){.detail__hero[_ngcontent-%COMP%]{height:220px}.detail__content[_ngcontent-%COMP%]{margin-top:-60px}.detail__layout[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--space-lg)}.detail__poster[_ngcontent-%COMP%]{max-width:200px;margin:0 auto}.detail__title[_ngcontent-%COMP%]{font-size:1.8rem}.detail__actions[_ngcontent-%COMP%]{width:100%}.detail__watch-btn[_ngcontent-%COMP%]{flex:1;text-align:center}}@media(max-width:480px){.detail__poster[_ngcontent-%COMP%]{max-width:150px}.detail__title[_ngcontent-%COMP%]{font-size:1.5rem}.detail__ratings[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-sm)}.detail__rating-card[_ngcontent-%COMP%]{flex-direction:row;gap:var(--space-md);min-width:auto;padding:var(--space-sm) var(--space-md)}.detail__overview[_ngcontent-%COMP%]{font-size:.9rem}}"],changeDetection:0})};export{be as MovieComponent};
