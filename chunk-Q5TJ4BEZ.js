import{a as ve}from"./chunk-M7JVISF6.js";import{a as Ce,b as fe}from"./chunk-TWPBZPC6.js";import{a as ue}from"./chunk-2THIRR2Y.js";import{a as pe}from"./chunk-VYUST5ET.js";import"./chunk-JVUEOQ2T.js";import{a as ge}from"./chunk-U6UKIARX.js";import{$ as _,$a as me,Aa as f,Ba as E,Da as re,Ea as le,F as I,Fa as de,Ja as S,K as ne,Ma as g,O as a,Oa as ce,R as ie,Z as oe,_ as m,_a as se,ba as ae,ca as T,da as P,ea as h,fa as r,fb as _e,ga as o,ha as M,la as k,na as D,pa as v,v as w,va as N,wa as O,x as b,y,ya as d,za as p}from"./chunk-SA65F7OW.js";var he=n=>["/decade",n],Me=n=>["/movie",n],Se=n=>["/genre",n],be=n=>["/director",n],De=(n,e)=>e.decade,ye=(n,e)=>e.name;function Ee(n,e){if(n&1){let t=k();r(0,"div",0)(1,"div",1)(2,"p"),d(3),o(),r(4,"button",2),D("click",function(){b(t);let l=v();return y(l.catalog.retry())}),d(5,"Try Again"),o()()()}n&2&&(a(3),p(e))}function we(n,e){n&1&&(r(0,"div",0),M(1,"app-skeleton-grid",3),o()),n&2&&(a(),h("count",6))}function Te(n,e){if(n&1&&(r(0,"p",8),d(1),o()),n&2){let t=v(2);a(),p(t.notableFact())}}function Pe(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Languages"),o()()),n&2){let t=v(3);a(2),p(t.languageCount())}}function Fe(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4),o()()),n&2){let t=e;a(2),p(t.year),a(2),f("Peak Year (",t.count,")")}}function Ie(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Primary Genre"),o()()),n&2&&(a(2),p(e))}function ke(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"vs Catalog Avg"),o()()),n&2){let t=e;a(),O("director__stat-value--positive",t.startsWith("+")),a(),p(t)}}function Oe(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Avg Year"),o()()),n&2){let t=v(4);a(2),p(t.avgYear())}}function Ne(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Longest Gap"),o()()),n&2&&(a(2),f("",e,"yr"))}function Ae(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Streamable"),o()()),n&2&&(a(2),f("",e,"%"))}function Re(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Rating Range"),o()()),n&2&&(a(2),p(e))}function ze(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Solo Directed"),o()()),n&2&&(a(2),f("",e,"%"))}function Le(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Film Age (yrs)"),o()()),n&2&&(a(2),p(e))}function Ge(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Genres"),o()()),n&2){let t=v(4);a(2),p(t.uniqueGenreCount())}}function Ye(n,e){if(n&1&&(r(0,"a",26)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Latest Film"),o()()),n&2){let t=e;h("routerLink",S(2,he,t.decade)),a(2),p(t.year)}}function Ve(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Avg Film Age (yrs)"),o()()),n&2){let t=v(4);a(2),p(t.avgFilmAge())}}function $e(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Co-directed"),o()()),n&2){let t=v(4);a(2),p(t.coDirectedFilmCount())}}function We(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Non-English"),o()()),n&2){let t=v(4);a(2),p(t.nonEnglishFilmCount())}}function Be(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Median Rating"),o()()),n&2&&(a(2),p(e))}function qe(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Silent Era"),o()()),n&2&&(a(2),p(e))}function je(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Median Year"),o()()),n&2&&(a(2),p(e))}function He(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Avg Title Length"),o()()),n&2&&(a(2),p(e))}function Ue(n,e){n&1&&(r(0,"div",11)(1,"span",27),d(2),o(),r(3,"span",13),d(4,"Longest Title"),o()()),n&2&&(a(2),p(e))}function Je(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Rated 7.0+"),o()()),n&2&&(a(2),p(e))}function Ke(n,e){n&1&&(r(0,"div",11)(1,"span",27),d(2),o(),r(3,"span",13),d(4,"Shortest Title"),o()()),n&2&&(a(2),p(e))}function Qe(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Free & Rated 7+"),o()()),n&2){let t=v(4);a(2),p(t.streamableHighRatedCount())}}function Xe(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Avg Films/Decade"),o()()),n&2&&(a(2),p(e))}function Ze(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Top Genre"),o()()),n&2&&(a(2),f("",e,"%"))}function et(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Avg Genres/Film"),o()()),n&2&&(a(2),p(e))}function tt(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"IMDb Linked"),o()()),n&2&&(a(2),f("",e,"%"))}function nt(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"On YouTube"),o()()),n&2&&(a(2),p(e))}function it(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Non-English"),o()()),n&2&&(a(2),f("",e,"%"))}function ot(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"On IA"),o()()),n&2&&(a(2),p(e))}function at(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Newest Free"),o()()),n&2&&(a(2),p(e))}function rt(n,e){n&1&&(r(0,"div",11)(1,"span",28),d(2),o(),r(3,"span",13),d(4,"Earliest Film"),o()()),n&2&&(a(2),p(e))}function lt(n,e){n&1&&(r(0,"div",11)(1,"span",28),d(2),o(),r(3,"span",13),d(4,"Latest Film"),o()()),n&2&&(a(2),p(e))}function dt(n,e){if(n&1&&(r(0,"a",26)(1,"span",12),d(2),o(),r(3,"span",13),d(4),o()()),n&2){let t=e;h("routerLink",S(3,he,t.decade)),a(2),f("",t.decade,"s"),a(2),f("Best Decade (",t.avg,")")}}function ct(n,e){n&1&&(r(0,"div",11)(1,"span",28),d(2),o(),r(3,"span",13),d(4,"Highest Rated"),o()()),n&2&&(a(2),p(e))}function st(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Avg Gap Between Films"),o()()),n&2&&(a(2),f("",e," yr"))}function mt(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Languages"),o()()),n&2&&(a(2),p(e))}function _t(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Pre-1940"),o()()),n&2){let t=v(4);a(2),p(t.preWarFilmCount())}}function gt(n,e){if(n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"IMDb Linked"),o()()),n&2){let t=v(4);a(2),p(t.imdbLinkedCount())}}function pt(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Median \u2605"),o()()),n&2&&(a(2),p(e))}function ut(n,e){n&1&&(r(0,"div",11)(1,"span",12),d(2),o(),r(3,"span",13),d(4,"Have Posters"),o()()),n&2&&(a(2),f("",e,"%"))}function vt(n,e){if(n&1&&(m(0,Oe,5,1,"div",11),m(1,Ne,5,1,"div",11),m(2,Ae,5,1,"div",11),m(3,Re,5,1,"div",11),m(4,ze,5,1,"div",11),m(5,Le,5,1,"div",11),m(6,Ge,5,1,"div",11),m(7,Ye,5,4,"a",26),m(8,Ve,5,1,"div",11),m(9,$e,5,1,"div",11),m(10,We,5,1,"div",11),m(11,Be,5,1,"div",11),m(12,qe,5,1,"div",11),m(13,je,5,1,"div",11),m(14,He,5,1,"div",11),m(15,Ue,5,1,"div",11),m(16,Je,5,1,"div",11),m(17,Ke,5,1,"div",11),m(18,Qe,5,1,"div",11),m(19,Xe,5,1,"div",11),m(20,Ze,5,1,"div",11),m(21,et,5,1,"div",11),m(22,tt,5,1,"div",11),m(23,nt,5,1,"div",11),m(24,it,5,1,"div",11),m(25,ot,5,1,"div",11),m(26,at,5,1,"div",11),m(27,rt,5,1,"div",11),m(28,lt,5,1,"div",11),m(29,dt,5,5,"a",26),m(30,ct,5,1,"div",11),m(31,st,5,1,"div",11),m(32,mt,5,1,"div",11),m(33,_t,5,1,"div",11),m(34,gt,5,1,"div",11),m(35,pt,5,1,"div",11),m(36,ut,5,1,"div",11)),n&2){let t,i,l,c,s,C,x,F,A,R,z,L,G,Y,V,$,W,B,q,j,H,U,J,K,Q,X,Z,ee,te,u=v(3);_(u.avgYear()?0:-1),a(),_((t=u.longestGap())?1:-1,t),a(),_((i=u.streamablePct())?2:-1,i),a(),_((l=u.ratingsSpread())?3:-1,l),a(),_((c=u.soloDirectedPct())?4:-1,c),a(),_((s=u.filmAgeRange())?5:-1,s),a(),_(u.uniqueGenreCount()>2?6:-1),a(),_((C=u.newestFilmYear())?7:-1,C),a(),_(u.avgFilmAge()>0?8:-1),a(),_(u.coDirectedFilmCount()>0?9:-1),a(),_(u.nonEnglishFilmCount()>0?10:-1),a(),_((x=u.medianRating())?11:-1,x),a(),_((F=u.silentEraCount())?12:-1,F),a(),_((A=u.medianYear())?13:-1,A),a(),_((R=u.avgTitleLength())?14:-1,R),a(),_((z=u.longestTitle())?15:-1,z),a(),_((L=u.highlyRatedCount())?16:-1,L),a(),_((G=u.shortestTitle())?17:-1,G),a(),_(u.streamableHighRatedCount()>0?18:-1),a(),_((Y=u.avgFilmsPerDecade())?19:-1,Y),a(),_((V=u.genreConsistencyPct())?20:-1,V),a(),_(($=u.avgGenreCount())?21:-1,$),a(),_((W=u.imdbLinkedPct())?22:-1,W),a(),_((B=u.ytStreamableCount())?23:-1,B),a(),_((q=u.nonEnglishPct())?24:-1,q),a(),_((j=u.iaStreamableCount())?25:-1,j),a(),_((H=u.streamableNewestYear())?26:-1,H),a(),_((U=u.earliestFilmTitle())?27:-1,U),a(),_((J=u.latestFilmTitle())?28:-1,J),a(),_((K=u.bestDecade())?29:-1,K),a(),_((Q=u.highestRatedTitle())?30:-1,Q),a(),_((X=u.avgFilmGap())?31:-1,X),a(),_((Z=u.uniqueLanguageCount())?32:-1,Z),a(),_(u.preWarFilmCount()>0?33:-1),a(),_(u.imdbLinkedCount()>0?34:-1),a(),_((ee=u.medianRating())?35:-1,ee),a(),_((te=u.posterCoveragePct())?36:-1,te)}}function Ct(n,e){if(n&1&&M(0,"img",30),n&2){let t=v();h("src",t.posterUrl,ne)("alt",t.title)}}function ft(n,e){if(n&1&&(r(0,"div",31),d(1),o()),n&2){let t=v();a(),p(t.title[0])}}function xt(n,e){if(n&1&&(r(0,"span",36),d(1),o()),n&2){let t=v();a(),f("\u2605 ",t.voteAverage.toFixed(1))}}function ht(n,e){if(n&1&&(r(0,"div",15)(1,"a",29),m(2,Ct,1,2,"img",30)(3,ft,2,1,"div",31),r(4,"div",32)(5,"span",33),d(6,"Best Rated Film"),o(),r(7,"strong",34),d(8),o(),r(9,"span",35),d(10),o(),m(11,xt,2,1,"span",36),o()()()),n&2){let t=e;a(),h("routerLink",S(6,Me,t.id)),a(),_(t.posterUrl?2:3),a(6),p(t.title),a(2),E("",t.year," \xB7 ",t.genres.slice(0,2).join(", ")),a(),_(t.voteAverage>0?11:-1)}}function bt(n,e){if(n&1&&(r(0,"a",37),d(1),o()),n&2){let t=e.$implicit;h("routerLink",S(2,Se,t)),a(),p(t)}}function yt(n,e){if(n&1&&(r(0,"div",16),T(1,bt,2,4,"a",37,ae),o()),n&2){let t=v(3);a(),P(t.topGenres())}}function Mt(n,e){if(n&1){let t=k();r(0,"button",44),D("click",function(){b(t);let l=v(4);return y(l.addUnwatchedToWatchlist())}),d(1),o()}if(n&2){let t=v(4);a(),f(" Add ",t.unwatchedFilms().length," unwatched to watchlist ")}}function St(n,e){if(n&1&&(r(0,"div",17)(1,"div",38)(2,"span",39),d(3),o(),r(4,"span",40),d(5),o()(),r(6,"div",41),M(7,"div",42),o(),m(8,Mt,2,1,"button",43),o()),n&2){let t=v(3);a(3),E("",t.watchedCount()," of ",t.films().length," watched"),a(2),f("",t.completionPct(),"%"),a(2),N("width",t.completionPct(),"%"),a(),_(t.unwatchedFilms().length>0?8:-1)}}function Dt(n,e){if(n&1&&M(0,"app-movie-grid",22),n&2){let t=v(3);h("movies",t.sortedFilms())}}function Et(n,e){if(n&1&&M(0,"app-movie-list",22),n&2){let t=v(3);h("movies",t.sortedFilms())}}function wt(n,e){if(n&1&&(r(0,"div",47),M(1,"div",49),r(2,"span",50),d(3),o(),r(4,"span",51),d(5),o()()),n&2){let t=e.$implicit;h("title",t.decade+"s: "+t.count+" film"+(t.count!==1?"s":"")+", avg "+t.avgRating.toFixed(1)),a(),N("height",t.heightPct,"%"),a(2),p(t.count),a(2),f("",t.decade,"s")}}function Tt(n,e){if(n&1&&(r(0,"p",48),d(1,"Peak decade: "),r(2,"strong"),d(3),o(),d(4," \u2014 highest average rating"),o()),n&2){let t=v(4);a(3),f("",t.peakDecade(),"s")}}function Pt(n,e){if(n&1&&(r(0,"div",23)(1,"h2",45),d(2,"Career Arc"),o(),r(3,"div",46),T(4,wt,6,5,"div",47,De),o(),m(6,Tt,5,1,"p",48),o()),n&2){let t=v(3);a(4),P(t.careerTimeline()),a(2),_(t.peakDecade()?6:-1)}}function Ft(n,e){if(n&1&&(r(0,"a",53)(1,"span",54),d(2),o(),r(3,"span",55),d(4),o()()),n&2){let t=e.$implicit;h("routerLink",S(4,be,t.name)),a(2),p(t.name),a(2),E("",t.count," shared film",t.count!==1?"s":"")}}function It(n,e){if(n&1&&(r(0,"div",24)(1,"h2",45),d(2,"Frequent Collaborators"),o(),r(3,"div",52),T(4,Ft,5,6,"a",53,ye),o()()),n&2){let t=v(3);a(4),P(t.collaborators())}}function kt(n,e){if(n&1&&(r(0,"a",53)(1,"span",54),d(2),o(),r(3,"span",55),d(4),o()()),n&2){let t=e.$implicit;h("routerLink",S(4,be,t.name)),a(2),p(t.name),a(2),E("",t.sharedGenres," shared genres \xB7 ",t.count," films")}}function Ot(n,e){if(n&1&&(r(0,"div",25)(1,"h2",45),d(2,"Similar Directors"),o(),r(3,"p",56),d(4,"Directors who work in similar genres"),o(),r(5,"div",52),T(6,kt,5,6,"a",53,ye),o()()),n&2){let t=v(3);a(6),P(t.relatedDirectors())}}function Nt(n,e){if(n&1){let t=k();r(0,"div",10)(1,"div",11)(2,"span",12),d(3),o(),r(4,"span",13),d(5,"Active Years"),o()(),r(6,"div",11)(7,"span",12),d(8),o(),r(9,"span",13),d(10,"Avg. Rating"),o()(),r(11,"div",11)(12,"span",12),d(13),o(),r(14,"span",13),d(15,"Free to Watch"),o()(),r(16,"div",11)(17,"span",12),d(18),o(),r(19,"span",13),d(20,"Decades"),o()(),m(21,Pe,5,1,"div",11),m(22,Fe,5,2,"div",11),m(23,Ie,5,1,"div",11),m(24,ke,5,3,"div",11),r(25,"button",14),D("click",function(){b(t);let l=v(2);return y(l.showMoreStats.set(!l.showMoreStats()))}),d(26),o(),m(27,vt,37,37),o(),m(28,ht,12,8,"div",15),m(29,yt,3,0,"div",16),m(30,St,9,6,"div",17),r(31,"div",18)(32,"div",19)(33,"button",20),D("click",function(){b(t);let l=v(2);return y(l.sortMode.set("rating"))}),d(34,"Top Rated"),o(),r(35,"button",20),D("click",function(){b(t);let l=v(2);return y(l.sortMode.set("chronological"))}),d(36,"Chronological"),o()(),r(37,"app-view-toggle",21),de("modeChange",function(l){b(t);let c=v(2);return le(c.viewMode,l)||(c.viewMode=l),y(l)}),o()(),m(38,Dt,1,1,"app-movie-grid",22)(39,Et,1,1,"app-movie-list",22),m(40,Pt,7,1,"div",23),m(41,It,6,0,"div",24),m(42,Ot,8,0,"div",25)}if(n&2){let t,i,l,c,s=v(2);a(3),p(s.yearRange()),a(5),p(s.avgRating()),a(5),p(s.streamableCount()),a(5),p(s.decadesActive()),a(3),_(s.languageCount()>1?21:-1),a(),_((t=s.prolificYear())?22:-1,t),a(),_((i=s.primaryGenre())?23:-1,i),a(),_((l=s.ratingVsCatalog())?24:-1,l),a(),oe("aria-expanded",s.showMoreStats()),a(),p(s.showMoreStats()?"Less":"More stats"),a(),_(s.showMoreStats()?27:-1),a(),_((c=s.bestFilm())?28:-1,c),a(),_(s.topGenres().length>0?29:-1),a(),_(s.watchedCount()>0||s.unwatchedFilms().length>0?30:-1),a(3),O("director__sort-btn--active",s.sortMode()==="rating"),a(2),O("director__sort-btn--active",s.sortMode()==="chronological"),a(2),re("mode",s.viewMode),a(),_(s.viewMode()==="grid"?38:39),a(2),_(s.careerTimeline().length>1?40:-1),a(),_(s.collaborators().length>0?41:-1),a(),_(s.relatedDirectors().length>0?42:-1)}}function At(n,e){n&1&&(r(0,"div",9)(1,"p"),d(2,"No films found for this director."),o(),r(3,"a",57),d(4,"Browse All Films"),o()())}function Rt(n,e){if(n&1&&(r(0,"div",0)(1,"div",4)(2,"div")(3,"p",5),d(4,"Director"),o(),r(5,"h1",6),d(6),o(),r(7,"p",7),d(8),o(),m(9,Te,2,1,"p",8),o()(),m(10,Nt,43,23)(11,At,5,0,"div",9),o()),n&2){let t=v();a(6),p(t.name()),a(2),E("",t.films().length," film",t.films().length!==1?"s":""," in catalog"),a(),_(t.notableFact()?9:-1),a(),_(t.films().length>0?10:11)}}var xe=class n{showMoreStats=I(!1);name=ce.required();catalog=w(ge);collectionService=w(pe);titleService=w(me);metaService=w(se);viewMode=I("grid");sortMode=I("rating");films=g(()=>this.catalog.movies().filter(e=>e.directors.some(t=>t===this.name())));sortedFilms=g(()=>{let e=[...this.films()];return this.sortMode()==="chronological"?e.sort((t,i)=>t.year-i.year):e.sort((t,i)=>i.voteAverage-t.voteAverage)});collaborators=g(()=>{let e=new Map;for(let t of this.films())for(let i of t.directors)i!==this.name()&&e.set(i,(e.get(i)??0)+1);return[...e.entries()].filter(([,t])=>t>=1).sort((t,i)=>i[1]-t[1]).slice(0,8).map(([t,i])=>({name:t,count:i}))});yearRange=g(()=>{let e=this.films();if(e.length===0)return"\u2014";let t=e.map(c=>c.year),i=Math.min(...t),l=Math.max(...t);return i===l?`${i}`:`${i}\u2013${l}`});avgRating=g(()=>{let e=this.films().filter(t=>t.voteAverage>0);return e.length===0?"\u2014":(e.reduce((t,i)=>t+i.voteAverage,0)/e.length).toFixed(1)});streamableCount=g(()=>this.films().filter(e=>e.isStreamable).length);decadesActive=g(()=>new Set(this.films().map(t=>Math.floor(t.year/10)*10)).size);languageCount=g(()=>{let e=new Set;for(let t of this.films())t.language&&e.add(t.language);return e.size});newestFilmYear=g(()=>{let e=this.films();if(e.length<2)return null;let t=e.reduce((i,l)=>l.year>i.year?l:i);return{year:t.year,decade:Math.floor(t.year/10)*10}});uniqueGenreCount=g(()=>{let e=new Set;for(let t of this.films())for(let i of t.genres)e.add(i);return e.size});primaryGenre=g(()=>{let e=new Map;for(let i of this.films())for(let l of i.genres)e.set(l,(e.get(l)??0)+1);let t=[...e.entries()].sort((i,l)=>l[1]-i[1])[0];return!t||t[1]<2?null:t[0]});avgYear=g(()=>{let e=this.films();return e.length<2?null:Math.round(e.reduce((t,i)=>t+i.year,0)/e.length)});bestDecade=g(()=>{let e=this.films().filter(l=>l.voteAverage>0);if(e.length<4)return null;let t=new Map;for(let l of e){let c=Math.floor(l.year/10)*10,s=t.get(c)??{total:0,count:0};s.total+=l.voteAverage,s.count++,t.set(c,s)}return t.size<2?null:[...t.entries()].filter(([,l])=>l.count>=2).map(([l,c])=>({decade:l,avg:(c.total/c.count).toFixed(1)})).sort((l,c)=>parseFloat(c.avg)-parseFloat(l.avg))[0]??null});ratingVsCatalog=g(()=>{let e=this.films().filter(s=>s.voteAverage>0);if(e.length<3)return null;let t=e.reduce((s,C)=>s+C.voteAverage,0)/e.length,i=this.catalog.movies().filter(s=>s.voteAverage>0);if(i.length===0)return null;let l=i.reduce((s,C)=>s+C.voteAverage,0)/i.length,c=t-l;return Math.abs(c)<.2?null:c>0?`+${c.toFixed(1)}`:c.toFixed(1)});prolificYear=g(()=>{let e=this.films();if(e.length<3)return null;let t=new Map;for(let l of e)t.set(l.year,(t.get(l.year)??0)+1);let i=[...t.entries()].sort((l,c)=>c[1]-l[1])[0];return!i||i[1]<2?null:{year:i[0],count:i[1]}});bestFilm=g(()=>{let e=this.films().filter(t=>t.voteAverage>0);return e.length===0?null:e.reduce((t,i)=>i.voteAverage>t.voteAverage?i:t)});topGenres=g(()=>{let e=new Map;for(let t of this.films())for(let i of t.genres)e.set(i,(e.get(i)??0)+1);return[...e.entries()].sort((t,i)=>i[1]-t[1]).slice(0,6).map(([t])=>t)});notableFact=g(()=>{let e=this.films();if(e.length<2)return null;let t=e.map(x=>x.year),i=Math.max(...t)-Math.min(...t),l=e.filter(x=>x.voteAverage>0),c=l.length>0?l.reduce((x,F)=>x+F.voteAverage,0)/l.length:0,s=e.every(x=>x.isStreamable),C=new Set(e.flatMap(x=>x.genres));return s&&e.length>=3?`All ${e.length} films free to watch`:c>=8&&l.length>=3?`Exceptional average: ${c.toFixed(1)}/10 across ${l.length} rated films`:i>=30?`Career spanning ${i} years`:C.size===1?`Dedicated ${[...C][0]} filmmaker`:e.length>=15?"One of the most prolific directors in catalog":null});careerTimeline=g(()=>{let e=this.films();if(e.length===0)return[];let t=new Map;for(let c of e){let s=Math.floor(c.year/10)*10,C=t.get(s)??{count:0,totalRating:0};C.count++,C.totalRating+=c.voteAverage,t.set(s,C)}let i=[...t.entries()].sort((c,s)=>c[0]-s[0]).map(([c,{count:s,totalRating:C}])=>({decade:c,count:s,avgRating:C/s,heightPct:0})),l=Math.max(...i.map(c=>c.count));for(let c of i)c.heightPct=l>0?Math.round(c.count/l*100):0;return i});peakDecade=g(()=>{let e=this.careerTimeline();return e.length<2?null:e.reduce((i,l)=>l.avgRating>i.avgRating?l:i).decade});relatedDirectors=g(()=>{let e=new Set(this.films().flatMap(l=>l.genres));if(e.size===0)return[];let t=new Set(this.collaborators().map(l=>l.name)),i=new Map;for(let l of this.catalog.movies())for(let c of l.directors){if(c===this.name()||t.has(c))continue;let s=i.get(c)??{genres:new Set,count:0};for(let C of l.genres)s.genres.add(C);s.count++,i.set(c,s)}return[...i.entries()].filter(([,l])=>l.count>=3).map(([l,c])=>{let s=[...c.genres].filter(C=>e.has(C)).length;return{name:l,sharedGenres:s,count:c.count}}).filter(l=>l.sharedGenres>=2).sort((l,c)=>c.sharedGenres-l.sharedGenres||c.count-l.count).slice(0,6)});watchedCount=g(()=>{let e=this.collectionService.watchedIds();return this.films().filter(t=>e.has(t.id)).length});unwatchedFilms=g(()=>{let e=this.collectionService.watchedIds(),t=this.collectionService.watchlistIds();return this.films().filter(i=>!e.has(i.id)&&!t.has(i.id))});completionPct=g(()=>{let e=this.films().length;return e>0?Math.round(this.watchedCount()/e*100):0});longestGap=g(()=>{let e=this.films();if(e.length<3)return null;let t=[...new Set(e.map(l=>l.year))].sort((l,c)=>l-c);if(t.length<2)return null;let i=0;for(let l=1;l<t.length;l++)i=Math.max(i,t[l]-t[l-1]);return i<5?null:i});streamablePct=g(()=>{let e=this.films();if(e.length<2)return null;let t=Math.round(this.streamableCount()/e.length*100);return t===0||t===100?null:t});filmAgeRange=g(()=>{let e=this.films();if(e.length<2)return null;let t=new Date().getFullYear(),i=e.map(s=>s.year),l=t-Math.min(...i),c=t-Math.max(...i);return l===c||c<30?null:`${c}\u2013${l}`});avgFilmAge=g(()=>{let e=this.films();if(e.length<2)return 0;let t=new Date().getFullYear(),i=Math.round(e.reduce((l,c)=>l+(t-c.year),0)/e.length);return i>0?i:0});coDirectedFilmCount=g(()=>{let e=this.films();return e.length<2?0:e.filter(t=>t.directors.length>1).length});nonEnglishFilmCount=g(()=>{let e=this.films();return e.length<2?0:e.filter(t=>t.language&&t.language!=="English"&&t.language!=="en").length});medianRating=g(()=>{let e=this.films().filter(c=>c.voteAverage>0);if(e.length<3)return null;let t=e.map(c=>c.voteAverage).sort((c,s)=>c-s),i=Math.floor(t.length/2);return(t.length%2===0?(t[i-1]+t[i])/2:t[i]).toFixed(1)});soloDirectedPct=g(()=>{let e=this.films();if(e.length<3)return null;let t=e.filter(l=>l.directors.length===1).length,i=Math.round(t/e.length*100);return i===100||i===0?null:i});ratingsSpread=g(()=>{let e=this.films().filter(c=>c.voteAverage>0);if(e.length<3)return null;let t=e.map(c=>c.voteAverage).sort((c,s)=>c-s),i=t[0],l=t[t.length-1];return l-i<2?null:`${i.toFixed(1)}\u2013${l.toFixed(1)}`});silentEraCount=g(()=>{let e=this.films().filter(t=>t.year<1930).length;return e>0?e:null});avgTitleLength=g(()=>{let e=this.films();return e.length<3?null:Math.round(e.reduce((t,i)=>t+i.title.length,0)/e.length)});longestTitle=g(()=>{let e=this.films();if(e.length<3)return null;let t=e.reduce((i,l)=>i.title.length>=l.title.length?i:l);return t.title.length>=15?t.title:null});medianYear=g(()=>{let e=this.films();if(e.length<3)return null;let t=e.map(l=>l.year).sort((l,c)=>l-c),i=Math.floor(t.length/2);return t.length%2===0?Math.round((t[i-1]+t[i])/2):t[i]});highlyRatedCount=g(()=>{let e=this.films();if(e.length<3)return null;let t=e.filter(i=>i.voteAverage>=7).length;return t>0&&t<e.length?t:null});shortestTitle=g(()=>{let e=this.films();if(e.length<3)return null;let t=e.reduce((i,l)=>i.title.length<=l.title.length?i:l);return t.title.length<=15?t.title:null});streamableHighRatedCount=g(()=>this.films().filter(e=>e.isStreamable&&e.voteAverage>=7).length);avgFilmsPerDecade=g(()=>{let e=this.films();if(e.length<4)return null;let t=new Set(e.map(i=>Math.floor(i.year/10)*10));return t.size<2?null:(e.length/t.size).toFixed(1)});highestRatedTitle=g(()=>{let e=this.films().filter(i=>i.voteAverage>0);return e.length<2?null:e.reduce((i,l)=>i.voteAverage>=l.voteAverage?i:l).title});latestFilmTitle=g(()=>{let e=this.films();return e.length<2?null:e.reduce((i,l)=>i.year>=l.year?i:l).title});posterCoveragePct=g(()=>{let e=this.films();if(e.length<3)return null;let t=Math.round(e.filter(i=>i.posterUrl).length/e.length*100);return t>0&&t<100?t:null});imdbLinkedCount=g(()=>{let e=this.films();if(e.length<3)return 0;let t=e.filter(i=>i.imdbId).length;return t>=2?t:0});preWarFilmCount=g(()=>{let e=this.films();if(e.length<3)return 0;let t=e.filter(i=>i.year<1940).length;return t>=2?t:0});uniqueLanguageCount=g(()=>{let e=this.films();if(e.length<3)return null;let t=new Set(e.filter(i=>i.language).map(i=>i.language));return t.size>=2?t.size:null});avgFilmGap=g(()=>{let e=this.films();if(e.length<3)return null;let t=e.map(c=>c.year).sort((c,s)=>c-s),i=[];for(let c=1;c<t.length;c++)i.push(t[c]-t[c-1]);let l=i.reduce((c,s)=>c+s,0)/i.length;return l>=1?l.toFixed(1):null});earliestFilmTitle=g(()=>{let e=this.films();return e.length<2?null:e.reduce((i,l)=>i.year<=l.year?i:l).title});streamableNewestYear=g(()=>{let e=this.films().filter(t=>t.isStreamable);return e.length<2?null:e.reduce((t,i)=>t.year>=i.year?t:i).year});avgGenreCount=g(()=>{let e=this.films();if(e.length<3)return null;let t=e.reduce((i,l)=>i+l.genres.length,0)/e.length;return t>=1.3?t.toFixed(1):null});imdbLinkedPct=g(()=>{let e=this.films();if(e.length<3)return null;let t=Math.round(e.filter(i=>i.imdbId).length/e.length*100);return t>0&&t<100?t:null});ytStreamableCount=g(()=>{let e=this.films();if(e.length<3)return null;let t=e.filter(i=>i.youtubeId).length;return t>0?t:null});nonEnglishPct=g(()=>{let e=this.films();if(e.length<3)return null;let t=Math.round(e.filter(i=>i.language&&i.language!=="en").length/e.length*100);return t>0&&t<100?t:null});iaStreamableCount=g(()=>{let e=this.films();if(e.length<3)return null;let t=e.filter(i=>i.internetArchiveId).length;return t>0?t:null});genreConsistencyPct=g(()=>{let e=this.films();if(e.length<3)return null;let t=new Map;for(let c of e)for(let s of c.genres)t.set(s,(t.get(s)??0)+1);let i=[...t.entries()].sort((c,s)=>s[1]-c[1])[0];if(!i)return null;let l=Math.round(i[1]/e.length*100);return l>=30&&l<100?l:null});ngOnInit(){this.catalog.load(),this.titleService.setTitle(`${this.name()} \u2014 BW Cinema`);let e=`Films directed by ${this.name()} \u2014 explore their classic black-and-white filmography on BW Cinema.`;this.metaService.updateTag({name:"description",content:e}),this.metaService.updateTag({property:"og:description",content:e}),this.metaService.updateTag({name:"twitter:description",content:e})}addUnwatchedToWatchlist(){for(let e of this.unwatchedFilms())this.collectionService.addToWatchlist(e.id)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ie({type:n,selectors:[["app-director"]],inputs:{name:[1,"name"]},decls:3,vars:1,consts:[[1,"director","container"],["role","alert",1,"catalog-error"],[3,"click"],[3,"count"],[1,"director__header"],[1,"director__eyebrow"],[1,"director__name"],[1,"director__meta"],[1,"director__fact"],[1,"director__empty"],[1,"director__stats"],[1,"director__stat"],[1,"director__stat-value"],[1,"director__stat-label"],["aria-label","Toggle additional statistics",1,"director__more-toggle",3,"click"],[1,"director__best-film"],[1,"director__genres"],[1,"director__completion"],[1,"director__view-bar"],[1,"director__sort-btns"],[1,"director__sort-btn",3,"click"],[3,"modeChange","mode"],[3,"movies"],[1,"director__timeline"],[1,"director__collaborators"],[1,"director__related"],[1,"director__stat","director__stat--link",3,"routerLink"],[1,"director__stat-value",2,"font-size","0.7em"],[1,"director__stat-value",2,"font-size","0.75em"],[1,"director__best-film-card",3,"routerLink"],["loading","lazy",1,"director__best-film-poster",3,"src","alt"],[1,"director__best-film-placeholder"],[1,"director__best-film-info"],[1,"director__best-film-label"],[1,"director__best-film-title"],[1,"director__best-film-meta"],[1,"director__best-film-rating"],[1,"director__genre-tag",3,"routerLink"],[1,"director__completion-header"],[1,"director__completion-text"],[1,"director__completion-pct"],[1,"director__completion-track"],[1,"director__completion-fill"],[1,"director__add-unwatched"],[1,"director__add-unwatched",3,"click"],[1,"director__section-title"],[1,"director__timeline-chart"],[1,"director__timeline-bar",3,"title"],[1,"director__timeline-note"],[1,"director__timeline-fill"],[1,"director__timeline-count"],[1,"director__timeline-label"],[1,"director__collab-list"],[1,"director__collab-card",3,"routerLink"],[1,"director__collab-name"],[1,"director__collab-count"],[1,"director__related-desc"],["routerLink","/browse",1,"director__empty-cta"]],template:function(t,i){if(t&1&&m(0,Ee,6,1,"div",0)(1,we,2,1,"div",0)(2,Rt,12,5,"div",0),t&2){let l;_((l=i.catalog.error())?0:i.catalog.loading()?1:2,l)}},dependencies:[_e,ue,Ce,fe,ve],styles:[".director[_ngcontent-%COMP%]{padding:var(--space-xl) 0}.director__header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:var(--space-lg)}.director__eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;font-size:.8rem;font-weight:600;color:var(--accent-gold);margin:0 0 var(--space-xs)}.director__name[_ngcontent-%COMP%]{margin-bottom:var(--space-xs)}.director__meta[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95rem;margin:0}.director__fact[_ngcontent-%COMP%]{font-size:.85rem;font-style:italic;color:var(--accent-gold);margin:var(--space-xs) 0 0}.director__more-toggle[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-tertiary);font-size:.75rem;cursor:pointer;padding:var(--space-xs) 0;opacity:.7;grid-column:1 / -1}.director__more-toggle[_ngcontent-%COMP%]:hover{opacity:1}.director__stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:var(--space-md);margin-bottom:var(--space-xl)}.director__stat[_ngcontent-%COMP%]{background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md);text-align:center}.director__stat-value[_ngcontent-%COMP%]{display:block;font-family:var(--font-heading);font-size:1.5rem;font-weight:700;color:var(--accent-gold);margin-bottom:2px}.director__stat-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary)}.director__stat-value--positive[_ngcontent-%COMP%]{color:#198754}.director__stat--link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;cursor:pointer;transition:border-color .2s}.director__stat--link[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.director__best-film[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.director__best-film-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-lg);padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-xl);text-decoration:none;color:inherit;transition:border-color .2s,box-shadow .2s}.director__best-film-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);box-shadow:var(--shadow-md);color:inherit}.director__best-film-poster[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;object-fit:cover;border-radius:var(--radius);flex-shrink:0}.director__best-film-placeholder[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;background:var(--bg-raised);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-family:var(--font-heading);color:var(--text-tertiary);font-size:1.2rem;flex-shrink:0}.director__best-film-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.director__best-film-label[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;letter-spacing:.1em;color:var(--accent-gold);font-weight:600}.director__best-film-title[_ngcontent-%COMP%]{font-size:1.1rem}.director__best-film-meta[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.director__best-film-rating[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1rem;font-weight:700;color:var(--accent-gold)}.director__genres[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-sm);margin-bottom:var(--space-xl)}.director__genre-tag[_ngcontent-%COMP%]{font-size:.85rem;padding:4px 14px;border:1px solid var(--border-bright);border-radius:16px;color:var(--text-secondary);text-decoration:none;transition:all .2s}.director__genre-tag[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold);background-color:var(--accent-gold-dim)}.director__completion[_ngcontent-%COMP%]{background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md) var(--space-lg);margin-bottom:var(--space-lg)}.director__completion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-sm)}.director__completion-text[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.director__completion-pct[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1.1rem;font-weight:700;color:var(--accent-gold)}.director__completion-track[_ngcontent-%COMP%]{height:8px;background:var(--bg-raised);border-radius:4px;overflow:hidden;margin-bottom:var(--space-sm)}.director__completion-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-gold);border-radius:4px;transition:width .4s ease}.director__add-unwatched[_ngcontent-%COMP%]{background:none;border:none;color:var(--accent-gold);font-size:.85rem;font-weight:600;padding:0;min-height:auto;min-width:auto;cursor:pointer}.director__add-unwatched[_ngcontent-%COMP%]:hover{text-decoration:underline}.director__view-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--space-md);margin-bottom:var(--space-lg)}.director__sort-btns[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap}.director__sort-btn[_ngcontent-%COMP%]{padding:6px 14px;border-radius:var(--radius-lg);background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.director__sort-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.director__sort-btn--active[_ngcontent-%COMP%]{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.director__section-title[_ngcontent-%COMP%]{font-size:1.2rem;margin:var(--space-2xl) 0 var(--space-lg)}.director__collaborators[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding-top:var(--space-lg);margin-top:var(--space-xl)}.director__collab-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-md)}.director__collab-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;transition:all .2s}.director__collab-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:inherit}.director__collab-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.director__collab-count[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);margin-top:2px}.director__timeline[_ngcontent-%COMP%]{margin-bottom:var(--space-xl);border-top:1px solid var(--border);padding-top:var(--space-lg)}.director__timeline-chart[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:var(--space-md);height:120px;padding:var(--space-md) 0}.director__timeline-bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%;position:relative;cursor:default}.director__timeline-fill[_ngcontent-%COMP%]{width:100%;max-width:48px;background:linear-gradient(to top,var(--accent-gold),var(--accent-gold-dim));border-radius:4px 4px 0 0;min-height:4px;transition:height .4s ease}.director__timeline-count[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;color:var(--accent-gold);margin-bottom:2px}.director__timeline-label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-tertiary);margin-top:var(--space-xs)}.director__timeline-note[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);margin-top:var(--space-sm)}.director__related[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding-top:var(--space-lg);margin-top:var(--space-xl)}.director__related-desc[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-tertiary);margin:0 0 var(--space-md)}.director__empty[_ngcontent-%COMP%]{text-align:center;padding:var(--space-3xl);color:var(--text-tertiary)}.director__empty-cta[_ngcontent-%COMP%]{display:inline-block;margin-top:var(--space-md);padding:var(--space-sm) var(--space-lg);background:var(--accent-gold);color:var(--bg-base);border-radius:var(--radius-lg);font-weight:600;font-size:.9rem;text-decoration:none;transition:opacity .2s}.director__empty-cta[_ngcontent-%COMP%]:hover{opacity:.85}@media(max-width:768px){.director__stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:480px){.director__stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.director__header[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-md)}.director__sort-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem}.director__collab-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.director__view-bar[_ngcontent-%COMP%]{flex-wrap:wrap}}"],changeDetection:0})};export{xe as DirectorComponent};
