import{a as J}from"./chunk-M7JVISF6.js";import{a as K,b as Q}from"./chunk-TWPBZPC6.js";import{a as H}from"./chunk-HAGFLECC.js";import{a as U}from"./chunk-VYUST5ET.js";import"./chunk-JVUEOQ2T.js";import{a as q}from"./chunk-U6UKIARX.js";import{$ as u,$a as Y,Aa as x,Ba as w,Ca as T,Da as L,Ea as B,F as k,Fa as V,Ja as S,K as z,Ma as s,O as o,Oa as $,R,_ as p,ca as D,da as O,ea as C,eb as j,fa as a,fb as W,ga as l,ha as P,la as I,na as M,pa as g,v as E,wa as y,x as h,y as b,ya as d,z as A,za as v}from"./chunk-SA65F7OW.js";var ee=i=>({genres:i}),Z=i=>["/director",i],te=i=>["/movie",i],ne=i=>["/genre",i],ie=i=>["/decade",i],F=(i,t)=>t.name,oe=(i,t)=>t.decade;function re(i,t){i&1&&(a(0,"div",0),P(1,"app-skeleton-grid",1),l()),i&2&&(o(),C("count",12))}function ae(i,t){if(i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4),l()()),i&2){let e=t;o(2),x("",e.decade,"s"),o(2),x("Peak Decade (",e.count,")")}}function le(i,t){if(i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4,"Directors"),l()()),i&2){let e=g(3);o(2),v(e.directorCount())}}function de(i,t){if(i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4,"Silent Era"),l()()),i&2){let e=g(3);o(2),v(e.silentEraCount())}}function ce(i,t){if(i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4,"Avg Year"),l()()),i&2){let e=g(3);o(2),v(e.avgYear())}}function se(i,t){i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4,"Median Year"),l()()),i&2&&(o(2),v(t))}function ge(i,t){if(i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4),l()()),i&2){let e=g(3);o(2),v(t),o(2),x("Pure ",e.name())}}function _e(i,t){if(i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4,"vs Catalog Avg"),l()()),i&2){let e=t;o(),y("genre__stat-value--positive",e.startsWith("+")),o(),v(e)}}function me(i,t){if(i&1&&(a(0,"a",21)(1,"span",19),d(2),l(),a(3,"span",20),d(4),l()()),i&2){let e=t;C("routerLink",S(3,Z,e.name)),o(2),v(e.count),o(2),v(e.name)}}function pe(i,t){if(i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4,"Avg Film Age (yrs)"),l()()),i&2){let e=g(3);o(2),v(e.avgFilmAge())}}function ue(i,t){if(i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4,"Co-directed"),l()()),i&2){let e=g(3);o(2),v(e.coDirectedCount())}}function ve(i,t){if(i&1&&(a(0,"div",18)(1,"span",19),d(2),l(),a(3,"span",20),d(4,"Silent Era"),l()()),i&2){let e=g(3);o(2),v(e.silentEraCount())}}function fe(i,t){i&1&&d(0),i&2&&x(" \xB7 median \u2605 ",t)}function xe(i,t){if(i&1&&(a(0,"p",22),d(1),p(2,fe,1,1),l()),i&2){let e,n=t,r=g(3);o(),w("Top rated: ",n.title," (\u2605 ",n.rating,")"),o(),u((e=r.medianRating())?2:-1,e)}}function Ce(i,t){if(i&1&&d(0),i&2){let e=g(4);x(" \xB7 ",e.unwatchedStreamableCount()," free to discover")}}function he(i,t){if(i&1&&(a(0,"p",22),d(1),p(2,Ce,1,1),l()),i&2){let e=g(3);o(),x("You've watched ",e.watchedInGenre()),o(),u(e.unwatchedStreamableCount()>0?2:-1)}}function be(i,t){i&1&&d(0),i&2&&x(" \xB7 peak ",t)}function Me(i,t){if(i&1&&(a(0,"p",22),d(1),p(2,be,1,1),l()),i&2){let e,n=t,r=g(3);o(),w("Top director: ",n.name," (",n.count,")"),o(),u((e=r.topDecadeLabel())?2:-1,e)}}function ye(i,t){if(i&1&&(a(0,"p",22),d(1),l()),i&2){let e=g(4);o(),w("",e.nonEnglishPct(),"% non-English \xB7 ",e.uniqueDirectorLanguages()," language backgrounds")}}function we(i,t){if(i&1&&(a(0,"p",22),d(1),l()),i&2){let e=g(4);o(),T("",t," on YouTube \xB7 ",e.iaStreamableCount()," on IA \xB7 ",e.highlyRatedPct(),"% rated 7.0+")}}function Se(i,t){if(i&1&&(a(0,"p",22),d(1),l()),i&2){let e=g(4);o(),T("",t,"% co-directed \xB7 ",e.posterCoveragePct(),"% have posters \xB7 ",e.imdbLinkedPct(),"% IMDb-linked")}}function Pe(i,t){if(i&1&&(a(0,"p",22),d(1),l()),i&2){let e=g(4);o(),v(e.notableFact())}}function Ee(i,t){if(i&1&&(p(0,ye,2,2,"p",22),p(1,we,2,3,"p",22),p(2,Se,2,3,"p",22),p(3,Pe,2,1,"p",22)),i&2){let e,n,r=g(3);u(r.nonEnglishPct()>0?0:-1),o(),u((e=r.ytStreamableCount())?1:-1,e),o(),u((n=r.coDirectedPct())?2:-1,n),o(),u(r.notableFact()?3:-1)}}function ke(i,t){if(i&1&&P(0,"img",37),i&2){let e=g();C("src",e.posterUrl,z)("alt",e.title)}}function De(i,t){if(i&1&&(a(0,"div",38),d(1),l()),i&2){let e=g();o(),v(e.title[0])}}function Oe(i,t){if(i&1&&(a(0,"span",43),d(1),l()),i&2){let e=g();o(),x("\u2605 ",e.voteAverage.toFixed(1))}}function Ge(i,t){if(i&1&&(a(0,"div",24)(1,"a",36),p(2,ke,1,2,"img",37)(3,De,2,1,"div",38),a(4,"div",39)(5,"span",40),d(6,"Highest Rated"),l(),a(7,"strong",41),d(8),l(),a(9,"span",42),d(10),l(),p(11,Oe,2,1,"span",43),l()()()),i&2){let e=t;o(),C("routerLink",S(6,te,e.id)),o(),u(e.posterUrl?2:3),o(6),v(e.title),o(2),w("",e.year," \xB7 ",e.directors.join(", ")),o(),u(e.voteAverage>0?11:-1)}}function Ie(i,t){if(i&1&&P(0,"app-movie-grid",31),i&2){let e=g(3);C("movies",e.sortedFilms())}}function Te(i,t){if(i&1&&P(0,"app-movie-list",31),i&2){let e=g(3);C("movies",e.sortedFilms())}}function Fe(i,t){if(i&1&&(a(0,"a",46)(1,"span",47),d(2),l(),a(3,"span",48),d(4),l(),a(5,"span",49),d(6),l()()),i&2){let e=t.$implicit;C("routerLink",S(5,Z,e.name)),o(2),v(e.name),o(2),w("",e.count," film",e.count!==1?"s":""),o(2),v(e.avgRating)}}function Ne(i,t){if(i&1&&(a(0,"div",32)(1,"h2",44),d(2),l(),a(3,"div",45),D(4,Fe,7,7,"a",46,F),l()()),i&2){let e=g(3);o(2),x("Top Directors in ",e.name()),o(2),O(e.topDirectors())}}function Ae(i,t){if(i&1&&(a(0,"a",51),d(1),a(2,"span",52),d(3),l()()),i&2){let e=t.$implicit;C("routerLink",S(3,ne,e.name)),o(),x(" ",e.name," "),o(2),x("",e.pct,"%")}}function ze(i,t){if(i&1&&(a(0,"div",33)(1,"h2",44),d(2,"Related Genres"),l(),a(3,"div",50),D(4,Ae,4,5,"a",51,F),l()()),i&2){let e=g(3);o(4),O(e.relatedGenres())}}function Re(i,t){if(i&1&&(a(0,"a",54),d(1),a(2,"span",55),d(3),l()()),i&2){let e=t.$implicit;C("routerLink",S(3,ie,e.decade)),o(),x(" ",e.decade,"s "),o(2),v(e.count)}}function Le(i,t){if(i&1&&(a(0,"div",34)(1,"h2",44),d(2,"By Decade"),l(),a(3,"div",53),D(4,Re,4,5,"a",54,oe),l()()),i&2){let e=g(3);o(4),O(e.decadeBreakdown())}}function Be(i,t){if(i&1&&(a(0,"span",57),d(1),a(2,"span",58),d(3),l()()),i&2){let e=t.$implicit;o(),x(" ",e.name," "),o(2),v(e.count)}}function Ve(i,t){if(i&1&&(a(0,"div",35)(1,"h2",44),d(2,"Languages"),l(),a(3,"div",56),D(4,Be,4,2,"span",57,F),l()()),i&2){let e=g(3);o(4),O(e.languageBreakdown())}}function $e(i,t){if(i&1){let e=I();a(0,"div",17)(1,"div",18)(2,"span",19),d(3),l(),a(4,"span",20),d(5,"Years"),l()(),a(6,"div",18)(7,"span",19),d(8),l(),a(9,"span",20),d(10,"Avg. Rating"),l()(),a(11,"div",18)(12,"span",19),d(13),l(),a(14,"span",20),d(15,"Free to Watch"),l()(),p(16,ae,5,2,"div",18),p(17,le,5,1,"div",18),p(18,de,5,1,"div",18),a(19,"div",18)(20,"span",19),d(21),l(),a(22,"span",20),d(23,"Streamable"),l()(),p(24,ce,5,1,"div",18),p(25,se,5,1,"div",18),p(26,ge,5,2,"div",18),p(27,_e,5,3,"div",18),p(28,me,5,5,"a",21),p(29,pe,5,1,"div",18),p(30,ue,5,1,"div",18),p(31,ve,5,1,"div",18),l(),p(32,xe,3,3,"p",22),p(33,he,3,2,"p",22),p(34,Me,3,3,"p",22),a(35,"button",23),M("click",function(){h(e);let r=g(2);return b(r.showMoreFacts.set(!r.showMoreFacts()))}),d(36),l(),p(37,Ee,4,4),p(38,Ge,12,8,"div",24),a(39,"div",25)(40,"div",26)(41,"button",27),M("click",function(){h(e);let r=g(2);return b(r.sortMode.set("rating"))}),d(42,"Top Rated"),l(),a(43,"button",27),M("click",function(){h(e);let r=g(2);return b(r.sortMode.set("newest"))}),d(44,"Newest"),l(),a(45,"button",27),M("click",function(){h(e);let r=g(2);return b(r.sortMode.set("oldest"))}),d(46,"Oldest"),l(),a(47,"button",27),M("click",function(){h(e);let r=g(2);return b(r.sortMode.set("title"))}),d(48,"Title"),l()(),a(49,"div",28)(50,"button",29),M("click",function(){h(e);let r=g(2);return b(r.streamableOnly.set(!r.streamableOnly()))}),d(51),l(),a(52,"app-view-toggle",30),V("modeChange",function(r){h(e);let c=g(2);return B(c.viewMode,r)||(c.viewMode=r),b(r)}),l()()(),p(53,Ie,1,1,"app-movie-grid",31)(54,Te,1,1,"app-movie-list",31),p(55,Ne,6,1,"div",32),p(56,ze,6,0,"div",33),p(57,Le,6,0,"div",34),p(58,Ve,6,0,"div",35)}if(i&2){let e,n,r,c,_,f,G,N,m=g(2);o(3),v(m.yearRange()),o(5),v(m.avgRating()),o(5),v(m.streamableCount()),o(3),u((e=m.peakDecade())?16:-1,e),o(),u(m.directorCount()>1?17:-1),o(),u(m.silentEraCount()>0?18:-1),o(3),x("",m.streamablePct(),"%"),o(3),u(m.avgYear()?24:-1),o(),u((n=m.medianYear())?25:-1,n),o(),u((r=m.exclusiveCount())?26:-1,r),o(),u((c=m.ratingVsCatalog())?27:-1,c),o(),u((_=m.mostProlificDirector())?28:-1,_),o(),u(m.avgFilmAge()>0?29:-1),o(),u(m.coDirectedCount()>0?30:-1),o(),u(m.silentEraCount()>0?31:-1),o(),u((f=m.highestRatedTitle())?32:-1,f),o(),u(m.watchedInGenre()>0?33:-1),o(),u((G=m.directorWithMostFilms())?34:-1,G),o(2),v(m.showMoreFacts()?"Less":"More facts"),o(),u(m.showMoreFacts()?37:-1),o(),u((N=m.topFilm())?38:-1,N),o(3),y("genre__sort-btn--active",m.sortMode()==="rating"),o(2),y("genre__sort-btn--active",m.sortMode()==="newest"),o(2),y("genre__sort-btn--active",m.sortMode()==="oldest"),o(2),y("genre__sort-btn--active",m.sortMode()==="title"),o(3),y("genre__streamable-btn--active",m.streamableOnly()),o(),x(" ",m.streamableOnly()?"Free only":"All films"," "),o(),L("mode",m.viewMode),o(),u(m.viewMode()==="grid"?53:54),o(2),u(m.topDirectors().length>0?55:-1),o(),u(m.relatedGenres().length>0?56:-1),o(),u(m.decadeBreakdown().length>0?57:-1),o(),u(m.languageBreakdown().length>0?58:-1)}}function Ye(i,t){i&1&&(a(0,"div",16)(1,"p"),d(2,"No films found for this genre."),l(),a(3,"a",59),d(4,"Browse All Films"),l()())}function je(i,t){if(i&1){let e=I();a(0,"div",0)(1,"div",2)(2,"div")(3,"p",3),d(4,"Genre"),l(),a(5,"h1",4),d(6),l(),a(7,"p",5),d(8),l()(),a(9,"div",6)(10,"a",7),d(11,"Browse with filters"),l(),a(12,"button",8),M("click",function(){h(e);let r=g();return b(r.surpriseMe())}),A(),a(13,"svg",9),P(14,"rect",10)(15,"circle",11)(16,"circle",12)(17,"circle",13)(18,"circle",14)(19,"circle",15),l()()()(),p(20,$e,59,38)(21,Ye,5,0,"div",16),l()}if(i&2){let e=g();o(6),v(e.name()),o(2),w("",e.films().length," film",e.films().length!==1?"s":""," in catalog"),o(2),C("queryParams",S(5,ee,e.name())),o(10),u(e.films().length>0?20:21)}}var X=class i{showMoreFacts=k(!1);name=$.required();catalog=E(q);collection=E(U);titleService=E(Y);router=E(j);viewMode=k("grid");sortMode=k("rating");streamableOnly=k(!0);films=s(()=>this.catalog.movies().filter(t=>t.genres.some(e=>e.toLowerCase()===this.name().toLowerCase())));sortedFilms=s(()=>{let t=this.films();this.streamableOnly()&&(t=t.filter(n=>n.isStreamable));let e=[...t];switch(this.sortMode()){case"rating":return e.sort((n,r)=>r.voteAverage-n.voteAverage);case"newest":return e.sort((n,r)=>r.year-n.year);case"oldest":return e.sort((n,r)=>n.year-r.year);case"title":return e.sort((n,r)=>n.title.localeCompare(r.title))}});yearRange=s(()=>{let t=this.films();if(t.length===0)return"\u2014";let e=t.map(n=>n.year);return`${Math.min(...e)}\u2013${Math.max(...e)}`});avgRating=s(()=>{let t=this.films().filter(e=>e.voteAverage>0);return t.length===0?"\u2014":(t.reduce((e,n)=>e+n.voteAverage,0)/t.length).toFixed(1)});streamableCount=s(()=>this.films().filter(t=>t.isStreamable).length);directorCount=s(()=>{let t=new Set;for(let e of this.films())for(let n of e.directors)t.add(n);return t.size});silentEraCount=s(()=>this.films().filter(t=>t.year<1930).length);watchedInGenre=s(()=>{let t=this.collection.watchedIds();return t.size===0?0:this.films().filter(e=>t.has(e.id)).length});streamablePct=s(()=>{let t=this.films();return t.length===0?0:Math.round(t.filter(e=>e.isStreamable).length/t.length*100)});avgYear=s(()=>{let t=this.films();return t.length<3?null:Math.round(t.reduce((e,n)=>e+n.year,0)/t.length)});topFilm=s(()=>{let t=this.films().filter(e=>e.voteAverage>0);return t.length===0?null:t.reduce((e,n)=>n.voteAverage>e.voteAverage?n:e)});topDirectors=s(()=>{let t=new Map;for(let e of this.films())for(let n of e.directors){let r=t.get(n)??{count:0,totalRating:0};r.count++,r.totalRating+=e.voteAverage,t.set(n,r)}return[...t.entries()].filter(([,e])=>e.count>=2).sort((e,n)=>n[1].count-e[1].count).slice(0,8).map(([e,n])=>({name:e,count:n.count,avgRating:(n.totalRating/n.count).toFixed(1)}))});relatedGenres=s(()=>{let t=this.name().toLowerCase(),e=new Map,n=this.films();for(let c of n)for(let _ of c.genres)_.toLowerCase()!==t&&e.set(_,(e.get(_)??0)+1);let r=n.length;return[...e.entries()].filter(([,c])=>c>=3).sort((c,_)=>_[1]-c[1]).slice(0,8).map(([c,_])=>({name:c,pct:Math.round(_/r*100)}))});peakDecade=s(()=>{let t=this.decadeBreakdown();return t.length===0?null:t.reduce((e,n)=>n.count>e.count?n:e)});notableFact=s(()=>{let t=this.films();if(t.length<3)return null;let e=t.filter(f=>f.isStreamable),n=t.filter(f=>f.voteAverage>0),r=n.length>0?n.reduce((f,G)=>f+G.voteAverage,0)/n.length:0,c=new Set(t.map(f=>f.language).filter(Boolean)),_=new Set(t.flatMap(f=>f.directors));return e.length===t.length?`All ${t.length} films are free to watch`:r>=7.5&&n.length>=5?`Exceptionally well-rated genre \u2014 ${r.toFixed(1)} average across ${n.length} films`:c.size>=5?`Truly international \u2014 films in ${c.size} languages`:_.size>=t.length*.8&&t.length>=10?`Remarkably diverse \u2014 ${_.size} different directors`:e.length>=50?`${e.length} films available to watch for free`:null});languageBreakdown=s(()=>{let t={en:"English",fr:"French",de:"German",ja:"Japanese",it:"Italian",es:"Spanish",ru:"Russian",sv:"Swedish",da:"Danish",pt:"Portuguese",nl:"Dutch",zh:"Chinese",ko:"Korean",pl:"Polish",cs:"Czech",hu:"Hungarian",fi:"Finnish",el:"Greek",no:"Norwegian",nb:"Norwegian"},e=new Map;for(let n of this.films())if(n.language){let r=t[n.language]??n.language.toUpperCase();e.set(r,(e.get(r)??0)+1)}return e.size<2?[]:[...e.entries()].sort((n,r)=>r[1]-n[1]).slice(0,8).map(([n,r])=>({name:n,count:r}))});ratingVsCatalog=s(()=>{let t=this.films().filter(_=>_.voteAverage>0);if(t.length<5)return null;let e=t.reduce((_,f)=>_+f.voteAverage,0)/t.length,n=this.catalog.movies().filter(_=>_.voteAverage>0);if(n.length===0)return null;let r=n.reduce((_,f)=>_+f.voteAverage,0)/n.length,c=e-r;return Math.abs(c)<.2?null:c>0?`+${c.toFixed(1)}`:c.toFixed(1)});highestRatedTitle=s(()=>{let t=this.topFilm();return!t||t.voteAverage<7?null:{title:t.title.length>30?t.title.slice(0,28)+"...":t.title,rating:t.voteAverage.toFixed(1)}});medianYear=s(()=>{let t=this.films();if(t.length<5)return null;let e=t.map(_=>_.year).sort((_,f)=>_-f),n=Math.floor(e.length/2),r=e.length%2===0?Math.round((e[n-1]+e[n])/2):e[n],c=this.avgYear();return c!==null&&Math.abs(r-c)<3?null:r});exclusiveCount=s(()=>{let t=this.films();if(t.length<5)return null;let e=t.filter(n=>n.genres.length===1).length;return e<1?null:e});mostProlificDirector=s(()=>{let t=new Map;for(let n of this.films())for(let r of n.directors)t.set(r,(t.get(r)??0)+1);let e=[...t.entries()].sort((n,r)=>r[1]-n[1])[0];return!e||e[1]<3?null:{name:e[0],count:e[1]}});avgFilmAge=s(()=>{let t=this.films();if(t.length<2)return 0;let e=new Date().getFullYear();return Math.round(t.reduce((n,r)=>n+(e-r.year),0)/t.length)});coDirectedCount=s(()=>{let t=this.films();return t.length<5?0:t.filter(e=>e.directors.length>1).length});unwatchedStreamableCount=s(()=>{let t=this.films();if(t.length<5)return 0;let e=this.collection.watchedIds();return t.filter(n=>n.isStreamable&&!e.has(n.id)).length});nonEnglishPct=s(()=>{let t=this.films();if(t.length<10)return 0;let e=t.filter(r=>r.language&&r.language!=="English"&&r.language!=="en").length,n=Math.round(e/t.length*100);return n>0&&n<100?n:0});medianRating=s(()=>{let t=this.films().filter(c=>c.voteAverage>0);if(t.length<5)return null;let e=t.map(c=>c.voteAverage).sort((c,_)=>c-_),n=Math.floor(e.length/2);return(e.length%2===0?(e[n-1]+e[n])/2:e[n]).toFixed(1)});coDirectedPct=s(()=>{let t=this.films();if(t.length<10)return null;let e=Math.round(t.filter(n=>n.directors.length>1).length/t.length*100);return e>0&&e<100?e:null});topDecadeLabel=s(()=>{let t=this.films();if(t.length<10)return null;let e=new Map;for(let r of t){let c=Math.floor(r.year/10)*10;e.set(c,(e.get(c)??0)+1)}return e.size<2?null:`${[...e.entries()].sort((r,c)=>c[1]-r[1])[0][0]}s`});ratingsSpread=s(()=>{let t=this.films().filter(_=>_.voteAverage>0);if(t.length<5)return null;let e=t.map(_=>_.voteAverage).sort((_,f)=>_-f),n=e[0],r=e[e.length-1];return r-n>=2?`${n.toFixed(1)}\u2013${r.toFixed(1)}`:null});uniqueDirectorLanguages=s(()=>{let t=this.films();if(t.length<10)return null;let e=new Set(t.filter(n=>n.language).map(n=>n.language));return e.size>=3?e.size:null});streamableHighRatedPct=s(()=>{let t=this.films().filter(r=>r.isStreamable);if(t.length<5)return null;let e=t.filter(r=>r.voteAverage>=7).length,n=Math.round(e/t.length*100);return n>0&&n<100?n:null});imdbLinkedPct=s(()=>{let t=this.films();if(t.length<10)return null;let e=Math.round(t.filter(n=>n.imdbId).length/t.length*100);return e>0&&e<100?e:null});directorWithMostFilms=s(()=>{let t=this.films();if(t.length<5)return null;let e=new Map;for(let r of t)for(let c of r.directors)e.set(c,(e.get(c)??0)+1);let n=[...e.entries()].sort((r,c)=>c[1]-r[1])[0];return n&&n[1]>=3?{name:n[0],count:n[1]}:null});posterCoveragePct=s(()=>{let t=this.films();if(t.length<10)return null;let e=Math.round(t.filter(n=>n.posterUrl).length/t.length*100);return e>0&&e<100?e:null});ytStreamableCount=s(()=>{let t=this.films();if(t.length<5)return null;let e=t.filter(n=>n.youtubeId).length;return e>0?e:null});iaStreamableCount=s(()=>{let t=this.films();if(t.length<5)return null;let e=t.filter(n=>n.internetArchiveId).length;return e>0?e:null});highlyRatedPct=s(()=>{let t=this.films();if(t.length<10)return null;let e=Math.round(t.filter(n=>n.voteAverage>=7).length/t.length*100);return e>0&&e<100?e:null});decadeBreakdown=s(()=>{let t=new Map;for(let e of this.films()){let n=Math.floor(e.year/10)*10;t.set(n,(t.get(n)??0)+1)}return[...t.entries()].sort((e,n)=>e[0]-n[0]).map(([e,n])=>({decade:e,count:n}))});ngOnInit(){this.catalog.load(),this.titleService.setTitle(`${this.name()} Films \u2014 BW Cinema`)}surpriseMe(){let t=this.sortedFilms();if(t.length===0)return;let e=t[Math.floor(Math.random()*t.length)];this.router.navigate(["/movie",e.id])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-genre"]],inputs:{name:[1,"name"]},decls:2,vars:1,consts:[[1,"genre","container"],[3,"count"],[1,"genre__header"],[1,"genre__eyebrow"],[1,"genre__name"],[1,"genre__meta"],[1,"genre__actions"],["routerLink","/browse",1,"btn-secondary","genre__browse-link",3,"queryParams"],["aria-label","Random film from this genre","title","Random film",1,"genre__surprise-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x","1","y","1","width","22","height","22","rx","4"],["cx","8","cy","8","r","1.5","fill","currentColor"],["cx","16","cy","8","r","1.5","fill","currentColor"],["cx","8","cy","16","r","1.5","fill","currentColor"],["cx","16","cy","16","r","1.5","fill","currentColor"],["cx","12","cy","12","r","1.5","fill","currentColor"],[1,"genre__empty"],[1,"genre__stats"],[1,"genre__stat"],[1,"genre__stat-value"],[1,"genre__stat-label"],[1,"genre__stat","genre__stat--link",3,"routerLink"],[1,"genre__fact"],[1,"genre__more-toggle",3,"click"],[1,"genre__top-film"],[1,"genre__view-bar"],[1,"genre__sort-btns"],[1,"genre__sort-btn",3,"click"],[1,"genre__bar-right"],[1,"genre__streamable-btn",3,"click"],[3,"modeChange","mode"],[3,"movies"],[1,"genre__directors"],[1,"genre__related"],[1,"genre__decades"],[1,"genre__languages"],[1,"genre__top-film-card",3,"routerLink"],["loading","lazy",1,"genre__top-film-poster",3,"src","alt"],[1,"genre__top-film-placeholder"],[1,"genre__top-film-info"],[1,"genre__top-film-label"],[1,"genre__top-film-title"],[1,"genre__top-film-meta"],[1,"genre__top-film-rating"],[1,"genre__section-title"],[1,"genre__directors-grid"],[1,"genre__director-card",3,"routerLink"],[1,"genre__director-name"],[1,"genre__director-count"],[1,"genre__director-rating"],[1,"genre__related-chips"],[1,"genre__related-chip",3,"routerLink"],[1,"genre__related-pct"],[1,"genre__decades-row"],[1,"genre__decade-chip",3,"routerLink"],[1,"genre__decade-count"],[1,"genre__lang-chips"],[1,"genre__lang-chip"],[1,"genre__lang-count"],["routerLink","/browse",1,"btn-primary"]],template:function(e,n){e&1&&p(0,re,2,1,"div",0)(1,je,22,7,"div",0),e&2&&u(n.catalog.loading()?0:1)},dependencies:[W,H,K,Q,J],styles:[".genre[_ngcontent-%COMP%]{padding:var(--space-xl) 0}.genre__header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:var(--space-lg)}.genre__eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;font-size:.8rem;font-weight:600;color:var(--accent-gold);margin:0 0 var(--space-xs)}.genre__name[_ngcontent-%COMP%]{margin-bottom:var(--space-xs)}.genre__meta[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95rem;margin:0}.genre__actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.genre__browse-link[_ngcontent-%COMP%]{display:inline-block;font-size:.85rem;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-lg)}.genre__stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:var(--space-md);margin-bottom:var(--space-xl)}.genre__stat[_ngcontent-%COMP%]{background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md);text-align:center}.genre__stat-value[_ngcontent-%COMP%]{display:block;font-family:var(--font-heading);font-size:1.5rem;font-weight:700;color:var(--accent-gold);margin-bottom:2px}.genre__stat-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary)}.genre__stat-value--positive[_ngcontent-%COMP%]{color:#198754}.genre__stat--link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;transition:border-color .2s}.genre__stat--link[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.genre__top-film[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.genre__top-film-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-lg);padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-xl);text-decoration:none;color:inherit;transition:border-color .2s,box-shadow .2s}.genre__top-film-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);box-shadow:var(--shadow-md);color:inherit}.genre__top-film-poster[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;object-fit:cover;border-radius:var(--radius);flex-shrink:0}.genre__top-film-placeholder[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;background:var(--bg-raised);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-family:var(--font-heading);color:var(--text-tertiary);font-size:1.2rem;flex-shrink:0}.genre__top-film-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.genre__top-film-label[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;letter-spacing:.1em;color:var(--accent-gold);font-weight:600}.genre__top-film-title[_ngcontent-%COMP%]{font-size:1.1rem}.genre__top-film-meta[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.genre__top-film-rating[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1rem;font-weight:700;color:var(--accent-gold)}.genre__view-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--space-md);margin-bottom:var(--space-lg);flex-wrap:wrap}.genre__sort-btns[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap}.genre__sort-btn[_ngcontent-%COMP%]{padding:6px 14px;border-radius:var(--radius-lg);background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.genre__sort-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.genre__sort-btn--active[_ngcontent-%COMP%]{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.genre__bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.genre__streamable-btn[_ngcontent-%COMP%]{padding:6px 12px;border-radius:var(--radius-lg);background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s}.genre__streamable-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.genre__streamable-btn--active[_ngcontent-%COMP%]{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.genre__surprise-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--bg-hover);border:1px solid var(--border);color:var(--text-tertiary);cursor:pointer;transition:all .2s}.genre__surprise-btn[_ngcontent-%COMP%]:hover{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.genre__section-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:var(--space-md)}.genre__directors[_ngcontent-%COMP%]{margin-top:var(--space-2xl);padding-top:var(--space-lg);border-top:1px solid var(--border)}.genre__directors-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-md)}.genre__director-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;transition:all .2s}.genre__director-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:inherit}.genre__director-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);margin-bottom:2px}.genre__director-count[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary)}.genre__director-rating[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1.1rem;font-weight:700;color:var(--accent-gold);margin-top:var(--space-xs)}.genre__related[_ngcontent-%COMP%]{margin-top:var(--space-xl);padding-top:var(--space-lg);border-top:1px solid var(--border)}.genre__related-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-sm)}.genre__related-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-xs);padding:6px 14px;background:var(--bg-surface);border:1px solid var(--border);border-radius:20px;font-size:.85rem;font-weight:600;color:var(--text-secondary);text-decoration:none;transition:all .2s}.genre__related-chip[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.genre__related-pct[_ngcontent-%COMP%]{font-size:.7rem;background:var(--bg-raised);padding:1px 6px;border-radius:8px;color:var(--text-tertiary)}.genre__decades[_ngcontent-%COMP%]{margin-top:var(--space-xl);padding-top:var(--space-lg);border-top:1px solid var(--border)}.genre__decades-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-sm)}.genre__decade-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-xs);padding:6px 14px;background:var(--bg-surface);border:1px solid var(--border);border-radius:20px;font-size:.85rem;font-weight:600;color:var(--text-secondary);text-decoration:none;transition:all .2s}.genre__decade-chip[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.genre__decade-count[_ngcontent-%COMP%]{font-size:.7rem;background:var(--bg-raised);padding:1px 6px;border-radius:8px;color:var(--text-tertiary)}.genre__languages[_ngcontent-%COMP%]{margin-top:var(--space-xl);padding-top:var(--space-lg);border-top:1px solid var(--border)}.genre__lang-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-xs)}.genre__lang-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-xs);padding:4px 12px;background:var(--bg-surface);border:1px solid var(--border);border-radius:14px;font-size:.8rem;color:var(--text-secondary)}.genre__lang-count[_ngcontent-%COMP%]{font-size:.65rem;background:var(--bg-raised);padding:1px 5px;border-radius:6px;color:var(--text-tertiary)}.genre__empty[_ngcontent-%COMP%]{text-align:center;padding:var(--space-3xl);color:var(--text-tertiary)}.genre__fact[_ngcontent-%COMP%]{font-style:italic;color:var(--accent-gold);font-size:.95rem;margin:0 0 var(--space-xl)}.genre__more-toggle[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-tertiary);font-size:.75rem;cursor:pointer;padding:var(--space-xs) 0;opacity:.7}.genre__more-toggle[_ngcontent-%COMP%]:hover{opacity:1}@media(max-width:768px){.genre__header[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-md)}}@media(max-width:480px){.genre__stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.genre__sort-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem}.genre__streamable-btn[_ngcontent-%COMP%]{padding:8px 12px}}"],changeDetection:0})};export{X as GenreComponent};
