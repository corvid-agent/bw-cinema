import{a as K}from"./chunk-MAZ6WOLX.js";import{$ as _,Ga as H,Ha as C,K as y,Ka as g,O as l,R as W,_ as p,ca as E,da as M,db as B,ea as v,fa as n,ga as i,ha as x,lb as J,pa as u,ta as S,v as V,wa as r,xa as c,ya as h,za as w}from"./chunk-TOYJLBVG.js";var X=a=>["/decade",a],Z=a=>["/genre",a],I=a=>["/director",a],ee=()=>["/browse"],te=a=>({languages:a,streamable:"0"}),D=a=>["/movie",a],F=(a,e)=>e.name;function ne(a,e){a&1&&x(0,"app-loading-spinner")}function ie(a,e){if(a&1&&(n(0,"a",18)(1,"span",29),r(2),i(),n(3,"div",30),x(4,"div",31),i(),n(5,"span",32),r(6),i()()),a&2){let t=e.$implicit;v("routerLink",C(5,X,t.decade)),l(2),c(t.name),l(2),S("width",t.pct,"%"),l(2),c(t.count)}}function ae(a,e){if(a&1&&(n(0,"a",18)(1,"span",29),r(2),i(),n(3,"div",30),x(4,"div",31),i(),n(5,"span",32),r(6),i()()),a&2){let t=e.$implicit;v("routerLink",C(5,Z,t.name)),l(2),c(t.name),l(2),S("width",t.pct,"%"),l(2),c(t.count)}}function oe(a,e){if(a&1&&(n(0,"a",18)(1,"span",29),r(2),i(),n(3,"div",30),x(4,"div",31),i(),n(5,"span",32),r(6),i()()),a&2){let t=e.$implicit;v("routerLink",C(5,I,t.name)),l(2),c(t.name),l(2),S("width",t.pct,"%"),l(2),c(t.count)}}function re(a,e){if(a&1&&(n(0,"div",19)(1,"span",29),r(2),i(),n(3,"div",30),x(4,"div",31),i(),n(5,"span",32),r(6),i()()),a&2){let t=e.$implicit;l(2),c(t.name),l(2),S("width",t.pct,"%"),l(2),c(t.count)}}function le(a,e){if(a&1&&(n(0,"a",20)(1,"span",29),r(2),i(),n(3,"div",30),x(4,"div",31),i(),n(5,"span",32),r(6),i()()),a&2){let t=e.$implicit;v("routerLink",H(6,ee))("queryParams",C(7,te,t.name)),l(2),c(t.name),l(2),S("width",t.pct,"%"),l(2),c(t.count)}}function se(a,e){if(a&1&&x(0,"img",33),a&2){let t=u();v("src",t.posterUrl,y)("alt",t.title)}}function de(a,e){if(a&1&&(n(0,"a",23),p(1,se,1,2,"img",33),n(2,"div",34)(3,"span",35),r(4,"Oldest Film"),i(),n(5,"span",36),r(6),i(),n(7,"span",37),r(8),i()()()),a&2){let t=e;v("routerLink",C(4,D,t.id)),l(),_(t.posterUrl?1:-1),l(5),c(t.title),l(2),c(t.year)}}function me(a,e){if(a&1&&x(0,"img",33),a&2){let t=u();v("src",t.posterUrl,y)("alt",t.title)}}function ce(a,e){if(a&1&&(n(0,"a",23),p(1,me,1,2,"img",33),n(2,"div",34)(3,"span",35),r(4,"Most Recent Film"),i(),n(5,"span",36),r(6),i(),n(7,"span",37),r(8),i()()()),a&2){let t=e;v("routerLink",C(4,D,t.id)),l(),_(t.posterUrl?1:-1),l(5),c(t.title),l(2),c(t.year)}}function ge(a,e){if(a&1&&x(0,"img",33),a&2){let t=u();v("src",t.posterUrl,y)("alt",t.title)}}function pe(a,e){if(a&1&&(n(0,"a",23),p(1,ge,1,2,"img",33),n(2,"div",34)(3,"span",35),r(4,"Highest Rated"),i(),n(5,"span",36),r(6),i(),n(7,"span",37),r(8),i()()()),a&2){let t=e;v("routerLink",C(4,D,t.id)),l(),_(t.posterUrl?1:-1),l(5),c(t.title),l(2),h("\u2605 ",t.voteAverage.toFixed(1))}}function _e(a,e){if(a&1&&(n(0,"a",23)(1,"div",38),r(2),i(),n(3,"div",34)(4,"span",35),r(5,"Most Prolific Director"),i(),n(6,"span",36),r(7),i(),n(8,"span",37),r(9),i()()()),a&2){let t=e;v("routerLink",C(4,I,t.name)),l(2),c(t.name[0]),l(5),c(t.name),l(2),h("",t.count," films")}}function ve(a,e){if(a&1&&(n(0,"a",23)(1,"div",38),r(2),i(),n(3,"div",34)(4,"span",35),r(5,"Highest Rated Director"),i(),n(6,"span",36),r(7),i(),n(8,"span",37),r(9),i()()()),a&2){let t=e;v("routerLink",C(5,I,t.name)),l(2),c(t.name[0]),l(5),c(t.name),l(2),w("\u2605 ",t.avgRating," avg (",t.count," films)")}}function ue(a,e){if(a&1&&(n(0,"a",23)(1,"div",38),r(2),i(),n(3,"div",34)(4,"span",35),r(5,"Longest Career"),i(),n(6,"span",36),r(7),i(),n(8,"span",37),r(9),i()()()),a&2){let t=e;v("routerLink",C(5,I,t.name)),l(2),c(t.name[0]),l(5),c(t.name),l(2),w("",t.span," years (",t.count," films)")}}function fe(a,e){if(a&1&&x(0,"img",33),a&2){let t=u();v("src",t.posterUrl,y)("alt",t.title)}}function xe(a,e){if(a&1&&(n(0,"a",23),p(1,fe,1,2,"img",33),n(2,"div",34)(3,"span",35),r(4,"Oldest Free Film"),i(),n(5,"span",36),r(6),i(),n(7,"span",37),r(8),i()()()),a&2){let t=e;v("routerLink",C(4,D,t.id)),l(),_(t.posterUrl?1:-1),l(5),c(t.title),l(2),c(t.year)}}function he(a,e){if(a&1&&(n(0,"a",23)(1,"div",38),r(2),i(),n(3,"div",34)(4,"span",35),r(5,"Most Versatile Director"),i(),n(6,"span",36),r(7),i(),n(8,"span",37),r(9),i()()()),a&2){let t=e;v("routerLink",C(5,I,t.name)),l(2),c(t.name[0]),l(5),c(t.name),l(2),w("",t.genreCount," genres across ",t.count," films")}}function Ce(a,e){if(a&1&&x(0,"img",33),a&2){let t=u();v("src",t.posterUrl,y)("alt",t.title)}}function Se(a,e){if(a&1&&(n(0,"a",23),p(1,Ce,1,2,"img",33),n(2,"div",34)(3,"span",35),r(4,"Longest Title"),i(),n(5,"span",36),r(6),i(),n(7,"span",37),r(8),i()()()),a&2){let t=e;v("routerLink",C(4,D,t.id)),l(),_(t.posterUrl?1:-1),l(5),c(t.title),l(2),h("",t.title.length," characters")}}function be(a,e){if(a&1&&x(0,"img",33),a&2){let t=u();v("src",t.posterUrl,y)("alt",t.title)}}function ye(a,e){if(a&1&&(n(0,"a",23),p(1,be,1,2,"img",33),n(2,"div",34)(3,"span",35),r(4,"Shortest Title"),i(),n(5,"span",36),r(6),i(),n(7,"span",37),r(8),i()()()),a&2){let t=e;v("routerLink",C(4,D,t.id)),l(),_(t.posterUrl?1:-1),l(5),c(t.title),l(2),h("",t.title.length," characters")}}function Ee(a,e){if(a&1&&x(0,"img",33),a&2){let t=u();v("src",t.posterUrl,y)("alt",t.title)}}function Me(a,e){if(a&1&&(n(0,"a",23),p(1,Ee,1,2,"img",33),n(2,"div",34)(3,"span",35),r(4,"Newest Free Film"),i(),n(5,"span",36),r(6),i(),n(7,"span",37),r(8),i()()()),a&2){let t=e;v("routerLink",C(4,D,t.id)),l(),_(t.posterUrl?1:-1),l(5),c(t.title),l(2),c(t.year)}}function De(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"median release year"),i()()),a&2){let t=u(2);l(2),c(t.medianYear())}}function Fe(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"languages represented"),i()()),a&2){let t=u(2);l(2),c(t.uniqueLanguageCount())}}function Pe(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"year range of catalog"),i()()),a&2){let t=u(2);l(2),c(t.yearSpan())}}function Ie(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"rated 7.0 or higher"),i()()),a&2){let t=u(2);l(2),h("",t.highRatedPct(),"%")}}function we(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"median film rating"),i()()),a&2){let t=u(2);l(2),c(t.medianRating())}}function Ne(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"avg films per director"),i()()),a&2){let t=u(2);l(2),c(t.avgFilmsPerDirector())}}function Te(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"one-film directors"),i()()),a&2){let t=u(2);l(2),c(t.oneFilmDirectorCount())}}function Oe(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"films without ratings"),i()()),a&2){let t=u(2);l(2),c(t.unratedFilmCount())}}function ke(a,e){a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"avg genres per film"),i()()),a&2&&(l(2),c(e))}function Le(a,e){a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"co-directed films"),i()()),a&2&&(l(2),h("",e,"%"))}function Re(a,e){a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"avg genres per director"),i()()),a&2&&(l(2),c(e))}function Ae(a,e){a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"avg director career span"),i()()),a&2&&(l(2),h("",e,"yr"))}function ze(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4),i()()),a&2){let t=e;l(2),h("",t.decade,"s"),l(2),h("most free films (",t.count,")")}}function Ue(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"avg film age"),i()()),a&2){let t=u(2);l(2),h("",t.avgFilmAge(),"yr")}}function Ye(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"median film age"),i()()),a&2){let t=u(2);l(2),h("",t.medianFilmAge(),"yr")}}function $e(a,e){a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"avg rating (free films)"),i()()),a&2&&(l(2),c(e))}function qe(a,e){a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"silent-era films streamable"),i()()),a&2&&(l(2),h("",e,"%"))}function Ge(a,e){a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"co-directed films"),i()()),a&2&&(l(2),h("",e,"%"))}function je(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"avg title length (chars)"),i()()),a&2){let t=u(2);l(2),c(t.avgTitleLength())}}function Ve(a,e){a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"multilingual directors"),i()()),a&2&&(l(2),c(e))}function We(a,e){a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"avg directors per film"),i()()),a&2&&(l(2),c(e))}function He(a,e){if(a&1&&(n(0,"div",26)(1,"span",27),r(2),i(),n(3,"span",28),r(4,"films rated 8.0+"),i()()),a&2){let t=u(2);l(2),c(t.highlyRatedCount())}}function Be(a,e){if(a&1&&(n(0,"div",19)(1,"span",39),r(2),i(),n(3,"div",30),x(4,"div",31),i(),n(5,"span",32),r(6),i()()),a&2){let t=e.$implicit;l(2),c(t.name),l(2),S("width",t.pct,"%"),l(2),c(t.count)}}function Je(a,e){if(a&1&&(n(0,"section",16)(1,"h2"),r(2,"Most Common Genre Pairs"),i(),n(3,"div",17),E(4,Be,7,4,"div",19,F),i()()),a&2){let t=u(2);l(4),M(t.genrePairs())}}function Ke(a,e){if(a&1&&(n(0,"div",2)(1,"div",3)(2,"span",4),r(3),i(),n(4,"span",5),r(5,"Total Films"),i()(),n(6,"div",3)(7,"span",4),r(8),i(),n(9,"span",5),r(10,"Free to Watch"),i()(),n(11,"div",3)(12,"span",4),r(13),i(),n(14,"span",5),r(15,"Streamable"),i()(),n(16,"div",3)(17,"span",4),r(18),i(),n(19,"span",5),r(20,"Avg. Rating"),i()(),n(21,"div",3)(22,"span",4),r(23),i(),n(24,"span",5),r(25,"Year Range"),i()(),n(26,"div",3)(27,"span",4),r(28),i(),n(29,"span",5),r(30,"Directors"),i()()(),n(31,"div",6)(32,"h2"),r(33,"Streaming Availability"),i(),n(34,"div",7)(35,"div",8)(36,"span",9),r(37,"Internet Archive"),i(),n(38,"div",10),x(39,"div",11),i(),n(40,"span",12),r(41),i()(),n(42,"div",8)(43,"span",9),r(44,"YouTube"),i(),n(45,"div",10),x(46,"div",13),i(),n(47,"span",12),r(48),i()(),n(49,"div",8)(50,"span",9),r(51,"Not Streamable"),i(),n(52,"div",10),x(53,"div",14),i(),n(54,"span",12),r(55),i()()()(),n(56,"div",15)(57,"section",16)(58,"h2"),r(59,"Films by Decade"),i(),n(60,"div",17),E(61,ie,7,7,"a",18,F),i()(),n(63,"section",16)(64,"h2"),r(65,"Top Genres"),i(),n(66,"div",17),E(67,ae,7,7,"a",18,F),i()()(),n(69,"div",15)(70,"section",16)(71,"h2"),r(72,"Top Directors"),i(),n(73,"div",17),E(74,oe,7,7,"a",18,F),i()(),n(76,"section",16)(77,"h2"),r(78,"Rating Distribution"),i(),n(79,"div",17),E(80,re,7,4,"div",19,F),i()()(),n(82,"div",15)(83,"section",16)(84,"h2"),r(85,"Top Languages"),i(),n(86,"div",17),E(87,le,7,9,"a",20,F),i()(),n(89,"section",16)(90,"h2"),r(91,"Language Diversity"),i(),n(92,"div",21)(93,"div",3)(94,"span",4),r(95),i(),n(96,"span",5),r(97,"Languages"),i()(),n(98,"div",3)(99,"span",4),r(100),i(),n(101,"span",5),r(102,"Non-English"),i()()()()(),n(103,"div",22),p(104,de,9,6,"a",23),p(105,ce,9,6,"a",23),p(106,pe,9,6,"a",23),p(107,_e,10,6,"a",23),p(108,ve,10,7,"a",23),p(109,ue,10,7,"a",23),p(110,xe,9,6,"a",23),p(111,he,10,7,"a",23),p(112,Se,9,6,"a",23),p(113,ye,9,6,"a",23),p(114,Me,9,6,"a",23),i(),n(115,"section",24)(116,"h2"),r(117,"Fun Facts"),i(),n(118,"div",25)(119,"div",26)(120,"span",27),r(121),i(),n(122,"span",28),r(123,"silent-era films (pre-1930)"),i()(),n(124,"div",26)(125,"span",27),r(126),i(),n(127,"span",28),r(128,"film noir titles"),i()(),n(129,"div",26)(130,"span",27),r(131),i(),n(132,"span",28),r(133,"most represented decade"),i()(),n(134,"div",26)(135,"span",27),r(136),i(),n(137,"span",28),r(138,"average release year"),i()(),p(139,De,5,1,"div",26),n(140,"div",26)(141,"span",27),r(142),i(),n(143,"span",28),r(144,"films have poster artwork"),i()(),n(145,"div",26)(146,"span",27),r(147),i(),n(148,"span",28),r(149,"films span 3+ genres"),i()(),n(150,"div",26)(151,"span",27),r(152),i(),n(153,"span",28),r(154,"year with the most films"),i()(),n(155,"div",26)(156,"span",27),r(157),i(),n(158,"span",28),r(159,"single-director films"),i()(),n(160,"div",26)(161,"span",27),r(162),i(),n(163,"span",28),r(164,"co-directed films"),i()(),p(165,Fe,5,1,"div",26),p(166,Pe,5,1,"div",26),p(167,Ie,5,1,"div",26),p(168,we,5,1,"div",26),p(169,Ne,5,1,"div",26),p(170,Te,5,1,"div",26),p(171,Oe,5,1,"div",26),p(172,ke,5,1,"div",26),p(173,Le,5,1,"div",26),p(174,Re,5,1,"div",26),p(175,Ae,5,1,"div",26),p(176,ze,5,2,"div",26),p(177,Ue,5,1,"div",26),p(178,Ye,5,1,"div",26),p(179,$e,5,1,"div",26),p(180,qe,5,1,"div",26),p(181,Ge,5,1,"div",26),p(182,je,5,1,"div",26),p(183,Ve,5,1,"div",26),p(184,We,5,1,"div",26),p(185,He,5,1,"div",26),i()(),p(186,Je,6,0,"section",16)),a&2){let t,o,s,d,f,b,P,N,T,O,k,L,R,A,z,U,Y,$,q,G,j,m=u();l(3),c(m.totalFilms()),l(5),c(m.streamableFilms()),l(5),h("",m.streamablePct(),"%"),l(5),c(m.avgRating()),l(5),c(m.yearRange()),l(5),c(m.uniqueDirectors()),l(11),S("width",m.iaFilmsPct(),"%"),l(2),c(m.iaFilms()),l(5),S("width",m.ytFilmsPct(),"%"),l(2),c(m.ytFilms()),l(5),S("width",m.notStreamablePct(),"%"),l(2),c(m.totalFilms()-m.streamableFilms()),l(6),M(m.decadeStats()),l(6),M(m.genreStats()),l(7),M(m.directorStats()),l(6),M(m.ratingDistribution()),l(7),M(m.languageStats()),l(8),c(m.uniqueLanguages()),l(5),h("",m.nonEnglishPct(),"%"),l(4),_((t=m.oldestFilm())?104:-1,t),l(),_((o=m.newestFilm())?105:-1,o),l(),_((s=m.highestRatedFilm())?106:-1,s),l(),_((d=m.mostFilmedDirector())?107:-1,d),l(),_((f=m.highestRatedDirector())?108:-1,f),l(),_((b=m.longestCareer())?109:-1,b),l(),_((P=m.oldestStreamable())?110:-1,P),l(),_((N=m.mostVersatileDirector())?111:-1,N),l(),_((T=m.longestTitle())?112:-1,T),l(),_((O=m.shortestTitle())?113:-1,O),l(),_((k=m.newestStreamable())?114:-1,k),l(7),c(m.silentFilmCount()),l(5),c(m.filmNoirCount()),l(5),c(m.peakDecade()),l(5),c(m.avgYear()),l(3),_(m.medianYear()>0?139:-1),l(3),h("",m.filmsWithPosters(),"%"),l(5),c(m.multiGenreCount()),l(5),c(m.peakYear()),l(5),c(m.soloDirectorFilms()),l(5),c(m.coDirectedCount()),l(3),_(m.uniqueLanguageCount()>1?165:-1),l(),_(m.yearSpan()?166:-1),l(),_(m.highRatedPct()>0?167:-1),l(),_(m.medianRating()?168:-1),l(),_(m.avgFilmsPerDirector()?169:-1),l(),_(m.oneFilmDirectorCount()>0?170:-1),l(),_(m.unratedFilmCount()>0?171:-1),l(),_((L=m.avgGenresPerFilm())?172:-1,L),l(),_((R=m.multiDirectorPct())?173:-1,R),l(),_((A=m.avgGenresPerDirector())?174:-1,A),l(),_((z=m.avgDirectorCareer())?175:-1,z),l(),_((U=m.topStreamableDecade())?176:-1,U),l(),_(m.avgFilmAge()>0?177:-1),l(),_(m.medianFilmAge()>0?178:-1),l(),_((Y=m.streamableAvgRating())?179:-1,Y),l(),_(($=m.silentEraStreamablePct())?180:-1,$),l(),_((q=m.coDirectedPct())?181:-1,q),l(),_(m.avgTitleLength()>0?182:-1),l(),_((G=m.multiLanguageDirectorCount())?183:-1,G),l(),_((j=m.avgDirectorsPerFilm())?184:-1,j),l(),_(m.highlyRatedCount()>0?185:-1),l(),_(m.genrePairs().length>0?186:-1)}}var Q=class a{catalog=V(J);totalFilms=g(()=>this.catalog.movies().length);streamableFilms=g(()=>this.catalog.movies().filter(e=>e.isStreamable).length);streamablePct=g(()=>{let e=this.totalFilms();return e>0?Math.round(this.streamableFilms()/e*100):0});iaFilms=g(()=>this.catalog.movies().filter(e=>e.internetArchiveId).length);ytFilms=g(()=>this.catalog.movies().filter(e=>e.youtubeId&&!e.internetArchiveId).length);iaFilmsPct=g(()=>{let e=this.totalFilms();return e>0?this.iaFilms()/e*100:0});ytFilmsPct=g(()=>{let e=this.totalFilms();return e>0?this.ytFilms()/e*100:0});notStreamablePct=g(()=>{let e=this.totalFilms();return e>0?(e-this.streamableFilms())/e*100:0});uniqueDirectors=g(()=>{let e=new Set;for(let t of this.catalog.movies())for(let o of t.directors)e.add(o);return e.size});oldestFilm=g(()=>{let e=this.catalog.movies();return e.length===0?null:e.reduce((t,o)=>o.year<t.year?o:t)});newestFilm=g(()=>{let e=this.catalog.movies();return e.length===0?null:e.reduce((t,o)=>o.year>t.year?o:t)});highestRatedFilm=g(()=>{let e=this.catalog.movies().filter(t=>t.voteAverage>0);return e.length===0?null:e.reduce((t,o)=>o.voteAverage>t.voteAverage?o:t)});mostFilmedDirector=g(()=>{let e=this.directorStats();return e.length>0?e[0]:null});highestRatedDirector=g(()=>{let e=new Map;for(let o of this.catalog.movies())if(o.voteAverage!==0)for(let s of o.directors){let d=e.get(s)??{total:0,count:0};d.total+=o.voteAverage,d.count++,e.set(s,d)}return[...e.entries()].filter(([,o])=>o.count>=5).map(([o,s])=>({name:o,count:s.count,avgRating:(s.total/s.count).toFixed(1)})).sort((o,s)=>parseFloat(s.avgRating)-parseFloat(o.avgRating))[0]??null});longestCareer=g(()=>{let e=new Map;for(let o of this.catalog.movies())for(let s of o.directors){let d=e.get(s)??{min:o.year,max:o.year,count:0};d.min=Math.min(d.min,o.year),d.max=Math.max(d.max,o.year),d.count++,e.set(s,d)}return[...e.entries()].filter(([,o])=>o.count>=3).map(([o,s])=>({name:o,span:s.max-s.min,count:s.count})).sort((o,s)=>s.span-o.span)[0]??null});oldestStreamable=g(()=>{let e=this.catalog.movies().filter(t=>t.isStreamable);return e.length===0?null:e.reduce((t,o)=>o.year<t.year?o:t)});avgRating=g(()=>{let e=this.catalog.movies().filter(t=>t.voteAverage>0);return e.length===0?"\u2014":(e.reduce((t,o)=>t+o.voteAverage,0)/e.length).toFixed(1)});yearRange=g(()=>{let e=this.catalog.movies();if(e.length===0)return"\u2014";let t=e.map(o=>o.year);return`${Math.min(...t)}\u2013${Math.max(...t)}`});decadeStats=g(()=>{let e=new Map;for(let s of this.catalog.movies()){let d=Math.floor(s.year/10)*10;e.set(d,(e.get(d)??0)+1)}let t=[...e.entries()].sort((s,d)=>s[0]-d[0]),o=Math.max(...t.map(([,s])=>s),1);return t.map(([s,d])=>({name:`${s}s`,decade:s,count:d,pct:d/o*100}))});genreStats=g(()=>this.computeStats(this.catalog.movies().flatMap(e=>e.genres)));directorStats=g(()=>{let e=new Map;for(let s of this.catalog.movies())for(let d of s.directors)e.set(d,(e.get(d)??0)+1);let t=[...e.entries()].sort((s,d)=>d[1]-s[1]).slice(0,10),o=t[0]?.[1]??1;return t.map(([s,d])=>({name:s,count:d,pct:d/o*100}))});languageStats=g(()=>{let e=new Map;for(let s of this.catalog.movies())s.language&&e.set(s.language,(e.get(s.language)??0)+1);let t=[...e.entries()].sort((s,d)=>d[1]-s[1]).slice(0,10),o=t[0]?.[1]??1;return t.map(([s,d])=>({name:s,count:d,pct:d/o*100}))});uniqueLanguages=g(()=>{let e=new Set;for(let t of this.catalog.movies())t.language&&e.add(t.language);return e.size});nonEnglishPct=g(()=>{let e=this.catalog.movies().filter(o=>o.language);if(e.length===0)return 0;let t=e.filter(o=>o.language!=="English").length;return Math.round(t/e.length*100)});ratingDistribution=g(()=>{let e=new Map,t=["9-10","8-9","7-8","6-7","5-6","4-5","0-4","Unrated"];for(let s of t)e.set(s,0);for(let s of this.catalog.movies()){let d=s.voteAverage;d===0?e.set("Unrated",(e.get("Unrated")??0)+1):d>=9?e.set("9-10",(e.get("9-10")??0)+1):d>=8?e.set("8-9",(e.get("8-9")??0)+1):d>=7?e.set("7-8",(e.get("7-8")??0)+1):d>=6?e.set("6-7",(e.get("6-7")??0)+1):d>=5?e.set("5-6",(e.get("5-6")??0)+1):d>=4?e.set("4-5",(e.get("4-5")??0)+1):e.set("0-4",(e.get("0-4")??0)+1)}let o=Math.max(...e.values(),1);return t.map(s=>({name:s,count:e.get(s)??0,pct:(e.get(s)??0)/o*100})).filter(s=>s.count>0)});silentFilmCount=g(()=>this.catalog.movies().filter(e=>e.year<1930).length);filmNoirCount=g(()=>this.catalog.movies().filter(e=>e.genres.some(t=>t.toLowerCase().includes("noir"))).length);peakDecade=g(()=>{let e=new Map;for(let s of this.catalog.movies()){let d=Math.floor(s.year/10)*10;e.set(d,(e.get(d)??0)+1)}let t=0,o=1950;for(let[s,d]of e)d>t&&(t=d,o=s);return`${o}s`});avgYear=g(()=>{let e=this.catalog.movies();return e.length===0?0:Math.round(e.reduce((t,o)=>t+o.year,0)/e.length)});medianYear=g(()=>{let e=this.catalog.movies();if(e.length===0)return 0;let t=e.map(s=>s.year).sort((s,d)=>s-d),o=Math.floor(t.length/2);return t.length%2===0?Math.round((t[o-1]+t[o])/2):t[o]});yearSpan=g(()=>{let e=this.catalog.movies();if(e.length===0)return"";let t=e.map(o=>o.year);return`${Math.min(...t)}\u2013${Math.max(...t)}`});filmsWithPosters=g(()=>{let e=this.catalog.movies();return e.length===0?0:Math.round(e.filter(t=>t.posterUrl).length/e.length*100)});multiGenreCount=g(()=>this.catalog.movies().filter(e=>e.genres.length>=3).length);highRatedPct=g(()=>{let e=this.catalog.movies().filter(o=>o.voteAverage>0);if(e.length===0)return 0;let t=e.filter(o=>o.voteAverage>=7).length;return Math.round(t/e.length*100)});medianRating=g(()=>{let e=this.catalog.movies().filter(s=>s.voteAverage>0).map(s=>s.voteAverage).sort((s,d)=>s-d);if(e.length===0)return null;let t=Math.floor(e.length/2);return(e.length%2===0?(e[t-1]+e[t])/2:e[t]).toFixed(1)});avgFilmsPerDirector=g(()=>{let e=this.uniqueDirectors(),t=this.totalFilms();return e===0?null:(t/e).toFixed(1)});longestTitle=g(()=>{let e=this.catalog.movies();return e.length===0?null:e.reduce((t,o)=>o.title.length>t.title.length?o:t)});shortestTitle=g(()=>{let e=this.catalog.movies();return e.length===0?null:e.reduce((t,o)=>o.title.length<t.title.length?o:t)});mostVersatileDirector=g(()=>{let e=new Map;for(let o of this.catalog.movies())for(let s of o.directors){let d=e.get(s)??{genres:new Set,count:0};for(let f of o.genres)d.genres.add(f);d.count++,e.set(s,d)}return[...e.entries()].filter(([,o])=>o.count>=5).map(([o,s])=>({name:o,genreCount:s.genres.size,count:s.count})).sort((o,s)=>s.genreCount-o.genreCount)[0]??null});peakYear=g(()=>{let e=new Map;for(let s of this.catalog.movies())e.set(s.year,(e.get(s.year)??0)+1);let t=0,o=0;for(let[s,d]of e)d>t&&(t=d,o=s);return o});soloDirectorFilms=g(()=>this.catalog.movies().filter(e=>e.directors.length===1).length);coDirectedCount=g(()=>this.catalog.movies().filter(e=>e.directors.length>1).length);uniqueLanguageCount=g(()=>new Set(this.catalog.movies().filter(t=>t.language).map(t=>t.language)).size);unratedFilmCount=g(()=>this.catalog.movies().filter(e=>e.voteAverage===0).length);oneFilmDirectorCount=g(()=>{let e=new Map;for(let t of this.catalog.movies())for(let o of t.directors)e.set(o,(e.get(o)??0)+1);return[...e.values()].filter(t=>t===1).length});newestStreamable=g(()=>{let e=this.catalog.movies().filter(t=>t.isStreamable);return e.length===0?null:e.reduce((t,o)=>o.year>t.year?o:t)});multiDirectorPct=g(()=>{let e=this.catalog.movies();if(e.length===0)return null;let t=e.filter(s=>s.directors.length>1).length,o=Math.round(t/e.length*100);return o===0?null:o});avgGenresPerDirector=g(()=>{let e=new Map;for(let s of this.catalog.movies())for(let d of s.directors){let f=e.get(d)??new Set;for(let b of s.genres)f.add(b);e.set(d,f)}let t=[...e.values()].filter(s=>s.size>0);if(t.length<10)return null;let o=t.reduce((s,d)=>s+d.size,0)/t.length;return o>=1.1?o.toFixed(1):null});avgDirectorCareer=g(()=>{let e=new Map;for(let o of this.catalog.movies())for(let s of o.directors){let d=e.get(s)??{min:o.year,max:o.year};o.year<d.min&&(d.min=o.year),o.year>d.max&&(d.max=o.year),e.set(s,d)}let t=[...e.values()].filter(o=>o.max-o.min>0).map(o=>o.max-o.min);return t.length<10?null:Math.round(t.reduce((o,s)=>o+s,0)/t.length)});topStreamableDecade=g(()=>{let e=new Map;for(let o of this.catalog.movies())if(o.isStreamable){let s=Math.floor(o.year/10)*10;e.set(s,(e.get(s)??0)+1)}let t=[...e.entries()].sort((o,s)=>s[1]-o[1])[0];return t?{decade:t[0],count:t[1]}:null});avgFilmAge=g(()=>{let e=this.catalog.movies();if(e.length===0)return 0;let t=new Date().getFullYear();return Math.round(e.reduce((o,s)=>o+(t-s.year),0)/e.length)});medianFilmAge=g(()=>{let e=this.catalog.movies();if(e.length===0)return 0;let t=new Date().getFullYear(),o=e.map(d=>t-d.year).sort((d,f)=>d-f),s=Math.floor(o.length/2);return o.length%2===0?Math.round((o[s-1]+o[s])/2):o[s]});streamableAvgRating=g(()=>{let e=this.catalog.movies().filter(t=>t.isStreamable&&t.voteAverage>0);return e.length<10?null:(e.reduce((t,o)=>t+o.voteAverage,0)/e.length).toFixed(1)});silentEraStreamablePct=g(()=>{let e=this.catalog.movies().filter(o=>o.year<1930);if(e.length<5)return null;let t=Math.round(e.filter(o=>o.isStreamable).length/e.length*100);return t>0?t:null});avgGenresPerFilm=g(()=>{let e=this.catalog.movies();if(e.length===0)return null;let o=e.reduce((s,d)=>s+d.genres.length,0)/e.length;return o<1.1?null:o.toFixed(1)});genrePairs=g(()=>{let e=new Map;for(let s of this.catalog.movies()){let d=[...s.genres].sort();for(let f=0;f<d.length;f++)for(let b=f+1;b<d.length;b++){let P=`${d[f]} + ${d[b]}`;e.set(P,(e.get(P)??0)+1)}}let t=[...e.entries()].sort((s,d)=>d[1]-s[1]).slice(0,8),o=t[0]?.[1]??1;return t.map(([s,d])=>({name:s,count:d,pct:d/o*100}))});coDirectedPct=g(()=>{let e=this.catalog.movies();if(e.length===0)return null;let t=e.filter(s=>s.directors.length>1).length,o=Math.round(t/e.length*100);return o>0&&o<100?o:null});highlyRatedCount=g(()=>this.catalog.movies().filter(e=>e.voteAverage>=8).length);avgDirectorsPerFilm=g(()=>{let e=this.catalog.movies();if(e.length===0)return null;let o=e.reduce((s,d)=>s+d.directors.length,0)/e.length;return o>1.01?o.toFixed(2):null});multiLanguageDirectorCount=g(()=>{let e=this.catalog.movies();if(e.length===0)return null;let t=new Map;for(let s of e)if(s.language)for(let d of s.directors)t.has(d)||t.set(d,new Set),t.get(d).add(s.language);let o=[...t.values()].filter(s=>s.size>=2).length;return o>0?o:null});avgTitleLength=g(()=>{let e=this.catalog.movies();return e.length===0?0:Math.round(e.reduce((t,o)=>t+o.title.length,0)/e.length)});ngOnInit(){this.catalog.load()}computeStats(e){let t=new Map;for(let d of e)t.set(d,(t.get(d)??0)+1);let o=[...t.entries()].sort((d,f)=>f[1]-d[1]).slice(0,10),s=o[0]?.[1]??1;return o.map(([d,f])=>({name:d,count:f,pct:f/s*100}))}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=W({type:a,selectors:[["app-stats"]],decls:7,vars:1,consts:[[1,"stats","container"],[1,"stats__subtitle"],[1,"stats__overview"],[1,"stats__card"],[1,"stats__card-value"],[1,"stats__card-label"],[1,"stats__availability"],[1,"stats__avail-bars"],[1,"stats__avail-row"],[1,"stats__avail-label"],[1,"stats__avail-track"],[1,"stats__avail-fill","stats__avail-fill--ia"],[1,"stats__avail-count"],[1,"stats__avail-fill","stats__avail-fill--yt"],[1,"stats__avail-fill","stats__avail-fill--none"],[1,"stats__sections"],[1,"stats__section"],[1,"stats__bars"],[1,"stats__bar-row","stats__bar-row--link",3,"routerLink"],[1,"stats__bar-row"],[1,"stats__bar-row","stats__bar-row--link",3,"routerLink","queryParams"],[1,"stats__lang-summary"],[1,"stats__highlights"],[1,"stats__highlight",3,"routerLink"],[1,"stats__fun-facts"],[1,"stats__facts-grid"],[1,"stats__fact-card"],[1,"stats__fact-number"],[1,"stats__fact-text"],[1,"stats__bar-label"],[1,"stats__bar-track"],[1,"stats__bar-fill"],[1,"stats__bar-count"],["loading","lazy",1,"stats__highlight-poster",3,"src","alt"],[1,"stats__highlight-text"],[1,"stats__highlight-label"],[1,"stats__highlight-value"],[1,"stats__highlight-meta"],[1,"stats__highlight-initial"],[1,"stats__bar-label","stats__bar-label--wide"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"h1"),r(2,"Catalog Statistics"),i(),n(3,"p",1),r(4,"A look at the numbers behind our collection of classic cinema."),i(),p(5,ne,1,0,"app-loading-spinner")(6,Ke,187,60),i()),t&2&&(l(5),_(o.catalog.loading()?5:6))},dependencies:[B,K],styles:[".stats[_ngcontent-%COMP%]{padding:var(--space-xl) 0}.stats__subtitle[_ngcontent-%COMP%]{color:var(--text-tertiary);margin:0 0 var(--space-xl)}.stats__overview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:var(--space-md);margin-bottom:var(--space-2xl)}.stats__card[_ngcontent-%COMP%]{background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-lg);text-align:center}.stats__card-value[_ngcontent-%COMP%]{display:block;font-family:var(--font-heading);font-size:2rem;font-weight:700;color:var(--accent-gold);margin-bottom:4px}.stats__card-label[_ngcontent-%COMP%]{font-size:.8rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary)}.stats__sections[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-xl);margin-bottom:var(--space-xl)}.stats__section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:var(--space-md)}.stats__bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.stats__bar-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.stats__bar-row--link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;border-radius:var(--radius);padding:2px 0;transition:background-color .15s}.stats__bar-row--link[_ngcontent-%COMP%]:hover{background-color:var(--bg-hover)}.stats__bar-row--link[_ngcontent-%COMP%]:hover   .stats__bar-label[_ngcontent-%COMP%]{color:var(--accent-gold)}.stats__bar-label[_ngcontent-%COMP%]{min-width:90px;font-size:.85rem;color:var(--text-secondary);text-align:right;transition:color .15s}.stats__bar-label--wide[_ngcontent-%COMP%]{min-width:140px}.stats__bar-track[_ngcontent-%COMP%]{flex:1;height:8px;background-color:var(--bg-raised);border-radius:4px;overflow:hidden}.stats__bar-fill[_ngcontent-%COMP%]{height:100%;background-color:var(--accent-gold);border-radius:4px;transition:width .4s ease}.stats__bar-count[_ngcontent-%COMP%]{min-width:32px;font-size:.8rem;color:var(--text-tertiary)}.stats__availability[_ngcontent-%COMP%]{margin-bottom:var(--space-2xl)}.stats__availability[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:var(--space-md)}.stats__avail-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.stats__avail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.stats__avail-label[_ngcontent-%COMP%]{min-width:130px;font-size:.9rem;color:var(--text-secondary)}.stats__avail-track[_ngcontent-%COMP%]{flex:1;height:20px;background:var(--bg-raised);border-radius:var(--radius);overflow:hidden}.stats__avail-fill[_ngcontent-%COMP%]{height:100%;border-radius:var(--radius);transition:width .4s ease}.stats__avail-fill--ia[_ngcontent-%COMP%]{background:#198754cc}.stats__avail-fill--yt[_ngcontent-%COMP%]{background:#ff0000b3}.stats__avail-fill--none[_ngcontent-%COMP%]{background:var(--border-bright)}.stats__avail-count[_ngcontent-%COMP%]{min-width:50px;font-size:.85rem;color:var(--text-tertiary);text-align:right}.stats__highlights[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:var(--space-md);margin-top:var(--space-xl)}.stats__highlight[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md) var(--space-lg);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;color:inherit;transition:border-color .2s,background-color .2s}.stats__highlight[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);background:var(--bg-raised);color:inherit}.stats__highlight-poster[_ngcontent-%COMP%]{width:40px;height:60px;object-fit:cover;border-radius:var(--radius-sm);flex-shrink:0}.stats__highlight-initial[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--accent-gold-dim);color:var(--accent-gold);font-family:var(--font-heading);font-weight:700;font-size:1.2rem;flex-shrink:0}.stats__highlight-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.stats__highlight-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.06em;color:var(--text-tertiary);font-weight:600}.stats__highlight-value[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1rem;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.stats__highlight[_ngcontent-%COMP%]:hover   .stats__highlight-value[_ngcontent-%COMP%]{color:var(--accent-gold)}.stats__highlight-meta[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary)}.stats__lang-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md)}.stats__fun-facts[_ngcontent-%COMP%]{margin-top:var(--space-2xl)}.stats__fun-facts[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:var(--space-lg)}.stats__facts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-md)}.stats__fact-card[_ngcontent-%COMP%]{background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-lg);text-align:center}.stats__fact-number[_ngcontent-%COMP%]{display:block;font-family:var(--font-heading);font-size:1.8rem;font-weight:700;color:var(--accent-gold);margin-bottom:4px}.stats__fact-text[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary)}@media(max-width:768px){.stats__sections[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:480px){.stats__overview[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.stats__bar-label[_ngcontent-%COMP%]{min-width:70px;font-size:.8rem}.stats__avail-label[_ngcontent-%COMP%]{min-width:80px;font-size:.8rem}.stats__highlights[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.stats__lang-summary[_ngcontent-%COMP%]{grid-template-columns:1fr}.stats__facts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"],changeDetection:0})};export{Q as StatsComponent};
