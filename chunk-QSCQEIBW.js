import{$ as f,F as l,O as g,R as b,_ as w,ia as i,ja as a,ka as u,la as d,oa as m,pa as h,qa as _,r as v,ra as C,sa as y,ta as S,ua as x,x as c,y as s,z as p}from"./chunk-DVNYVIZW.js";var O="bw-cinema-recent",M=12,R=class t{ids=l(this.load());add(e){this.ids.update(o=>{let n=o.filter(r=>r!==e);return[e,...n].slice(0,M)}),this.save()}save(){try{localStorage.setItem(O,JSON.stringify(this.ids()))}catch{}}load(){try{let e=localStorage.getItem(O);if(e)return JSON.parse(e)}catch{}return[]}static \u0275fac=function(o){return new(o||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var V=["scrollContainer"],P=["*"];function D(t,e){if(t&1){let o=d();i(0,"button",4),m("click",function(){c(o);let r=h();return s(r.scroll(-1))}),p(),i(1,"svg",5),u(2,"polyline",6),a()()}}function A(t,e){if(t&1){let o=d();i(0,"button",7),m("click",function(){c(o);let r=h();return s(r.scroll(1))}),p(),i(1,"svg",5),u(2,"polyline",8),a()()}}var E=class t{containerRef;canScrollLeft=l(!1);canScrollRight=l(!1);resizeObserver=null;ngAfterViewInit(){this.updateArrows(),this.resizeObserver=new ResizeObserver(()=>this.updateArrows()),this.resizeObserver.observe(this.containerRef.nativeElement)}ngOnDestroy(){this.resizeObserver?.disconnect()}updateArrows(){let e=this.containerRef.nativeElement;this.canScrollLeft.set(e.scrollLeft>10),this.canScrollRight.set(e.scrollLeft<e.scrollWidth-e.clientWidth-10)}scroll(e){let o=this.containerRef.nativeElement;o.scrollBy({left:e*o.clientWidth*.8,behavior:"smooth"}),setTimeout(()=>this.updateArrows(),400)}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=b({type:t,selectors:[["app-scroll-row"]],viewQuery:function(o,n){if(o&1&&y(V,5),o&2){let r;S(r=x())&&(n.containerRef=r.first)}},ngContentSelectors:P,decls:5,vars:2,consts:[["scrollContainer",""],[1,"scroll-row",3,"scroll"],["aria-label","Scroll left",1,"scroll-arrow","scroll-arrow--left"],["aria-label","Scroll right",1,"scroll-arrow","scroll-arrow--right"],["aria-label","Scroll left",1,"scroll-arrow","scroll-arrow--left",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["points","15 18 9 12 15 6"],["aria-label","Scroll right",1,"scroll-arrow","scroll-arrow--right",3,"click"],["points","9 18 15 12 9 6"]],template:function(o,n){if(o&1){let r=d();_(),i(0,"div",1,0),m("scroll",function(){return c(r),s(n.updateArrows())}),C(2),a(),w(3,D,3,0,"button",2),w(4,A,3,0,"button",3)}o&2&&(g(3),f(n.canScrollLeft()?3:-1),g(),f(n.canScrollRight()?4:-1))},styles:["[_nghost-%COMP%]{display:block;position:relative}.scroll-row[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);overflow-x:auto;scroll-snap-type:x mandatory;scroll-behavior:smooth;padding-bottom:var(--space-sm);-webkit-overflow-scrolling:touch}.scroll-row[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.scroll-row[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--bg-raised);border-radius:3px}.scroll-row[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-bright);border-radius:3px}.scroll-arrow[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 18px);width:36px;height:36px;border-radius:50%;background:var(--bg-surface);border:1px solid var(--border-bright);color:var(--text-primary);display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:var(--shadow-md);z-index:5;opacity:0;transition:opacity .2s,border-color .2s,color .2s}.scroll-arrow--left[_ngcontent-%COMP%]{left:-6px}.scroll-arrow--right[_ngcontent-%COMP%]{right:-6px}[_nghost-%COMP%]:hover   .scroll-arrow[_ngcontent-%COMP%]{opacity:1}.scroll-arrow[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold);background:var(--accent-gold-dim)}@media(hover:none){.scroll-arrow[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})};export{R as a,E as b};
