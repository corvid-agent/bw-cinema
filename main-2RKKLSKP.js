import{a as Kt}from"./chunk-5BGZ6L4W.js";import{a as Ee}from"./chunk-7G6M72YL.js";import{$ as M,$a as Bt,A as U,B as qe,Ba as St,C as ae,Ca as At,D as ht,Da as Ot,E as mt,F as v,Fa as Ve,G as B,Ga as kt,H as ft,Ha as ce,I as gt,J as Qe,K as _t,Ka as k,M as vt,N as yt,O as c,Oa as Ft,P as Ke,Pa as Pt,Q as y,Qa as It,R as x,Ra as Ye,S as xe,T,Ta as Nt,Ua as Tt,V as z,W as bt,Wa as Rt,X as Ct,Xa as jt,Y as we,Z as se,_ as w,a as _,b as S,ba as xt,bb as Ht,c as ye,ca as Q,cb as Lt,d as $,da as K,db as J,e as st,ea as b,eb as De,f as lt,fa as o,fb as Gt,ga as a,gb as Ut,h as N,ha as g,hb as zt,i as ct,ia as Y,ib as Wt,j as R,ja as Z,jb as $t,k as We,kb as qt,l as q,la as V,lb as Qt,m as oe,n as dt,na as p,o as D,oa as Me,p as ut,pa as m,q as be,qa as wt,r as A,ra as Mt,s as Ce,sa as Vt,t as j,u as $e,ua as C,v as f,va as Dt,w as pt,wa as s,x as d,xa as W,y as u,ya as le,z as O,za as Et}from"./chunk-TOYJLBVG.js";var Ze="Service workers are disabled or not supported by this browser",X=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new ye(i=>i.error(new D(5601,!1)));else{let i=null,r=new $;this.worker=new ye(E=>(i!==null&&E.next(i),r.subscribe(ve=>E.next(ve))));let l=()=>{let{controller:E}=e;E!==null&&(i=E,r.next(i))};e.addEventListener("controllerchange",l),l(),this.registration=this.worker.pipe(oe(()=>e.getRegistration().then(E=>{if(!E)throw new D(5601,!1);return E})));let h=new $;this.events=h.asObservable();let I=E=>{let{data:ve}=E;ve?.type&&h.next(ve)};e.addEventListener("message",I),t?.get(we,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",l),e.removeEventListener("message",I)})}}postMessage(e,t){return new Promise(i=>{this.worker.pipe(q(1)).subscribe(r=>{r.postMessage(_({action:e},t)),i()})})}postMessageWithOperation(e,t,i){let r=this.waitForOperationCompleted(i),l=this.postMessage(e,t);return Promise.all([l,r]).then(([,h])=>h)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=i=>i.type===e:t=i=>e.includes(i.type),this.events.pipe(We(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(q(1))}waitForOperationCompleted(e){return new Promise((t,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(We(r=>r.nonce===e),q(1),N(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).subscribe({next:t,error:i})})}get isEnabled(){return!!this.serviceWorker}},Pn=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new $;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=R,this.notificationClicks=R,this.notificationCloses=R,this.pushSubscriptionChanges=R,this.subscription=R;return}this.messages=this.sw.eventsOfType("PUSH").pipe(N(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(N(r=>r.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(N(r=>r.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(N(r=>r.data)),this.pushManager=this.sw.registration.pipe(N(r=>r.pushManager));let i=this.pushManager.pipe(oe(r=>r.getSubscription()));this.subscription=new ye(r=>{let l=i.subscribe(r),h=this.subscriptionChanges.subscribe(r);return()=>{l.unsubscribe(),h.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Ze));let i={userVisibleOnly:!0},r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(r.length));for(let h=0;h<r.length;h++)l[h]=r.charCodeAt(h);return i.applicationServerKey=l,new Promise((h,I)=>{this.pushManager.pipe(oe(re=>re.subscribe(i)),q(1)).subscribe({next:re=>{this.subscriptionChanges.next(re),h(re)},error:I})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ze));let t=i=>{if(i===null)throw new D(5602,!1);return i.unsubscribe().then(r=>{if(!r)throw new D(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((i,r)=>{this.subscription.pipe(q(1),oe(t)).subscribe({next:i,error:r})})}decodeBase64(t){return atob(t)}static \u0275fac=function(i){return new(i||n)($e(X))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),In=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=R,this.unrecoverable=R;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ze));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new D(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(i){return new(i||n)($e(X))};static \u0275prov=A({token:n,factory:n.\u0275fac})}return n})(),Zt=new j("");function Nn(){let n=f(de);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=f(Zt),t=f(ht),i=f(we);t.runOutsideAngular(()=>{let r=navigator.serviceWorker,l=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",l),i.onDestroy(()=>{r.removeEventListener("controllerchange",l)})}),t.runOutsideAngular(()=>{let r,{registrationStrategy:l}=n;if(typeof l=="function")r=new Promise(h=>l().subscribe(()=>h()));else{let[h,...I]=(l||"registerWhenStable:30000").split(":");switch(h){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=Yt(+I[0]||0);break;case"registerWhenStable":r=Promise.race([i.whenStable(),Yt(+I[0])]);break;default:throw new D(5600,!1)}}r.then(()=>{i.destroyed||navigator.serviceWorker.register(e,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(h=>console.error(ut(5604,!1)))})})}function Yt(n){return new Promise(e=>setTimeout(e,n))}function Tn(){let n=f(de),e=f(qe),t=!0;return new X(t&&n.enabled!==!1?navigator.serviceWorker:void 0,e)}var de=class{enabled;updateViaCache;type;scope;registrationStrategy};function Jt(n,e={}){return pt([Pn,In,{provide:Zt,useValue:n},{provide:de,useValue:e},{provide:X,useFactory:Tn},Ct(Nn)])}var Xt=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",title:"BW Cinema \u2014 Classic Black & White Films",loadComponent:()=>import("./chunk-7R74O2JE.js").then(n=>n.HomeComponent)},{path:"browse",title:"Browse Films \u2014 BW Cinema",loadComponent:()=>import("./chunk-IZYHMPHL.js").then(n=>n.BrowseComponent)},{path:"movie/:id",title:"Film Details \u2014 BW Cinema",loadComponent:()=>import("./chunk-MOAL4YT5.js").then(n=>n.MovieComponent)},{path:"watch/:id",title:"Now Playing \u2014 BW Cinema",loadComponent:()=>import("./chunk-2ZWWJ3JW.js").then(n=>n.WatchComponent)},{path:"collection",title:"My Collection \u2014 BW Cinema",loadComponent:()=>import("./chunk-QZGCKF6K.js").then(n=>n.CollectionComponent)},{path:"director/:name",title:"Director \u2014 BW Cinema",loadComponent:()=>import("./chunk-HQTJIRZK.js").then(n=>n.DirectorComponent)},{path:"compare",title:"Compare Films \u2014 BW Cinema",loadComponent:()=>import("./chunk-HTKE6AWB.js").then(n=>n.CompareComponent)},{path:"about",title:"About \u2014 BW Cinema",loadComponent:()=>import("./chunk-4WTEBUG6.js").then(n=>n.AboutComponent)},{path:"genre/:name",title:"Genre \u2014 BW Cinema",loadComponent:()=>import("./chunk-U45322P3.js").then(n=>n.GenreComponent)},{path:"decade/:year",title:"Decade \u2014 BW Cinema",loadComponent:()=>import("./chunk-SV2FL3LZ.js").then(n=>n.DecadeComponent)},{path:"stats",title:"Catalog Statistics \u2014 BW Cinema",loadComponent:()=>import("./chunk-ZZ4NNVH4.js").then(n=>n.StatsComponent)},{path:"quiz",title:"What Should I Watch? \u2014 BW Cinema",loadComponent:()=>import("./chunk-W6KQFRL2.js").then(n=>n.QuizComponent)},{path:"wrapped",title:"Year in Review \u2014 BW Cinema",loadComponent:()=>import("./chunk-5URMZ5QN.js").then(n=>n.WrappedComponent)},{path:"actor/:name",title:"Actor \u2014 BW Cinema",loadComponent:()=>import("./chunk-KTSSTPEE.js").then(n=>n.ActorComponent)},{path:"explore",title:"Explore \u2014 BW Cinema",loadComponent:()=>import("./chunk-MMEOD2PP.js").then(n=>n.ExploreComponent)},{path:"**",redirectTo:"home"}];var en={production:!0,tmdbReadToken:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4NmQ5NmUzZWM4ODVkYmY2NGQ0ZTNkNjg0ODViZDM0NCIsIm5iZiI6MTc3MTIxNDU1MS43OTcsInN1YiI6IjY5OTI5NmQ3Y2ZmM2ZmNzllMjA2NTVjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LyISFImNKOYx3BGs7H-bXvDbCALDCtPlNN0ME3PrOUw"};var tn=(n,e)=>{if(n.url.includes("api.themoviedb.org")){let t=n.clone({setHeaders:{Authorization:`Bearer ${en.tmdbReadToken}`}});return e(t)}return e(n)};var Je=500,Rn=300*1e3,P=new Map;function jn(){let n=Date.now();for(let[e,t]of P)t.expiry<n&&P.delete(e)}function Bn(n){let e=P.keys();for(let t=0;t<n;t++){let{value:i,done:r}=e.next();if(r)break;P.delete(i)}}var nn=(n,e)=>{if(n.method!=="GET"||!(n.url.includes("api.themoviedb.org")||n.url.includes("omdbapi.com")))return e(n);let i=P.get(n.urlWithParams);if(i){if(i.expiry>Date.now())return lt(i.response.clone());P.delete(n.urlWithParams)}return e(n).pipe(dt(r=>{r instanceof Tt&&(P.size>Je&&jn(),P.size>=Je&&Bn(Math.max(50,P.size-Je+1)),P.set(n.urlWithParams,{response:r.clone(),expiry:Date.now()+Rn}))}))};var rn={providers:[mt(),Ut(Xt,$t(),qt(),Wt(Gt),zt({scrollPositionRestoration:"top"})),Rt(jt([tn,nn])),Jt("ngsw-worker.js",{enabled:!Ft(),registrationStrategy:"registerWhenStable:30000"})]};var pn=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(y(Ke),y(Qe))};static \u0275dir=T({type:n})}return n})(),Hn=(()=>{class n extends pn{static \u0275fac=(()=>{let t;return function(r){return(t||(t=gt(n)))(r||n)}})();static \u0275dir=T({type:n,features:[z]})}return n})(),hn=new j("");var Ln={provide:hn,useExisting:be(()=>Te),multi:!0};function Gn(){let n=Ye()?Ye().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Un=new j(""),Te=(()=>{class n extends pn{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Gn())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(y(Ke),y(Qe),y(Un,8))};static \u0275dir=T({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&p("input",function(h){return r._handleInput(h.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(h){return r._compositionEnd(h.target.value)})},standalone:!1,features:[Ve([Ln]),z]})}return n})();var mn=new j(""),fn=new j("");function gn(n){return n!=null}function _n(n){return bt(n)?st(n):n}function vn(n){let e={};return n.forEach(t=>{e=t!=null?_(_({},e),t):e}),Object.keys(e).length===0?null:e}function yn(n,e){return e.map(t=>t(n))}function zn(n){return!n.validate}function bn(n){return n.map(e=>zn(e)?e:t=>e.validate(t))}function Wn(n){if(!n)return null;let e=n.filter(gn);return e.length==0?null:function(t){return vn(yn(t,e))}}function tt(n){return n!=null?Wn(bn(n)):null}function $n(n){if(!n)return null;let e=n.filter(gn);return e.length==0?null:function(t){let i=yn(t,e).map(_n);return ct(i).pipe(N(vn))}}function nt(n){return n!=null?$n(bn(n)):null}function on(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qn(n){return n._rawValidators}function Qn(n){return n._rawAsyncValidators}function Xe(n){return n?Array.isArray(n)?n:[n]:[]}function Ae(n,e){return Array.isArray(n)?n.includes(e):n===e}function an(n,e){let t=Xe(e);return Xe(n).forEach(r=>{Ae(t,r)||t.push(r)}),t}function sn(n,e){return Xe(e).filter(t=>!Ae(n,t))}var Oe=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control?.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ne=class extends Oe{name;get formDirective(){return null}get path(){return null}},ge=class extends Oe{_parent=null;name=null;valueAccessor=null},ke=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Cn=(()=>{class n extends ke{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(y(ge,2))};static \u0275dir=T({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&C("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[z]})}return n})(),xn=(()=>{class n extends ke{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(y(ne,10))};static \u0275dir=T({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&C("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[z]})}return n})();var ue="VALID",Se="INVALID",ee="PENDING",pe="DISABLED",H=class{},Fe=class extends H{value;source;constructor(e,t){super(),this.value=e,this.source=t}},me=class extends H{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},fe=class extends H{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},te=class extends H{status;source;constructor(e,t){super(),this.status=e,this.source=t}},et=class extends H{source;constructor(e){super(),this.source=e}},Pe=class extends H{source;constructor(e){super(),this.source=e}};function wn(n){return(Re(n)?n.validators:n)||null}function Kn(n){return Array.isArray(n)?tt(n):n||null}function Mn(n,e){return(Re(e)?e.asyncValidators:n)||null}function Yn(n){return Array.isArray(n)?nt(n):n||null}function Re(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Zn(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new D(1e3,"");if(!i[t])throw new D(1001,"")}function Jn(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new D(1002,"")})}var Ie=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return B(this.statusReactive)}set status(e){B(()=>this.statusReactive.set(e))}_status=k(()=>this.statusReactive());statusReactive=v(void 0);get valid(){return this.status===ue}get invalid(){return this.status===Se}get pending(){return this.status==ee}get disabled(){return this.status===pe}get enabled(){return this.status!==pe}errors;get pristine(){return B(this.pristineReactive)}set pristine(e){B(()=>this.pristineReactive.set(e))}_pristine=k(()=>this.pristineReactive());pristineReactive=v(!0);get dirty(){return!this.pristine}get touched(){return B(this.touchedReactive)}set touched(e){B(()=>this.touchedReactive.set(e))}_touched=k(()=>this.touchedReactive());touchedReactive=v(!1);get untouched(){return!this.touched}_events=new $;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(an(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(an(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sn(e,this._rawAsyncValidators))}hasValidator(e){return Ae(this._rawValidators,e)}hasAsyncValidator(e){return Ae(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;e.onlySelf||this._parent?.markAsTouched(S(_({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new fe(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),e.onlySelf||this._parent?._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new fe(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;e.onlySelf||this._parent?.markAsDirty(S(_({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new me(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),e.onlySelf||this._parent?._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new me(!0,i))}markAsPending(e={}){this.status=ee;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new te(this.status,t)),this.statusChanges.emit(this.status)),e.onlySelf||this._parent?.markAsPending(S(_({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=pe,this.errors=null,this._forEachChild(r=>{r.disable(S(_({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fe(this.value,i)),this._events.next(new te(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(S(_({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ue,this._forEachChild(i=>{i.enable(S(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(S(_({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){e.onlySelf||(this._parent?.updateValueAndValidity(e),e.skipPristineCheck||this._parent?._updatePristine({},t),this._parent?._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ue||this.status===ee)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fe(this.value,t)),this._events.next(new te(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),e.onlySelf||this._parent?.updateValueAndValidity(S(_({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pe:ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ee,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=_n(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i?.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new te(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?pe:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ee)?ee:this._anyControlsHaveStatus(Se)?Se:ue}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,e.onlySelf||this._parent?._updatePristine(e,t),r&&this._events.next(new me(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new fe(this.touched,t)),e.onlySelf||this._parent?._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Re(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!!this._parent?.dirty&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Kn(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Yn(this._rawAsyncValidators)}},Ne=class extends Ie{constructor(e,t,i){super(wn(t),Mn(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Jn(this,!0,e),Object.keys(e).forEach(i=>{Zn(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,S(_({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Pe(this))}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,l)=>{i=t(i,r,l)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var it=new j("",{factory:()=>rt}),rt="always";function Xn(n,e){return[...e.path,n]}function Vn(n,e,t=rt){Dn(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),ti(n,e),ii(n,e),ni(n,e),ei(n,e)}function ln(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ei(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Dn(n,e){let t=qn(n);e.validator!==null?n.setValidators(on(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Qn(n);e.asyncValidator!==null?n.setAsyncValidators(on(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();ln(e._rawValidators,r),ln(e._rawAsyncValidators,r)}function ti(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&En(n,e)})}function ni(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&En(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function En(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ii(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ri(n,e){n==null,Dn(n,e)}function oi(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function ai(n){return Object.getPrototypeOf(n.constructor)===Hn}function si(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function li(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(l=>{l.constructor===Te?t=l:ai(l)?i=l:r=l}),r||i||t||null}var ci={provide:ne,useExisting:be(()=>ot)},he=Promise.resolve(),ot=(()=>{class n extends ne{callSetDisabledState;get submitted(){return B(this.submittedReactive)}_submitted=k(()=>this.submittedReactive());submittedReactive=v(!1);_directives=new Set;form;ngSubmit=new ae;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new Ne({},tt(t),nt(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){he.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Vn(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){he.then(()=>{this._findContainer(t.path)?.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){he.then(()=>{let i=this._findContainer(t.path),r=new Ne({});ri(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){he.then(()=>{this._findContainer(t.path)?.removeControl?.(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){he.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),si(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new et(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(y(mn,10),y(fn,10),y(it,8))};static \u0275dir=T({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&p("submit",function(h){return r.onSubmit(h)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ve([ci]),z]})}return n})();function cn(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function dn(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var di=class extends Ie{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(wn(t),Mn(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Re(t)&&(t.nonNullable||t.initialValueIsDefault)&&(dn(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Pe(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){dn(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ui={provide:ge,useExisting:be(()=>at)},un=Promise.resolve(),at=(()=>{class n extends ge{_changeDetectorRef;callSetDisabledState;control=new di;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ae;constructor(t,i,r,l,h,I){super(),this._changeDetectorRef=h,this.callSetDisabledState=I,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=li(this,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),oi(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective?.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Vn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){un.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&It(i);un.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Xn(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(y(ne,9),y(mn,10),y(fn,10),y(hn,10),y(Pt,8),y(it,8))};static \u0275dir=T({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ve([ui]),z,ft]})}return n})();var Sn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=T({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var pi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xe({type:n});static \u0275inj=Ce({})}return n})();var An=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:it,useValue:t.callSetDisabledState??rt}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xe({type:n});static \u0275inj=Ce({imports:[pi]})}return n})();var On="bw-cinema-theme",ie=class n{theme=v(this.loadTheme());toggle(){let e=this.theme()==="dark"?"sepia":"dark";this.theme.set(e),this.applyTheme(e),localStorage.setItem(On,e)}init(){this.applyTheme(this.theme())}applyTheme(e){e==="sepia"?document.documentElement.setAttribute("data-theme","sepia"):document.documentElement.removeAttribute("data-theme")}loadTheme(){try{if(localStorage.getItem(On)==="sepia")return"sepia"}catch{}return"dark"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var kn="bw-cinema-a11y",mi={default:"17px",large:"20px","x-large":"23px","xx-large":"27px"},L=["default","large","x-large","xx-large"],G=class n{prefs=v(this.load());panelOpen=v(!1);init(){this.apply(this.prefs())}increaseFontSize(){let e=this.prefs().fontSize,t=L.indexOf(e);t<L.length-1&&this.update({fontSize:L[t+1]})}decreaseFontSize(){let e=this.prefs().fontSize,t=L.indexOf(e);t>0&&this.update({fontSize:L[t-1]})}toggleHighContrast(){this.update({highContrast:!this.prefs().highContrast})}toggleReducedMotion(){this.update({reducedMotion:!this.prefs().reducedMotion})}toggleWideSpacing(){this.update({wideSpacing:!this.prefs().wideSpacing})}resetAll(){this.update({fontSize:"default",highContrast:!1,reducedMotion:!1,wideSpacing:!1})}getFontSizeLabel(){switch(this.prefs().fontSize){case"default":return"Default";case"large":return"Large";case"x-large":return"X-Large";case"xx-large":return"XX-Large"}}canIncrease(){return L.indexOf(this.prefs().fontSize)<L.length-1}canDecrease(){return L.indexOf(this.prefs().fontSize)>0}update(e){let t=_(_({},this.prefs()),e);this.prefs.set(t),this.apply(t),this.save(t)}apply(e){let t=document.documentElement;t.style.setProperty("--font-size-base",mi[e.fontSize]),t.classList.toggle("high-contrast",e.highContrast),t.classList.toggle("reduced-motion",e.reducedMotion),t.classList.toggle("wide-spacing",e.wideSpacing)}save(e){try{localStorage.setItem(kn,JSON.stringify(e))}catch{}}load(){let e={fontSize:"default",highContrast:!1,reducedMotion:!1,wideSpacing:!1};try{let t=localStorage.getItem(kn);if(t){let i=JSON.parse(t);return _(_({},e),i)}}catch{}return e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};var fi=["searchInput"],gi=n=>({q:n}),_i=n=>["/movie",n],vi=(n,e)=>e.id;function yi(n,e){if(n&1&&(o(0,"span",11),s(1),a()),n&2){let t=m();c(),W(t.watchlistCount())}}function bi(n,e){if(n&1&&g(0,"img",33),n&2){let t=m().$implicit;b("src",t.posterUrl,_t)("alt",t.title)}}function Ci(n,e){n&1&&g(0,"div",34)}function xi(n,e){if(n&1&&(o(0,"span",38),s(1),a()),n&2){let t=m().$implicit;c(),le("\u2605 ",t.voteAverage.toFixed(1))}}function wi(n,e){if(n&1){let t=V();o(0,"a",32),p("mousedown",function(){let r=d(t).$implicit,l=m(2);return u(l.selectResult(r.id))}),w(1,bi,1,2,"img",33)(2,Ci,1,0,"div",34),o(3,"div",35)(4,"span",36),s(5),a(),o(6,"span",37),s(7),a()(),w(8,xi,2,1,"span",38),a()}if(n&2){let t=e.$implicit,i=e.$index,r=m(2);C("header__autocomplete-item--active",i===r.activeResultIndex()),b("routerLink",ce(8,_i,t.id)),c(),M(t.posterUrl?1:2),c(4),W(t.title),c(2),Et("",t.year," \xB7 ",t.directors.slice(0,2).join(", ")),c(),M(t.voteAverage>0?8:-1)}}function Mi(n,e){if(n&1){let t=V();o(0,"div",21),Q(1,wi,9,10,"a",30,vi),o(3,"a",31),p("mousedown",function(){d(t);let r=m();return u(r.onSearch())}),s(4),a()()}if(n&2){let t=m();c(),K(t.searchResults()),c(2),b("queryParams",ce(2,gi,t.searchQuery())),c(),le(" View all ",t.totalSearchResults()," results \u2192 ")}}function Vi(n,e){n&1&&(O(),o(0,"svg",23),g(1,"circle",39)(2,"line",40)(3,"line",41)(4,"line",42)(5,"line",43)(6,"line",44)(7,"line",45)(8,"line",46)(9,"line",47),a())}function Di(n,e){n&1&&(O(),o(0,"svg",23),g(1,"path",48),a())}var je=class n{router=f(Lt);collection=f(Kt);catalog=f(Qt);theme=f(ie);a11y=f(G);menuOpen=v(!1);searchQuery=v("");searchFocused=v(!1);activeResultIndex=v(-1);watchlistCount=k(()=>this.collection.watchlistIds().size);searchPlaceholder=k(()=>{try{return typeof window<"u"&&typeof window.matchMedia=="function"&&window.matchMedia("(max-width: 768px)").matches?"Search films...":"Search films... (/ to focus)"}catch{return"Search films..."}});totalSearchResults=k(()=>{let e=this.searchQuery().trim().toLowerCase();return e.length<2?0:this.catalog.movies().filter(t=>t.title.toLowerCase().includes(e)||t.directors.some(i=>i.toLowerCase().includes(e))).length});searchResults=k(()=>{let e=this.searchQuery().trim().toLowerCase();return e.length<2?[]:this.catalog.movies().filter(i=>i.title.toLowerCase().includes(e)||i.directors.some(r=>r.toLowerCase().includes(e))).sort((i,r)=>r.voteAverage-i.voteAverage).slice(0,6)});searchInput;onGlobalKey(e){e.key==="/"&&!this.isInputFocused()&&(e.preventDefault(),this.searchInput?.nativeElement.focus())}isInputFocused(){let e=document.activeElement;if(!e)return!1;let t=e.tagName.toLowerCase();return t==="input"||t==="textarea"||t==="select"||e.isContentEditable}ngOnInit(){this.router.events.subscribe(e=>{e instanceof Bt&&this.menuOpen.set(!1)})}onSearch(){let e=this.activeResultIndex(),t=this.searchResults();if(e>=0&&e<t.length){this.selectResult(t[e].id);return}let i=this.searchQuery().trim();i&&(this.searchFocused.set(!1),this.activeResultIndex.set(-1),this.router.navigate(["/browse"],{queryParams:{q:i}}),this.searchQuery.set(""),this.menuOpen.set(!1))}clearSearch(){this.searchQuery()?(this.searchQuery.set(""),this.activeResultIndex.set(-1)):this.searchInput?.nativeElement.blur()}onSearchBlur(){setTimeout(()=>{this.searchFocused.set(!1),this.activeResultIndex.set(-1)},200)}navigateResults(e,t){let i=this.searchResults();i.length!==0&&(e.preventDefault(),this.activeResultIndex.update(r=>{let l=r+t;return l<0?i.length-1:l>=i.length?0:l}))}selectResult(e){this.searchFocused.set(!1),this.searchQuery.set(""),this.activeResultIndex.set(-1),this.menuOpen.set(!1),this.router.navigate(["/movie",e])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-header"]],viewQuery:function(t,i){if(t&1&&wt(fi,5),t&2){let r;Mt(r=Vt())&&(i.searchInput=r.first)}},hostBindings:function(t,i){t&1&&p("keydown",function(l){return i.onGlobalKey(l)},yt)},decls:42,vars:17,consts:[["searchInput",""],[1,"header"],[1,"header__inner","container"],["routerLink","/home",1,"header__logo"],[1,"header__logo-icon"],["aria-label","Toggle navigation menu",1,"header__hamburger",3,"click"],[1,"header__hamburger-bar"],["role","navigation","aria-label","Main navigation",1,"header__nav"],["routerLink","/home","routerLinkActive","active",3,"click"],["routerLink","/browse","routerLinkActive","active",3,"click"],["routerLink","/collection","routerLinkActive","active",1,"header__nav-collection",3,"click"],[1,"header__badge"],["routerLink","/compare","routerLinkActive","active",3,"click"],["routerLink","/explore","routerLinkActive","active",3,"click"],["routerLink","/stats","routerLinkActive","active",3,"click"],["routerLink","/about","routerLinkActive","active",3,"click"],["role","search",1,"header__search",3,"ngSubmit"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round",1,"header__search-icon"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","search","name","q","aria-label","Search films (press / to focus)","autocomplete","off",1,"header__search-input",3,"ngModelChange","keydown.escape","keydown.arrowDown","keydown.arrowUp","focus","blur","placeholder","ngModel"],["role","listbox",1,"header__autocomplete"],[1,"header__theme-toggle",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["aria-label","Accessibility settings","title","Accessibility settings",1,"header__a11y-toggle",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","4.5","r","2.5"],["d","M12 7v5"],["d","m8 10 4 2 4-2"],["d","m9 22 3-7 3 7"],["role","option",1,"header__autocomplete-item",3,"header__autocomplete-item--active","routerLink"],["routerLink","/browse",1,"header__autocomplete-all",3,"mousedown","queryParams"],["role","option",1,"header__autocomplete-item",3,"mousedown","routerLink"],[3,"src","alt"],[1,"header__autocomplete-placeholder"],[1,"header__autocomplete-info"],[1,"header__autocomplete-title"],[1,"header__autocomplete-meta"],[1,"header__autocomplete-rating"],["cx","12","cy","12","r","5"],["x1","12","y1","1","x2","12","y2","3"],["x1","12","y1","21","x2","12","y2","23"],["x1","4.22","y1","4.22","x2","5.64","y2","5.64"],["x1","18.36","y1","18.36","x2","19.78","y2","19.78"],["x1","1","y1","12","x2","3","y2","12"],["x1","21","y1","12","x2","23","y2","12"],["x1","4.22","y1","19.78","x2","5.64","y2","18.36"],["x1","18.36","y1","5.64","x2","19.78","y2","4.22"],["d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"]],template:function(t,i){if(t&1){let r=V();o(0,"header",1)(1,"div",2)(2,"a",3)(3,"span",4),s(4,"\u25C6"),a(),s(5," BW Cinema "),a(),o(6,"button",5),p("click",function(){return d(r),u(i.menuOpen.set(!i.menuOpen()))}),g(7,"span",6)(8,"span",6)(9,"span",6),a(),o(10,"nav",7)(11,"a",8),p("click",function(){return d(r),u(i.menuOpen.set(!1))}),s(12,"Home"),a(),o(13,"a",9),p("click",function(){return d(r),u(i.menuOpen.set(!1))}),s(14,"Browse"),a(),o(15,"a",10),p("click",function(){return d(r),u(i.menuOpen.set(!1))}),s(16," Collection "),w(17,yi,2,1,"span",11),a(),o(18,"a",12),p("click",function(){return d(r),u(i.menuOpen.set(!1))}),s(19,"Compare"),a(),o(20,"a",13),p("click",function(){return d(r),u(i.menuOpen.set(!1))}),s(21,"Explore"),a(),o(22,"a",14),p("click",function(){return d(r),u(i.menuOpen.set(!1))}),s(23,"Stats"),a(),o(24,"a",15),p("click",function(){return d(r),u(i.menuOpen.set(!1))}),s(25,"About"),a(),o(26,"form",16),p("ngSubmit",function(){return d(r),u(i.onSearch())}),O(),o(27,"svg",17),g(28,"circle",18)(29,"line",19),a(),U(),o(30,"input",20,0),Ot("ngModelChange",function(h){return d(r),At(i.searchQuery,h)||(i.searchQuery=h),u(h)}),p("keydown.escape",function(){return d(r),u(i.clearSearch())})("keydown.arrowDown",function(h){return d(r),u(i.navigateResults(h,1))})("keydown.arrowUp",function(h){return d(r),u(i.navigateResults(h,-1))})("focus",function(){return d(r),u(i.searchFocused.set(!0))})("blur",function(){return d(r),u(i.onSearchBlur())}),a(),w(32,Mi,5,4,"div",21),a(),o(33,"button",22),p("click",function(){return d(r),u(i.theme.toggle())}),w(34,Vi,10,0,":svg:svg",23)(35,Di,2,0,":svg:svg",23),a(),o(36,"button",24),p("click",function(){return d(r),u(i.a11y.panelOpen.set(!i.a11y.panelOpen()))}),O(),o(37,"svg",25),g(38,"circle",26)(39,"path",27)(40,"path",28)(41,"path",29),a()()()()()}t&2&&(c(6),se("aria-expanded",i.menuOpen()),c(),C("open",i.menuOpen()),c(),C("open",i.menuOpen()),c(),C("open",i.menuOpen()),c(),C("header__nav--open",i.menuOpen()),c(7),M(i.watchlistCount()>0?17:-1),c(13),b("placeholder",i.searchPlaceholder()),St("ngModel",i.searchQuery),c(2),M(i.searchResults().length>0&&i.searchFocused()?32:-1),c(),se("aria-label",i.theme.theme()==="dark"?"Switch to sepia theme":"Switch to dark theme")("title",i.theme.theme()==="dark"?"Sepia mode":"Dark mode"),c(),M(i.theme.theme()==="dark"?34:35),c(2),se("aria-expanded",i.a11y.panelOpen()))},dependencies:[J,De,An,Sn,Te,Cn,xn,at,ot],styles:[".header[_ngcontent-%COMP%]{background-color:var(--bg-surface);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100;overflow:visible}.header__inner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:60px}.header__logo[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1.35rem;font-weight:700;color:var(--text-primary);text-decoration:none;display:flex;align-items:center;gap:var(--space-sm);letter-spacing:.02em}.header__logo-icon[_ngcontent-%COMP%]{color:var(--accent-gold);font-size:.7rem}.header__logo[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.header__nav[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs)}.header__nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-tertiary);font-size:.9rem;font-weight:600;padding:6px 14px;border-radius:var(--radius);transition:color .2s,background-color .2s;text-transform:uppercase;letter-spacing:.06em}.header__nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background-color:var(--bg-hover)}.header__nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--accent-gold);background-color:var(--accent-gold-dim)}.header__nav-collection[_ngcontent-%COMP%]{position:relative}.header__badge[_ngcontent-%COMP%]{background-color:var(--accent-gold);color:var(--bg-deep);font-size:.65rem;font-weight:700;min-width:16px;height:16px;padding:0 4px;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;margin-left:4px;vertical-align:super;line-height:1}.header__hamburger[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:5px;background:none;border:none;padding:var(--space-sm);cursor:pointer;min-height:44px;min-width:44px;align-items:center;justify-content:center}.header__hamburger-bar[_ngcontent-%COMP%]{display:block;width:22px;height:2px;background-color:var(--text-primary);transition:transform .3s,opacity .3s;border-radius:1px}.header__hamburger-bar.open[_ngcontent-%COMP%]:nth-child(1){transform:translateY(7px) rotate(45deg)}.header__hamburger-bar.open[_ngcontent-%COMP%]:nth-child(2){opacity:0}.header__hamburger-bar.open[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-7px) rotate(-45deg)}.header__theme-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;min-width:36px;min-height:36px;padding:0;border-radius:50%;background:var(--bg-hover);border:1px solid var(--border);color:var(--accent-gold);cursor:pointer;transition:background-color .2s,border-color .2s;margin-left:var(--space-sm)}.header__theme-toggle[_ngcontent-%COMP%]:hover, .header__a11y-toggle[_ngcontent-%COMP%]:hover{background:var(--accent-gold-dim);border-color:var(--accent-gold)}.header__a11y-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;min-width:36px;min-height:36px;padding:0;border-radius:50%;background:var(--bg-hover);border:1px solid var(--border);color:var(--accent-gold);cursor:pointer;transition:background-color .2s,border-color .2s;margin-left:4px}.header__search[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;margin-left:var(--space-sm)}.header__search-icon[_ngcontent-%COMP%]{position:absolute;left:10px;color:var(--text-tertiary);pointer-events:none}.header__search-input[_ngcontent-%COMP%]{width:180px;height:34px;padding:0 10px 0 32px;background:var(--bg-hover);border:1px solid var(--border);border-radius:17px;color:var(--text-primary);font-size:.85rem;transition:width .3s ease,border-color .2s;min-height:auto}.header__search-input[_ngcontent-%COMP%]:focus{width:240px;border-color:var(--accent-gold);outline:none}.header__search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.header__autocomplete[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;margin-top:4px;background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);overflow:hidden;z-index:200;min-width:300px}.header__autocomplete-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);padding:8px 12px;text-decoration:none;color:var(--text-primary);transition:background-color .15s;cursor:pointer}.header__autocomplete-item[_ngcontent-%COMP%]:hover, .header__autocomplete-item--active[_ngcontent-%COMP%]{background:var(--bg-hover);color:var(--text-primary)}.header__autocomplete-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:42px;object-fit:cover;border-radius:3px;flex-shrink:0}.header__autocomplete-placeholder[_ngcontent-%COMP%]{width:28px;height:42px;background:var(--bg-raised);border-radius:3px;flex-shrink:0}.header__autocomplete-info[_ngcontent-%COMP%]{flex:1;min-width:0}.header__autocomplete-title[_ngcontent-%COMP%]{display:block;font-size:.85rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.header__autocomplete-meta[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-tertiary)}.header__autocomplete-rating[_ngcontent-%COMP%]{font-size:.75rem;color:var(--accent-gold);font-weight:600;flex-shrink:0}.header__autocomplete-all[_ngcontent-%COMP%]{display:block;padding:8px 12px;text-align:center;font-size:.8rem;font-weight:600;color:var(--accent-gold);border-top:1px solid var(--border);text-decoration:none;cursor:pointer}.header__autocomplete-all[_ngcontent-%COMP%]:hover{background:var(--bg-hover);color:var(--accent-gold)}@media(max-width:768px){.header__hamburger[_ngcontent-%COMP%]{display:flex}.header__nav[_ngcontent-%COMP%]{display:none;position:absolute;top:60px;left:0;right:0;background-color:var(--bg-surface);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);flex-direction:column;padding:var(--space-sm) var(--space-md);border-bottom:1px solid var(--border);border-top:1px solid var(--border);gap:2px;box-shadow:var(--shadow-lg)}.header__nav.header__nav--open[_ngcontent-%COMP%]{display:flex!important;max-height:calc(100vh - 60px);max-height:calc(100dvh - 60px);overflow-y:auto;z-index:99;padding-bottom:env(safe-area-inset-bottom,0px)}.header__nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:var(--space-md);border-radius:var(--radius)}.header__search[_ngcontent-%COMP%]{margin:var(--space-xs) var(--space-md);order:-1}.header__search-input[_ngcontent-%COMP%]{width:100%}.header__search-input[_ngcontent-%COMP%]:focus{width:100%}.header__theme-toggle[_ngcontent-%COMP%], .header__a11y-toggle[_ngcontent-%COMP%]{align-self:flex-start;margin:var(--space-sm) 0 var(--space-sm) var(--space-md)}}"],changeDetection:0})};var Ei=n=>["/decade",n];function Si(n,e){if(n&1&&(o(0,"a",20),s(1),a()),n&2){let t=e.$implicit;b("routerLink",ce(2,Ei,t)),c(),le("",t,"s")}}var Be=class n{decades=[1890,1900,1910,1920,1930,1940,1950,1960,1970];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-footer"]],decls:58,vars:0,consts:[["role","contentinfo",1,"footer"],[1,"footer__inner","container"],[1,"footer__top"],[1,"footer__brand"],["aria-hidden","true",1,"footer__sep"],[1,"footer__tagline"],["aria-label","Footer navigation",1,"footer__nav"],[1,"footer__nav-col"],[1,"footer__nav-heading"],["routerLink","/browse"],["routerLink","/explore"],["routerLink","/quiz"],["routerLink","/collection"],["routerLink","/wrapped"],["routerLink","/compare"],["routerLink","/stats"],["routerLink","/about"],["href","https://github.com/corvid-agent/bw-cinema","target","_blank","rel","noopener"],[1,"footer__decades"],[1,"footer__decade-links"],[1,"footer__decade-link",3,"routerLink"],[1,"footer__credits"],["href","https://www.wikidata.org","target","_blank","rel","noopener"],["href","https://www.themoviedb.org","target","_blank","rel","noopener"],["href","https://archive.org","target","_blank","rel","noopener"],[1,"footer__tmdb"],["src","https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg","alt","TMDB logo","width","120","height","14","loading","lazy",1,"footer__tmdb-logo"],[1,"footer__disclaimer"]],template:function(t,i){t&1&&(o(0,"footer",0)(1,"div",1)(2,"div",2)(3,"span",3),s(4,"BW Cinema"),a(),o(5,"span",4),s(6,"\u2014"),a(),o(7,"span",5),s(8,"Celebrating classic black & white film"),a()(),o(9,"nav",6)(10,"div",7)(11,"h4",8),s(12,"Discover"),a(),o(13,"a",9),s(14,"Browse Films"),a(),o(15,"a",10),s(16,"Explore by Mood"),a(),o(17,"a",11),s(18,"Film Quiz"),a()(),o(19,"div",7)(20,"h4",8),s(21,"Library"),a(),o(22,"a",12),s(23,"My Collection"),a(),o(24,"a",13),s(25,"Year in Review"),a(),o(26,"a",14),s(27,"Compare Films"),a()(),o(28,"div",7)(29,"h4",8),s(30,"Info"),a(),o(31,"a",15),s(32,"Catalog Stats"),a(),o(33,"a",16),s(34,"About"),a(),o(35,"a",17),s(36,"GitHub"),a()()(),o(37,"div",18)(38,"h4",8),s(39,"Browse by Decade"),a(),o(40,"div",19),Q(41,Si,2,4,"a",20,xt),a()(),o(43,"p",21),s(44," Data from "),o(45,"a",22),s(46,"Wikidata (opens in new tab)"),a(),s(47," & "),o(48,"a",23),s(49,"TMDb (opens in new tab)"),a(),s(50,". Streaming via "),o(51,"a",24),s(52,"Internet Archive (opens in new tab)"),a(),s(53,". "),a(),o(54,"div",25),g(55,"img",26),o(56,"p",27),s(57," This product uses the TMDB API but is not endorsed or certified by TMDB. "),a()()()()),t&2&&(c(41),K(i.decades))},dependencies:[J],styles:[".footer[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding:var(--space-xl) 0;margin-top:var(--space-3xl)}.footer__inner[_ngcontent-%COMP%]{text-align:center}.footer__top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm);margin-bottom:var(--space-md)}.footer__brand[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1rem;font-weight:700;color:var(--text-primary)}.footer__sep[_ngcontent-%COMP%]{color:var(--text-tertiary)}.footer__tagline[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem}.footer__nav[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-lg);max-width:480px;margin:0 auto var(--space-xl);text-align:left}.footer__nav-heading[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.1em;color:var(--text-tertiary);font-weight:600;margin:0 0 var(--space-sm)}.footer__nav-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}.footer__nav-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);text-decoration:none;transition:color .2s}.footer__nav-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.footer__decades[_ngcontent-%COMP%]{max-width:480px;margin:0 auto var(--space-xl);text-align:center}.footer__decades[_ngcontent-%COMP%]   .footer__nav-heading[_ngcontent-%COMP%]{margin-bottom:var(--space-md)}.footer__decade-links[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:var(--space-xs)}.footer__decade-link[_ngcontent-%COMP%]{font-size:.8rem;padding:4px 12px;border:1px solid var(--border);border-radius:14px;color:var(--text-tertiary);text-decoration:none;transition:all .2s}.footer__decade-link[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold);background-color:var(--accent-gold-dim)}.footer__credits[_ngcontent-%COMP%]{color:var(--text-tertiary);font-size:.85rem;margin:0 0 var(--space-xs)}.footer__credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary)}.footer__credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.footer__tmdb[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--space-xs);margin-top:var(--space-sm)}.footer__tmdb-logo[_ngcontent-%COMP%]{opacity:.7}.footer__disclaimer[_ngcontent-%COMP%]{color:var(--text-tertiary);font-size:.75rem;margin:0;opacity:.7}"],changeDetection:0})};var Ai=(n,e)=>e.id;function Oi(n,e){if(n&1){let t=V();Y(0,"div",2)(1,"span"),s(2),Z(),Y(3,"button",3),Me("click",function(){let r=d(t).$implicit,l=m();return u(l.notifications.dismiss(r.id))}),s(4,"\xD7"),Z()()}if(n&2){let t=e.$implicit;Dt("toast--"+t.type),c(2),W(t.message)}}var He=class n{notifications=f(Ee);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-toast-container"]],decls:3,vars:0,consts:[["aria-live","polite",1,"toasts"],["role","alert",1,"toast",3,"class"],["role","alert",1,"toast"],["aria-label","Dismiss",1,"toast__close",3,"click"]],template:function(t,i){t&1&&(Y(0,"div",0),Q(1,Oi,5,3,"div",1,Ai),Z()),t&2&&(c(),K(i.notifications.toasts()))},styles:[".toasts[_ngcontent-%COMP%]{position:fixed;bottom:var(--space-lg);right:var(--space-lg);z-index:1000;display:flex;flex-direction:column;gap:var(--space-sm);max-width:360px}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--space-md);padding:var(--space-md);border-radius:var(--radius);font-size:.95rem;animation:_ngcontent-%COMP%_slideIn .3s ease}.toast--info[_ngcontent-%COMP%]{background-color:var(--bg-raised);border:1px solid var(--color-info);color:var(--text-primary)}.toast--success[_ngcontent-%COMP%]{background-color:var(--bg-raised);border:1px solid var(--color-success);color:var(--text-primary)}.toast--error[_ngcontent-%COMP%]{background-color:var(--bg-raised);border:1px solid var(--color-error);color:var(--text-primary)}.toast__close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);font-size:1.3rem;cursor:pointer;padding:0;min-height:48px;min-width:48px;display:flex;align-items:center;justify-content:center}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}"],changeDetection:0})};function ki(n,e){if(n&1){let t=V();Y(0,"button",1),Me("click",function(){d(t);let r=m();return u(r.scrollToTop())}),s(1," \u25B2 "),Z()}}var Le=class n{visible=v(!1);onScroll(){this.visible.set(window.scrollY>400)}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-back-to-top"]],hostBindings:function(t,i){t&1&&p("scroll",function(){return i.onScroll()},vt)},decls:1,vars:1,consts:[["aria-label","Back to top",1,"btt"],["aria-label","Back to top",1,"btt",3,"click"]],template:function(t,i){t&1&&w(0,ki,2,0,"button",0),t&2&&M(i.visible()?0:-1)},styles:[".btt[_ngcontent-%COMP%]{position:fixed;bottom:var(--space-xl);left:var(--space-xl);width:48px;height:48px;border-radius:50%;background-color:var(--accent-gold);color:var(--bg-deep);font-size:1.2rem;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-md);cursor:pointer;border:none;transition:background-color .2s;z-index:50}.btt[_ngcontent-%COMP%]:hover{background-color:var(--accent-cream)}@media(max-width:768px){.btt[_ngcontent-%COMP%]{bottom:calc(var(--space-xl) + 60px)}}"],changeDetection:0})};var Fi=()=>({exact:!1}),Ge=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-bottom-nav"]],decls:24,vars:2,consts:[["aria-label","Mobile navigation",1,"bottom-nav"],["routerLink","/home","routerLinkActive","active",1,"bottom-nav__item",3,"routerLinkActiveOptions"],["width","22","height","22","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"],["points","9 22 9 12 15 12 15 22"],["routerLink","/browse","routerLinkActive","active",1,"bottom-nav__item"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["routerLink","/collection","routerLinkActive","active",1,"bottom-nav__item"],["d","M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"],["routerLink","/explore","routerLinkActive","active",1,"bottom-nav__item"],["cx","12","cy","12","r","10"],["points","16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"]],template:function(t,i){t&1&&(o(0,"nav",0)(1,"a",1),O(),o(2,"svg",2),g(3,"path",3)(4,"polyline",4),a(),U(),o(5,"span"),s(6,"Home"),a()(),o(7,"a",5),O(),o(8,"svg",2),g(9,"circle",6)(10,"path",7),a(),U(),o(11,"span"),s(12,"Browse"),a()(),o(13,"a",8),O(),o(14,"svg",2),g(15,"path",9),a(),U(),o(16,"span"),s(17,"Collection"),a()(),o(18,"a",10),O(),o(19,"svg",2),g(20,"circle",11)(21,"polygon",12),a(),U(),o(22,"span"),s(23,"Explore"),a()()()),t&2&&(c(),b("routerLinkActiveOptions",kt(1,Fi)))},dependencies:[J,De],styles:[".bottom-nav[_ngcontent-%COMP%]{display:none;position:fixed;bottom:0;left:0;right:0;background-color:#0d0d0df2;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-top:1px solid var(--border);z-index:100;padding:var(--space-xs) 0;padding-bottom:env(safe-area-inset-bottom,0)}@media(max-width:768px){.bottom-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around}}.bottom-nav__item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px;padding:6px 12px;color:var(--text-tertiary);text-decoration:none;font-size:.65rem;font-weight:600;text-transform:uppercase;letter-spacing:.04em;transition:color .2s;min-width:56px;min-height:44px;justify-content:center;border-radius:var(--radius)}.bottom-nav__item[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.bottom-nav__item.active[_ngcontent-%COMP%]{color:var(--accent-gold)}.bottom-nav__item.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{filter:drop-shadow(0 0 4px var(--accent-gold-dim))}"],changeDetection:0})};var Ue=class n{a11y=f(G);helpOpen=v(!1);init(){document.addEventListener("keydown",e=>this.onKeydown(e))}onKeydown(e){let t=e.target,i=t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.tagName==="SELECT"||t.isContentEditable;if(e.key==="Escape"){if(this.helpOpen()){this.helpOpen.set(!1);return}if(this.a11y.panelOpen()){this.a11y.panelOpen.set(!1);return}}if(!i){if(e.key==="/"){e.preventDefault();let r=document.querySelector("#search-input");r&&(r.focus(),r.select());return}if(e.key==="?"){e.preventDefault(),this.helpOpen.update(r=>!r);return}}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function Pi(n,e){if(n&1){let t=V();o(0,"div",2)(1,"div",5)(2,"h2",6),s(3,"Welcome to BW Cinema"),a(),o(4,"p",7),s(5,"Your home for classic black & white films. Here's what you can do:"),a(),o(6,"ul",8)(7,"li")(8,"strong"),s(9,"Browse"),a(),s(10," \u2014 Search and filter thousands of classic films"),a(),o(11,"li")(12,"strong"),s(13,"Watch"),a(),s(14," \u2014 Stream public domain films for free"),a(),o(15,"li")(16,"strong"),s(17,"Collect"),a(),s(18," \u2014 Build your watchlist and track what you've seen"),a(),o(19,"li")(20,"strong"),s(21,"Customize"),a(),s(22," \u2014 Adjust text size, contrast, and theme using the icons in the top menu"),a()(),o(23,"p",9),s(24,"Tip: Press "),o(25,"kbd"),s(26,"/"),a(),s(27," anytime to search, or "),o(28,"kbd"),s(29,"?"),a(),s(30," for keyboard shortcuts."),a(),o(31,"button",10),p("click",function(){d(t);let r=m();return u(r.dismissOnboarding())}),s(32,"Get Started"),a()()()}}function Ii(n,e){if(n&1){let t=V();o(0,"div",11),p("click",function(){d(t);let r=m();return u(r.a11y.panelOpen.set(!1))}),o(1,"aside",12),p("click",function(r){return d(t),u(r.stopPropagation())}),o(2,"div",13)(3,"h2",14),s(4,"Accessibility"),a(),o(5,"button",15),p("click",function(){d(t);let r=m();return u(r.a11y.panelOpen.set(!1))}),s(6,"\xD7"),a()(),o(7,"div",16)(8,"p",17),s(9,"Text Size"),a(),o(10,"div",18)(11,"button",19),p("click",function(){d(t);let r=m();return u(r.a11y.decreaseFontSize())}),s(12,"A\u2212"),a(),o(13,"span",20),s(14),a(),o(15,"button",21),p("click",function(){d(t);let r=m();return u(r.a11y.increaseFontSize())}),s(16,"A+"),a()()(),o(17,"div",16)(18,"label",22)(19,"span"),s(20,"High Contrast"),a(),o(21,"input",23),p("change",function(){d(t);let r=m();return u(r.a11y.toggleHighContrast())}),a(),g(22,"span",24),a()(),o(23,"div",16)(24,"label",22)(25,"span"),s(26,"Reduce Motion"),a(),o(27,"input",23),p("change",function(){d(t);let r=m();return u(r.a11y.toggleReducedMotion())}),a(),g(28,"span",24),a()(),o(29,"div",16)(30,"label",22)(31,"span"),s(32,"Wide Spacing"),a(),o(33,"input",23),p("change",function(){d(t);let r=m();return u(r.a11y.toggleWideSpacing())}),a(),g(34,"span",24),a()(),o(35,"button",25),p("click",function(){d(t);let r=m();return u(r.a11y.resetAll())}),s(36,"Reset to Defaults"),a()()()}if(n&2){let t=m();c(11),b("disabled",!t.a11y.canDecrease()),c(3),W(t.a11y.getFontSizeLabel()),c(),b("disabled",!t.a11y.canIncrease()),c(6),b("checked",t.a11y.prefs().highContrast),c(),C("active",t.a11y.prefs().highContrast),c(5),b("checked",t.a11y.prefs().reducedMotion),c(),C("active",t.a11y.prefs().reducedMotion),c(5),b("checked",t.a11y.prefs().wideSpacing),c(),C("active",t.a11y.prefs().wideSpacing)}}function Ni(n,e){if(n&1){let t=V();o(0,"div",26),p("click",function(){d(t);let r=m();return u(r.shortcuts.helpOpen.set(!1))}),o(1,"div",27),p("click",function(r){return d(t),u(r.stopPropagation())}),o(2,"div",28)(3,"h2",29),s(4,"Keyboard Shortcuts"),a(),o(5,"button",30),p("click",function(){d(t);let r=m();return u(r.shortcuts.helpOpen.set(!1))}),s(6,"\xD7"),a()(),o(7,"div",31)(8,"div",32)(9,"kbd"),s(10,"/"),a(),o(11,"span"),s(12,"Focus search"),a()(),o(13,"div",32)(14,"kbd"),s(15,"?"),a(),o(16,"span"),s(17,"Show this help"),a()(),o(18,"div",32)(19,"kbd"),s(20,"Esc"),a(),o(21,"span"),s(22,"Close overlay / dismiss"),a()(),o(23,"div",32)(24,"kbd"),s(25,"\u2190 \u2192 \u2191 \u2193"),a(),o(26,"span"),s(27,"Navigate movie grid"),a()(),o(28,"div",32)(29,"kbd"),s(30,"Home / End"),a(),o(31,"span"),s(32,"First / last in grid"),a()(),o(33,"div",32)(34,"kbd"),s(35,"j / k"),a(),o(36,"span"),s(37,"Next / previous film (detail page)"),a()()()()()}}var Fn="bw-cinema-onboarded",ze=class n{theme=f(ie);shortcuts=f(Ue);a11y=f(G);notifications=f(Ee);showOnboarding=!1;onlineHandler=()=>this.notifications.show("You're back online","success");offlineHandler=()=>this.notifications.show("You're offline \u2014 cached content still available","info",5e3);ngOnInit(){this.theme.init(),this.shortcuts.init(),this.a11y.init();try{localStorage.getItem(Fn)||(this.showOnboarding=!0)}catch{}window.addEventListener("online",this.onlineHandler),window.addEventListener("offline",this.offlineHandler)}ngOnDestroy(){window.removeEventListener("online",this.onlineHandler),window.removeEventListener("offline",this.offlineHandler)}dismissOnboarding(){this.showOnboarding=!1;try{localStorage.setItem(Fn,"1")}catch{}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-root"]],decls:12,vars:3,consts:[["href","#main-content",1,"skip-link"],["id","main-content"],["role","dialog","aria-label","Welcome",1,"onboarding-overlay"],[1,"a11y-overlay"],["role","dialog","aria-label","Keyboard shortcuts",1,"shortcuts-overlay"],[1,"onboarding-panel"],[1,"onboarding-title"],[1,"onboarding-text"],[1,"onboarding-list"],[1,"onboarding-tip"],[1,"btn-primary","onboarding-btn",3,"click"],[1,"a11y-overlay",3,"click"],["role","dialog","aria-label","Accessibility settings",1,"a11y-panel",3,"click"],[1,"a11y-header"],[1,"a11y-title"],["aria-label","Close accessibility settings",1,"a11y-close",3,"click"],[1,"a11y-section"],[1,"a11y-label"],[1,"a11y-font-controls"],["aria-label","Decrease text size",1,"a11y-btn",3,"click","disabled"],["aria-live","polite",1,"a11y-font-label"],["aria-label","Increase text size",1,"a11y-btn",3,"click","disabled"],[1,"a11y-toggle"],["type","checkbox","role","switch",3,"change","checked"],[1,"a11y-switch"],[1,"a11y-reset",3,"click"],["role","dialog","aria-label","Keyboard shortcuts",1,"shortcuts-overlay",3,"click"],[1,"shortcuts-panel",3,"click"],[1,"shortcuts-header"],[1,"shortcuts-title"],["aria-label","Close",1,"shortcuts-close",3,"click"],[1,"shortcuts-list"],[1,"shortcut-row"]],template:function(t,i){t&1&&(o(0,"a",0),s(1,"Skip to main content"),a(),g(2,"app-header"),o(3,"main",1),g(4,"router-outlet"),a(),g(5,"app-footer")(6,"app-toast-container")(7,"app-back-to-top")(8,"app-bottom-nav"),w(9,Pi,33,0,"div",2),w(10,Ii,37,12,"div",3),w(11,Ni,38,0,"div",4)),t&2&&(c(9),M(i.showOnboarding?9:-1),c(),M(i.a11y.panelOpen()?10:-1),c(),M(i.shortcuts.helpOpen()?11:-1))},dependencies:[Ht,je,Be,He,Le,Ge],styles:['main[_ngcontent-%COMP%]{min-height:calc(100vh - 160px)}@media(max-width:768px){main[_ngcontent-%COMP%]{padding-bottom:72px}}.shortcuts-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;z-index:200;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.shortcuts-panel[_ngcontent-%COMP%]{background-color:var(--bg-surface);border:1px solid var(--border-bright);border-radius:var(--radius-xl);padding:var(--space-xl);min-width:340px;max-width:420px;box-shadow:var(--shadow-lg)}.shortcuts-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-lg)}.shortcuts-title[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}.shortcuts-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-tertiary);font-size:1.5rem;cursor:pointer;min-height:auto;min-width:auto;padding:4px 8px;line-height:1}.shortcuts-close[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.shortcuts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.shortcut-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:var(--space-sm) 0;border-bottom:1px solid var(--border)}.shortcut-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.shortcut-row[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{background-color:var(--bg-raised);border:1px solid var(--border-bright);border-radius:var(--radius-sm);padding:2px 8px;font-family:var(--font-body);font-size:.85rem;color:var(--accent-gold);min-width:28px;text-align:center}.shortcut-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem}.onboarding-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;z-index:300;display:flex;align-items:center;justify-content:center;padding:var(--space-lg)}.onboarding-panel[_ngcontent-%COMP%]{background-color:var(--bg-surface);border:1px solid var(--border-bright);border-radius:var(--radius-xl);padding:var(--space-2xl);max-width:480px;width:100%;box-shadow:var(--shadow-lg)}.onboarding-title[_ngcontent-%COMP%]{font-size:1.6rem;margin:0 0 var(--space-md);color:var(--accent-gold)}.onboarding-text[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0 0 var(--space-lg);font-size:1rem;line-height:1.6}.onboarding-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 var(--space-lg)}.onboarding-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:var(--space-sm) 0;border-bottom:1px solid var(--border);color:var(--text-primary);font-size:.95rem;line-height:1.5}.onboarding-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.onboarding-list[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--accent-gold)}.onboarding-tip[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-tertiary);margin:0 0 var(--space-xl)}.onboarding-tip[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{background:var(--bg-raised);border:1px solid var(--border-bright);border-radius:var(--radius-sm);padding:1px 6px;font-size:.85rem;color:var(--accent-gold)}.onboarding-btn[_ngcontent-%COMP%]{width:100%;font-size:1.1rem;padding:var(--space-md);border-radius:var(--radius-lg)}.a11y-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;z-index:200;display:flex;justify-content:flex-end}.a11y-panel[_ngcontent-%COMP%]{background-color:var(--bg-surface);border-left:1px solid var(--border-bright);width:320px;max-width:90vw;height:100%;padding:var(--space-xl);overflow-y:auto;box-shadow:var(--shadow-lg)}.a11y-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-xl)}.a11y-title[_ngcontent-%COMP%]{font-size:1.3rem;margin:0}.a11y-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-tertiary);font-size:1.6rem;cursor:pointer;min-height:48px;min-width:48px;display:flex;align-items:center;justify-content:center;line-height:1}.a11y-close[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.a11y-section[_ngcontent-%COMP%]{padding:var(--space-md) 0;border-bottom:1px solid var(--border)}.a11y-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.a11y-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:var(--text-secondary);margin:0 0 var(--space-sm)}.a11y-font-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.a11y-btn[_ngcontent-%COMP%]{background-color:var(--bg-raised);border:1px solid var(--border-bright);color:var(--text-primary);font-size:1rem;font-weight:700;border-radius:var(--radius);min-width:56px;min-height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0}.a11y-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.a11y-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.a11y-font-label[_ngcontent-%COMP%]{flex:1;text-align:center;font-weight:600;color:var(--accent-gold);font-size:.95rem}.a11y-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;cursor:pointer;min-height:48px;font-size:.95rem;color:var(--text-primary)}.a11y-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.a11y-switch[_ngcontent-%COMP%]{position:relative;width:48px;height:28px;background-color:var(--bg-raised);border:1px solid var(--border-bright);border-radius:14px;flex-shrink:0;transition:background-color .2s}.a11y-switch[_ngcontent-%COMP%]:after{content:"";position:absolute;left:3px;top:3px;width:20px;height:20px;background-color:var(--text-tertiary);border-radius:50%;transition:transform .2s,background-color .2s}.a11y-switch.active[_ngcontent-%COMP%]{background-color:var(--accent-gold-dim);border-color:var(--accent-gold)}.a11y-switch.active[_ngcontent-%COMP%]:after{transform:translate(20px);background-color:var(--accent-gold)}.a11y-reset[_ngcontent-%COMP%]{margin-top:var(--space-lg);width:100%;background:none;border:1px solid var(--border);color:var(--text-tertiary);font-size:.9rem;padding:var(--space-sm) var(--space-md);border-radius:var(--radius);cursor:pointer}.a11y-reset[_ngcontent-%COMP%]:hover{color:var(--text-primary);border-color:var(--text-tertiary)}'],changeDetection:0})};Nt(ze,rn).catch(n=>console.error(n));
