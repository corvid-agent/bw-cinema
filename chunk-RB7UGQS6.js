import{a as Ee}from"./chunk-SATL3JCH.js";import{a as Se,b as Pe}from"./chunk-TWPBZPC6.js";import{a as Me}from"./chunk-HAGFLECC.js";import{a as be}from"./chunk-VYUST5ET.js";import{a as ye}from"./chunk-JVUEOQ2T.js";import{a as we}from"./chunk-U6UKIARX.js";import{$ as p,A as ie,Aa as W,Ba as ae,Da as Ce,Ea as ve,F as $,Fa as ue,Ga as he,Ja as X,K as me,Ma as v,O as r,R as pe,Z as K,_ as m,aa as ge,ba as oe,ca as A,cb as fe,da as R,ea as k,fa as i,fb as xe,ga as o,ha as O,la as z,na as I,pa as _,v as ee,va as j,wa as B,x as E,y as T,ya as c,z as te,za as C}from"./chunk-SA65F7OW.js";var Oe=n=>["/movie",n],ke=n=>["/director",n],Ie=n=>["/genre",n],Fe=n=>["/decade",n],le=(n,t)=>t.id,ne=(n,t)=>t.name,se=(n,t)=>t.label,Ne=(n,t)=>t.date,Ae=(n,t)=>t.year,Re=(n,t)=>t.movieId;function Le(n,t){if(n&1&&O(0,"app-movie-grid",2),n&2){let e=_(2);k("movies",e.sharedMovies())}}function Ve(n,t){n&1&&(i(0,"div",3)(1,"p",4),c(2,"No films found"),o(),i(3,"p",5),c(4,"The shared link may be invalid or the films are no longer in our catalog."),o(),i(5,"a",6),c(6,"Browse Films"),o()())}function Ye(n,t){if(n&1&&(i(0,"h1"),c(1,"Shared Collection"),o(),i(2,"p",1),c(3),o(),m(4,Le,1,1,"app-movie-grid",2)(5,Ve,7,0,"div",3)),n&2){let e=_();r(3),ae("",e.sharedMovies().length," film",e.sharedMovies().length!==1?"s":""," in this shared collection"),r(),p(e.sharedMovies().length>0?4:5)}}function $e(n,t){n&1&&O(0,"app-loading-spinner")}function ze(n,t){if(n&1&&(i(0,"span",12),c(1),o()),n&2){let e=_(3);r(),C(e.watchlistMovies().length)}}function We(n,t){if(n&1&&O(0,"span",13),n&2){let e=_(3);k("title",he("",e.newThisWeek()," added this week"))}}function Ge(n,t){if(n&1&&(i(0,"span",12),c(1),o()),n&2){let e=_(3);r(),C(e.watchedMovies().length)}}function je(n,t){if(n&1&&(i(0,"span",12),c(1),o()),n&2){let e=_(3);r(),C(e.favoriteMovies().length)}}function Be(n,t){if(n&1&&(i(0,"span",12),c(1),o()),n&2){let e=_(3);r(),C(e.collectionService.playlists().length)}}function Ue(n,t){if(n&1&&(i(0,"option",23),c(1),o()),n&2){let e=t.$implicit;k("value",e),r(),C(e)}}function He(n,t){if(n&1&&(i(0,"option",23),c(1),o()),n&2){let e=t.$implicit;k("value",e),r(),W("",e,"s")}}function qe(n,t){if(n&1){let e=z();i(0,"select",25),I("change",function(l){E(e);let d=_(4);return T(d.onRatingFilterChange(l))}),i(1,"option",26),c(2,"All Ratings"),o(),i(3,"option",27),c(4,"1+ Stars"),o(),i(5,"option",28),c(6,"2+ Stars"),o(),i(7,"option",29),c(8,"3+ Stars"),o(),i(9,"option",30),c(10,"4+ Stars"),o(),i(11,"option",31),c(12,"5 Stars"),o(),i(13,"option",32),c(14,"Unrated"),o()()}}function Qe(n,t){if(n&1){let e=z();i(0,"div",14)(1,"input",20),I("input",function(l){E(e);let d=_(3);return T(d.collectionQuery.set(l.target.value))}),o(),i(2,"select",21),I("change",function(l){E(e);let d=_(3);return T(d.genreFilter.set(l.target.value))}),i(3,"option",22),c(4,"All Genres"),o(),A(5,Ue,2,2,"option",23,oe),o(),i(7,"select",21),I("change",function(l){E(e);let d=_(3);return T(d.decadeFilter.set(l.target.value))}),i(8,"option",22),c(9,"All Decades"),o(),A(10,He,2,2,"option",23,oe),o(),m(12,qe,15,0,"select",24),o()}if(n&2){let e=_(3);r(),k("value",e.collectionQuery()),r(4),R(e.collectionGenres()),r(5),R(e.collectionDecades()),r(2),p(e.activeTab()==="watched"?12:-1)}}function Je(n,t){if(n&1){let e=z();i(0,"button",42),I("click",function(){E(e);let l=_(4);return T(l.exportCsv())}),te(),i(1,"svg",43),O(2,"path",44)(3,"polyline",45)(4,"line",46),o(),c(5," CSV "),o(),ie(),i(6,"button",42),I("click",function(){E(e);let l=_(4);return T(l.exportLetterboxd())}),te(),i(7,"svg",43),O(8,"path",44)(9,"polyline",45)(10,"line",46),o(),c(11," Letterboxd "),o(),ie(),i(12,"label",47),te(),i(13,"svg",43),O(14,"path",44)(15,"polyline",48)(16,"line",49),o(),c(17," Import "),ie(),i(18,"input",50),I("change",function(l){E(e);let d=_(4);return T(d.importLetterboxd(l))}),o()()}}function Ze(n,t){if(n&1){let e=z();i(0,"div",15)(1,"label",33),c(2,"Sort by"),o(),i(3,"select",34),I("change",function(l){E(e);let d=_(3);return T(d.onSortChange(l))}),i(4,"option",35),c(5,"Recently Added"),o(),i(6,"option",36),c(7,"Oldest Added"),o(),i(8,"option",37),c(9,"Title A\u2013Z"),o(),i(10,"option",38),c(11,"Title Z\u2013A"),o(),i(12,"option",39),c(13,"Highest Rated"),o(),i(14,"option",40),c(15,"Newest Films"),o()(),m(16,Je,19,0),i(17,"app-view-toggle",41),ue("modeChange",function(l){E(e);let d=_(3);return ve(d.viewMode,l)||(d.viewMode=l),T(l)}),o()()}if(n&2){let e=_(3);r(16),p(e.currentMovies().length>0?16:-1),r(),Ce("mode",e.viewMode)}}function Ke(n,t){if(n&1){let e=z();i(0,"div",16)(1,"button",51),I("click",function(){E(e);let l=_(3);return T(l.shareCollection())}),c(2,"Share"),o()()}}function Xe(n,t){if(n&1){let e=z();i(0,"div",16)(1,"button",51),I("click",function(){E(e);let l=_(3);return T(l.exportBackup())}),c(2,"Backup"),o(),i(3,"label",52),c(4," Restore "),i(5,"input",53),I("change",function(l){E(e);let d=_(3);return T(d.importBackup(l))}),o()()()}}function et(n,t){if(n&1&&O(0,"app-movie-grid",2),n&2){let e=_(5);k("movies",e.sortedWatchlist())}}function tt(n,t){if(n&1&&O(0,"app-movie-list",2),n&2){let e=_(5);k("movies",e.sortedWatchlist())}}function nt(n,t){if(n&1&&m(0,et,1,1,"app-movie-grid",2)(1,tt,1,1,"app-movie-list",2),n&2){let e=_(4);p(e.viewMode()==="grid"?0:1)}}function it(n,t){n&1&&(i(0,"div",3)(1,"p",4),c(2,"No films in your watchlist"),o(),i(3,"p",5),c(4,"Browse films and add ones you'd like to watch later."),o(),i(5,"a",6),c(6,"Browse Films"),o()())}function ot(n,t){if(n&1&&(i(0,"div",17),m(1,nt,2,1)(2,it,7,0,"div",3),o()),n&2){let e=_(3);r(),p(e.sortedWatchlist().length>0?1:2)}}function at(n,t){if(n&1&&O(0,"app-movie-grid",2),n&2){let e=_(5);k("movies",e.sortedWatched())}}function lt(n,t){if(n&1&&O(0,"app-movie-list",2),n&2){let e=_(5);k("movies",e.sortedWatched())}}function rt(n,t){if(n&1&&m(0,at,1,1,"app-movie-grid",2)(1,lt,1,1,"app-movie-list",2),n&2){let e=_(4);p(e.viewMode()==="grid"?0:1)}}function ct(n,t){n&1&&(i(0,"div",3)(1,"p",4),c(2,"No films watched yet"),o(),i(3,"p",5),c(4,"Films you mark as watched will appear here."),o(),i(5,"a",6),c(6,"Discover Films"),o()())}function dt(n,t){if(n&1&&(i(0,"div",17),m(1,rt,2,1)(2,ct,7,0,"div",3),o()),n&2){let e=_(3);r(),p(e.sortedWatched().length>0?1:2)}}function st(n,t){if(n&1&&O(0,"app-movie-grid",2),n&2){let e=_(5);k("movies",e.sortedFavorites())}}function _t(n,t){if(n&1&&O(0,"app-movie-list",2),n&2){let e=_(5);k("movies",e.sortedFavorites())}}function mt(n,t){if(n&1&&m(0,st,1,1,"app-movie-grid",2)(1,_t,1,1,"app-movie-list",2),n&2){let e=_(4);p(e.viewMode()==="grid"?0:1)}}function pt(n,t){n&1&&(i(0,"div",3)(1,"p",4),c(2,"No favorite films yet"),o(),i(3,"p",5),c(4,"Tap the heart icon on any film to add it to your favorites."),o(),i(5,"a",6),c(6,"Browse Films"),o()())}function gt(n,t){if(n&1&&(i(0,"div",17),m(1,mt,2,1)(2,pt,7,0,"div",3),o()),n&2){let e=_(3);r(),p(e.sortedFavorites().length>0?1:2)}}function Ct(n,t){n&1&&(i(0,"div",3)(1,"p",4),c(2,"No playlists yet"),o(),i(3,"p",5),c(4,"Create a playlist to organize your favorite films into custom lists."),o()())}function vt(n,t){if(n&1){let e=z();i(0,"input",66),I("input",function(l){E(e);let d=_(6);return T(d.editPlaylistName.set(l.target.value))})("keydown.enter",function(){E(e);let l=_().$implicit,d=_(5);return T(d.saveRename(l.id))})("blur",function(){E(e);let l=_().$implicit,d=_(5);return T(d.saveRename(l.id))}),o()}if(n&2){let e=_(6);k("value",e.editPlaylistName())}}function ut(n,t){if(n&1){let e=z();i(0,"h3",67),I("click",function(){E(e);let l=_().$implicit,d=_(5);return T(d.startRename(l))}),c(1),o()}if(n&2){let e=_().$implicit;r(),C(e.name)}}function ht(n,t){if(n&1&&O(0,"img",69),n&2){let e=_().$implicit;k("src",e.posterUrl,me)("alt",e.title)}}function ft(n,t){if(n&1&&(i(0,"div",70),c(1),o()),n&2){let e=_().$implicit;r(),C(e.title[0])}}function xt(n,t){if(n&1&&(i(0,"a",68),m(1,ht,1,2,"img",69)(2,ft,2,1,"div",70),o()),n&2){let e=t.$implicit;k("routerLink",X(2,Oe,e.id)),r(),p(e.posterUrl?1:2)}}function wt(n,t){if(n&1&&(i(0,"div",65),A(1,xt,3,4,"a",68,le),o()),n&2){let e=_().$implicit,a=_(5);r(),R(a.playlistMovies(e.id))}}function bt(n,t){if(n&1){let e=z();i(0,"div",57)(1,"div",58),m(2,vt,1,1,"input",59)(3,ut,2,1,"h3",60),i(4,"span",61),c(5),o(),i(6,"button",62),I("click",function(){let l=E(e).$implicit,d=_(5);return T(d.deletePlaylist(l.id))}),te(),i(7,"svg",43),O(8,"polyline",63)(9,"path",64),o()()(),m(10,wt,3,0,"div",65),o()}if(n&2){let e=t.$implicit,a=_(5);r(2),p(a.editingPlaylistId()===e.id?2:3),r(3),W("",e.movieIds.length," films"),r(5),p(a.playlistMovies(e.id).length>0?10:-1)}}function yt(n,t){if(n&1&&A(0,bt,11,3,"div",57,le),n&2){let e=_(4);R(e.collectionService.playlists())}}function Mt(n,t){if(n&1){let e=z();i(0,"div",18)(1,"div",54)(2,"input",55),I("input",function(l){E(e);let d=_(3);return T(d.newPlaylistName.set(l.target.value))})("keydown.enter",function(){E(e);let l=_(3);return T(l.createPlaylist())}),o(),i(3,"button",56),I("click",function(){E(e);let l=_(3);return T(l.createPlaylist())}),c(4,"Create"),o()(),m(5,Ct,5,0,"div",3)(6,yt,2,0),o()}if(n&2){let e=_(3);r(2),k("value",e.newPlaylistName()),r(),k("disabled",!e.newPlaylistName().trim()),r(2),p(e.collectionService.playlists().length===0?5:6)}}function St(n,t){n&1&&(i(0,"div",3)(1,"p",4),c(2,"No stats yet"),o(),i(3,"p",5),c(4,"Watch some films to see your viewing statistics."),o(),i(5,"a",6),c(6,"Discover Films"),o()())}function Pt(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Languages Explored"),o()()),n&2){let e=_(5);r(2),C(e.uniqueLanguages())}}function Et(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Avg Film Age (yrs)"),o()()),n&2){let e=_(5);r(2),C(e.watchedAvgFilmAge())}}function Tt(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Unique Directors"),o()()),n&2){let e=_(5);r(2),C(e.watchedDirectorCount())}}function Ot(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Non-English Films"),o()()),n&2){let e=_(5);r(2),C(e.watchedNonEnglishCount())}}function Dt(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Silent-Era Films"),o()()),n&2){let e=_(5);r(2),C(e.watchedSilentEraCount())}}function kt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Median Year"),o()()),n&2&&(r(2),C(t))}function It(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Avg. Year"),o()()),n&2&&(r(2),C(t))}function Ft(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Co-directed"),o()()),n&2){let e=_(5);r(2),C(e.watchedCoDirectedCount())}}function Nt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Avg Title Length"),o()()),n&2&&(r(2),C(t))}function At(n,t){n&1&&(i(0,"div",72)(1,"span",93),c(2),o(),i(3,"span",74),c(4,"Longest Title"),o()()),n&2&&(r(2),C(t))}function Rt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Watchlist Avg Year"),o()()),n&2&&(r(2),C(t))}function Lt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Oldest in Watchlist"),o()()),n&2&&(r(2),C(t))}function Vt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Watchlist on IA"),o()()),n&2&&(r(2),C(t))}function Yt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Favorites Avg \u2605"),o()()),n&2&&(r(2),C(t))}function $t(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Oldest Favorite"),o()()),n&2){let e=_(5);r(2),C(e.favoritesOldestYear())}}function zt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Favorites on IA"),o()()),n&2&&(r(2),C(t))}function Wt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Languages Watched"),o()()),n&2&&(r(2),C(t))}function Gt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Avg Genres/Film"),o()()),n&2&&(r(2),C(t))}function jt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Watchlist Streamable"),o()()),n&2&&(r(2),W("",t,"%"))}function Bt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"IMDb Linked"),o()()),n&2&&(r(2),C(t))}function Ut(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Have Poster"),o()()),n&2&&(r(2),W("",t,"%"))}function Ht(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Favorites Free"),o()()),n&2&&(r(2),W("",t,"%"))}function qt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"On YouTube"),o()()),n&2&&(r(2),C(t))}function Qt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Co-Directed"),o()()),n&2&&(r(2),W("",t,"%"))}function Jt(n,t){n&1&&(i(0,"div",72)(1,"span",94),c(2),o(),i(3,"span",74),c(4,"Shortest Title"),o()()),n&2&&(r(2),C(t))}function Zt(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Newest Watched"),o()()),n&2){let e=_(5);r(2),C(e.watchedNewestYear())}}function Kt(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Rated 8.0+"),o()()),n&2){let e=_(5);r(2),C(e.watchedHighlyRatedCount())}}function Xt(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Avg Directors/Film"),o()()),n&2&&(r(2),C(t))}function en(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Pre-1940 Watched"),o()()),n&2){let e=_(5);r(2),C(e.watchedPreWarCount())}}function tn(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Oldest Watched"),o()()),n&2){let e=_(5);r(2),C(e.watchedOldestYear())}}function nn(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Streamable"),o()()),n&2&&(r(2),W("",t,"%"))}function on(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Rating Spread"),o()()),n&2&&(r(2),C(t))}function an(n,t){n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Median Rating"),o()()),n&2&&(r(2),C(t))}function ln(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Decades"),o()()),n&2){let e=_(5);r(2),C(e.watchedDecadeCount())}}function rn(n,t){if(n&1&&(i(0,"div",72)(1,"span",73),c(2),o(),i(3,"span",74),c(4,"Genres"),o()()),n&2){let e=_(5);r(2),C(e.watchedGenreCount())}}function cn(n,t){n&1&&(i(0,"div",72)(1,"span",94),c(2),o(),i(3,"span",74),c(4,"Top Director"),o()()),n&2&&(r(2),C(t))}function dn(n,t){if(n&1&&(i(0,"div",76)(1,"span",95),c(2),o(),i(3,"div",96)(4,"span",97),c(5),o(),i(6,"span",98),c(7),o()(),i(8,"div",99),O(9,"div",100),o(),i(10,"span",101),c(11),o()()),n&2){let e=t;r(2),C(e.icon),r(3),C(e.name),r(2),W("",e.remaining," more to go"),r(2),j("width",e.pct,"%"),r(2),ae("",e.current,"/",e.target)}}function sn(n,t){if(n&1&&(i(0,"div",104)(1,"span",105),c(2),o(),i(3,"span",106),c(4),o(),i(5,"span",107),c(6),o()()),n&2){let e=t.$implicit;B("achievements__badge--earned",e.earned),r(2),C(e.icon),r(2),C(e.name),r(2),C(e.description)}}function _n(n,t){if(n&1&&(i(0,"section",77)(1,"h3"),c(2,"Achievements"),o(),i(3,"div",102),A(4,sn,7,5,"div",103,le),o()()),n&2){let e=_(5);r(4),R(e.achievements())}}function mn(n,t){if(n&1&&(i(0,"div",108)(1,"span",109),c(2),o(),i(3,"div",110)(4,"span",111),c(5),o(),i(6,"span",112),c(7),o(),i(8,"div",113),O(9,"div",114),o(),i(10,"span",115),c(11),o()()()),n&2){let e=t.$implicit;B("challenges__card--done",e.current>=e.target),r(2),C(e.icon),r(3),C(e.name),r(2),C(e.description),r(2),j("width",e.current/e.target*100,"%"),r(2),ae("",e.current,"/",e.target)}}function pn(n,t){if(n&1&&(i(0,"div",116)(1,"a",117),c(2),o(),i(3,"div",118),O(4,"div",119),o(),i(5,"span",120),c(6),o()()),n&2){let e=t.$implicit;r(),k("routerLink",X(5,ke,e.name)),r(),C(e.name),r(2),j("width",e.pct,"%"),r(2),C(e.count)}}function gn(n,t){if(n&1&&(i(0,"section",81)(1,"h3"),c(2,"Top Directors"),o(),i(3,"div",83),A(4,pn,7,7,"div",116,ne),o()()),n&2){let e=_(5);r(4),R(e.directorStats())}}function Cn(n,t){if(n&1&&(i(0,"a",84)(1,"span",121),c(2),o(),i(3,"div",118),O(4,"div",119),o(),i(5,"span",120),c(6),o()()),n&2){let e=t.$implicit;k("routerLink",X(5,Ie,e.name)),r(2),C(e.name),r(2),j("width",e.pct,"%"),r(2),C(e.count)}}function vn(n,t){if(n&1&&(i(0,"a",84)(1,"span",121),c(2),o(),i(3,"div",118),O(4,"div",119),o(),i(5,"span",120),c(6),o()()),n&2){let e=t.$implicit;k("routerLink",X(5,Fe,e.name.replace("s",""))),r(2),C(e.name),r(2),j("width",e.pct,"%"),r(2),C(e.count)}}function un(n,t){if(n&1&&(i(0,"div",116)(1,"span",122),c(2),o(),i(3,"div",118),O(4,"div",119),o(),i(5,"span",120),c(6),o()()),n&2){let e=t.$implicit;r(2),C(e.name),r(2),j("width",e.pct,"%"),r(2),C(e.count)}}function hn(n,t){if(n&1&&(i(0,"section",85)(1,"h3"),c(2,"Languages"),o(),i(3,"div",83),A(4,un,7,4,"div",116,ne),o()()),n&2){let e=_(5);r(4),R(e.languageStats())}}function fn(n,t){if(n&1&&(i(0,"div",116)(1,"span",122),c(2),o(),i(3,"div",118),O(4,"div",119),o(),i(5,"span",120),c(6),o()()),n&2){let e=t.$implicit;r(2),W("",e.name," \u2605"),r(2),j("width",e.pct,"%"),r(2),C(e.count)}}function xn(n,t){if(n&1&&(i(0,"section",86)(1,"h3"),c(2,"Your Rating Distribution"),o(),i(3,"div",83),A(4,fn,7,4,"div",116,ne),o()()),n&2){let e=_(5);r(4),R(e.ratingDistribution())}}function wn(n,t){if(n&1&&(i(0,"div",124)(1,"span",125),c(2),o(),O(3,"div",126),i(4,"span",127),c(5),o()()),n&2){let e=t.$implicit;r(2),C(e.count),r(),j("height",e.pct,"%"),r(2),C(e.label)}}function bn(n,t){if(n&1&&(i(0,"section",87)(1,"h3"),c(2,"Monthly Activity"),o(),i(3,"div",123),A(4,wn,6,4,"div",124,se),o()()),n&2){let e=_(5);r(4),R(e.monthlyTrends())}}function yn(n,t){if(n&1){let e=z();i(0,"button",138),I("click",function(){let l=E(e).$implicit,d=_(7);return T(d.heatmapYear.set(l))}),c(1),o()}if(n&2){let e=t.$implicit,a=_(7);B("heatmap__year-btn--active",a.heatmapYear()===e),r(),C(e)}}function Mn(n,t){if(n&1){let e=z();i(0,"div",129)(1,"button",138),I("click",function(){E(e);let l=_(6);return T(l.heatmapYear.set(null))}),c(2,"Last 12mo"),o(),A(3,yn,2,3,"button",139,oe),o()}if(n&2){let e=_(6);r(),B("heatmap__year-btn--active",e.heatmapYear()===null),r(2),R(e.heatmapYears())}}function Sn(n,t){if(n&1&&O(0,"div",141),n&2){let e=t.$implicit;B("heatmap__cell--l1",e.level===1)("heatmap__cell--l2",e.level===2)("heatmap__cell--l3",e.level===3)("heatmap__cell--future",e.level===-1),k("title",e.count>=0?e.date+": "+e.count+" film(s)":"")}}function Pn(n,t){if(n&1&&(i(0,"div",132),A(1,Sn,1,9,"div",140,Ne),o()),n&2){let e=t.$implicit;r(),R(e.days)}}function En(n,t){if(n&1&&(i(0,"section",88)(1,"div",128)(2,"h3"),c(3,"Watch Calendar"),o(),m(4,Mn,5,2,"div",129),o(),i(5,"div",130)(6,"div",131),A(7,Pn,3,0,"div",132,ge),o(),i(9,"div",133)(10,"span"),c(11,"Less"),o(),O(12,"div",134)(13,"div",135)(14,"div",136)(15,"div",137),i(16,"span"),c(17,"More"),o()()()()),n&2){let e=_(5);r(4),p(e.heatmapYears().length>1?4:-1),r(3),R(e.watchHeatmap().weeks)}}function Tn(n,t){if(n&1&&(i(0,"div",146),O(1,"div",147),i(2,"span",148),c(3),o()()),n&2){let e=t.$implicit;j("left",e.pct,"%"),r(),j("height",8+e.count*6,"px"),k("title",e.year+": "+e.count+" film(s)"),r(2),C(e.year)}}function On(n,t){if(n&1&&(i(0,"section",89)(1,"h3"),c(2,"Your Films Through Time"),o(),i(3,"div",142)(4,"div",143),O(5,"div",144),A(6,Tn,4,6,"div",145,Ae),o()()()),n&2){let e=_(5);r(6),R(e.filmTimeline())}}function Dn(n,t){if(n&1&&(i(0,"a",151)(1,"span",152),c(2),o(),i(3,"span",153),c(4),o()()),n&2){let e=t.$implicit;k("routerLink",e.link),r(2),C(e.label),r(2),W("",e.count," films")}}function kn(n,t){if(n&1&&(i(0,"section",90)(1,"h3"),c(2,"Discovery Gaps"),o(),i(3,"p",149),c(4,"Genres and decades you haven't explored yet"),o(),i(5,"div",150),A(6,Dn,5,3,"a",151,se),o()()),n&2){let e=_(5);r(6),R(e.discoveryGaps())}}function In(n,t){if(n&1&&(i(0,"div",155)(1,"span",156),c(2),o(),i(3,"span",157),c(4),o()()),n&2){let e=t.$implicit;r(2),C(e.value),r(2),C(e.label)}}function Fn(n,t){if(n&1&&(i(0,"section",91)(1,"h3"),c(2,"Viewing Insights"),o(),i(3,"div",154),A(4,In,5,2,"div",155,se),o()()),n&2){let e=_(5);r(4),R(e.viewingInsights())}}function Nn(n,t){if(n&1&&(i(0,"span",164),c(1),o()),n&2){let e=_().$implicit;r(),W("\u2605 ",e.rating,"/10")}}function An(n,t){if(n&1&&(i(0,"div",159),O(1,"div",160),i(2,"div",161)(3,"a",162),c(4),o(),i(5,"span",163),c(6),o(),m(7,Nn,2,1,"span",164),o()()),n&2){let e=t.$implicit;r(3),k("routerLink",X(4,Oe,e.movieId)),r(),C(e.title),r(2),C(e.dateLabel),r(),p(e.rating?7:-1)}}function Rn(n,t){if(n&1&&(i(0,"section",92)(1,"h3"),c(2,"Watch History"),o(),i(3,"div",158),A(4,An,8,6,"div",159,Re),o()()),n&2){let e=_(5);r(4),R(e.watchTimeline())}}function Ln(n,t){if(n&1&&(i(0,"div",71)(1,"div",72)(2,"span",73),c(3),o(),i(4,"span",74),c(5,"Films Watched"),o()(),i(6,"div",75)(7,"span",73),c(8),o(),i(9,"span",74),c(10),o()(),i(11,"div",72)(12,"span",73),c(13),o(),i(14,"span",74),c(15,"Avg. Your Rating"),o()(),i(16,"div",72)(17,"span",73),c(18),o(),i(19,"span",74),c(20,"Avg. TMDb Rating"),o()(),i(21,"div",72)(22,"span",73),c(23),o(),i(24,"span",74),c(25,"Decades Spanned"),o()(),m(26,Pt,5,1,"div",72),i(27,"div",72)(28,"span",73),c(29),o(),i(30,"span",74),c(31,"Current Streak (days)"),o()(),i(32,"div",72)(33,"span",73),c(34),o(),i(35,"span",74),c(36,"Best Streak (days)"),o()(),m(37,Et,5,1,"div",72),m(38,Tt,5,1,"div",72),m(39,Ot,5,1,"div",72),m(40,Dt,5,1,"div",72),m(41,kt,5,1,"div",72),m(42,It,5,1,"div",72),m(43,Ft,5,1,"div",72),m(44,Nt,5,1,"div",72),m(45,At,5,1,"div",72),m(46,Rt,5,1,"div",72),m(47,Lt,5,1,"div",72),m(48,Vt,5,1,"div",72),m(49,Yt,5,1,"div",72),m(50,$t,5,1,"div",72),m(51,zt,5,1,"div",72),m(52,Wt,5,1,"div",72),m(53,Gt,5,1,"div",72),m(54,jt,5,1,"div",72),m(55,Bt,5,1,"div",72),m(56,Ut,5,1,"div",72),m(57,Ht,5,1,"div",72),m(58,qt,5,1,"div",72),m(59,Qt,5,1,"div",72),m(60,Jt,5,1,"div",72),m(61,Zt,5,1,"div",72),m(62,Kt,5,1,"div",72),m(63,Xt,5,1,"div",72),m(64,en,5,1,"div",72),m(65,tn,5,1,"div",72),m(66,nn,5,1,"div",72),m(67,on,5,1,"div",72),m(68,an,5,1,"div",72),m(69,ln,5,1,"div",72),m(70,rn,5,1,"div",72),m(71,cn,5,1,"div",72),o(),m(72,dn,12,7,"div",76),m(73,_n,6,0,"section",77),i(74,"section",78)(75,"h3"),c(76),o(),i(77,"div",79),A(78,mn,12,9,"div",80,le),o()(),m(80,gn,6,0,"section",81),i(81,"div",82)(82,"section",81)(83,"h3"),c(84,"Top Genres"),o(),i(85,"div",83),A(86,Cn,7,7,"a",84,ne),o()(),i(88,"section",81)(89,"h3"),c(90,"By Decade"),o(),i(91,"div",83),A(92,vn,7,7,"a",84,ne),o()()(),m(94,hn,6,0,"section",85),m(95,xn,6,0,"section",86),m(96,bn,6,0,"section",87),m(97,En,18,1,"section",88),m(98,On,8,0,"section",89),m(99,kn,8,0,"section",90),m(100,Fn,6,0,"section",91),m(101,Rn,6,0,"section",92)),n&2){let e,a,l,d,s,h,x,w,b,M,y,D,S,F,G,N,L,V,Y,q,U,Q,J,Z,u=_(4);r(3),C(u.watchedMovies().length),r(5),C(u.watchedThisYear()),r(2),W("Watched in ",u.currentYear),r(3),C(u.avgRating()),r(5),C(u.avgTmdbRating()),r(5),C(u.totalDecades()),r(3),p(u.uniqueLanguages()>1?26:-1),r(3),C(u.currentStreak()),r(5),C(u.longestStreak()),r(3),p(u.watchedAvgFilmAge()>0?37:-1),r(),p(u.watchedDirectorCount()>1?38:-1),r(),p(u.watchedNonEnglishCount()>0?39:-1),r(),p(u.watchedSilentEraCount()>0?40:-1),r(),p((e=u.watchedMedianYear())?41:-1,e),r(),p((a=u.watchedAvgYear())?42:-1,a),r(),p(u.watchedCoDirectedCount()>0?43:-1),r(),p((l=u.watchedAvgTitleLength())?44:-1,l),r(),p((d=u.watchedLongestTitle())?45:-1,d),r(),p((s=u.watchlistAvgYear())?46:-1,s),r(),p((h=u.watchlistOldestYear())?47:-1,h),r(),p((x=u.watchlistIaStreamableCount())?48:-1,x),r(),p((w=u.favoritesAvgRating())?49:-1,w),r(),p(u.favoritesOldestYear()?50:-1),r(),p((b=u.favoritesIaStreamableCount())?51:-1,b),r(),p((M=u.watchedLanguageCount())?52:-1,M),r(),p((y=u.watchedAvgGenreCount())?53:-1,y),r(),p((D=u.watchlistStreamablePct())?54:-1,D),r(),p((S=u.watchedImdbLinkedCount())?55:-1,S),r(),p((F=u.watchedPosterCoveragePct())?56:-1,F),r(),p((G=u.favoritesStreamablePct())?57:-1,G),r(),p((N=u.watchedYtStreamableCount())?58:-1,N),r(),p((L=u.watchedCoDirectedPct())?59:-1,L),r(),p((V=u.watchedShortestTitle())?60:-1,V),r(),p(u.watchedNewestYear()?61:-1),r(),p(u.watchedHighlyRatedCount()>0?62:-1),r(),p((Y=u.watchedAvgDirectorCount())?63:-1,Y),r(),p(u.watchedPreWarCount()?64:-1),r(),p(u.watchedOldestYear()?65:-1),r(),p((q=u.watchedStreamablePct())?66:-1,q),r(),p((U=u.watchedRatingSpread())?67:-1,U),r(),p((Q=u.watchedMedianRating())?68:-1,Q),r(),p(u.watchedDecadeCount()>1?69:-1),r(),p(u.watchedGenreCount()>1?70:-1),r(),p((J=u.watchedTopDirector())?71:-1,J),r(),p((Z=u.nextMilestone())?72:-1,Z),r(),p(u.achievements().length>0?73:-1),r(3),W("",u.monthlyChallenges().month," Challenges"),r(2),R(u.monthlyChallenges().challenges),r(2),p(u.directorStats().length>0?80:-1),r(6),R(u.genreStats()),r(6),R(u.decadeStats()),r(2),p(u.languageStats().length>1?94:-1),r(),p(u.ratingDistribution().length>0?95:-1),r(),p(u.monthlyTrends().length>1?96:-1),r(),p(u.watchHeatmap().weeks.length>0?97:-1),r(),p(u.filmTimeline().length>1?98:-1),r(),p(u.discoveryGaps().length>0?99:-1),r(),p(u.viewingInsights().length>0?100:-1),r(),p(u.watchTimeline().length>0?101:-1)}}function Vn(n,t){if(n&1&&(i(0,"div",19),m(1,St,7,0,"div",3)(2,Ln,102,56),o()),n&2){let e=_(3);r(),p(e.watchedMovies().length===0?1:2)}}function Yn(n,t){if(n&1){let e=z();i(0,"div",9)(1,"div",10)(2,"button",11),I("click",function(){E(e);let l=_(2);return T(l.activeTab.set("watchlist"))}),c(3," Watchlist "),m(4,ze,2,1,"span",12),m(5,We,1,2,"span",13),o(),i(6,"button",11),I("click",function(){E(e);let l=_(2);return T(l.activeTab.set("watched"))}),c(7," Watched "),m(8,Ge,2,1,"span",12),o(),i(9,"button",11),I("click",function(){E(e);let l=_(2);return T(l.activeTab.set("favorites"))}),c(10," Favorites "),m(11,je,2,1,"span",12),o(),i(12,"button",11),I("click",function(){E(e);let l=_(2);return T(l.activeTab.set("playlists"))}),c(13," Playlists "),m(14,Be,2,1,"span",12),o(),i(15,"button",11),I("click",function(){E(e);let l=_(2);return T(l.activeTab.set("stats"))}),c(16," Stats "),o()(),m(17,Qe,13,2,"div",14),m(18,Ze,18,2,"div",15),m(19,Ke,3,0,"div",16),m(20,Xe,6,0,"div",16),o(),m(21,ot,3,1,"div",17),m(22,dt,3,1,"div",17),m(23,gt,3,1,"div",17),m(24,Mt,7,3,"div",18),m(25,Vn,3,1,"div",19)}if(n&2){let e=_(2);r(2),B("collection__tab--active",e.activeTab()==="watchlist"),K("aria-selected",e.activeTab()==="watchlist"),r(2),p(e.watchlistMovies().length>0?4:-1),r(),p(e.newThisWeek()>0?5:-1),r(),B("collection__tab--active",e.activeTab()==="watched"),K("aria-selected",e.activeTab()==="watched"),r(2),p(e.watchedMovies().length>0?8:-1),r(),B("collection__tab--active",e.activeTab()==="favorites"),K("aria-selected",e.activeTab()==="favorites"),r(2),p(e.favoriteMovies().length>0?11:-1),r(),B("collection__tab--active",e.activeTab()==="playlists"),K("aria-selected",e.activeTab()==="playlists"),r(2),p(e.collectionService.playlists().length>0?14:-1),r(),B("collection__tab--active",e.activeTab()==="stats"),K("aria-selected",e.activeTab()==="stats"),r(2),p(e.activeTab()!=="stats"&&e.activeTab()!=="playlists"?17:-1),r(),p(e.activeTab()!=="stats"?18:-1),r(),p(e.activeTab()!=="stats"&&e.activeTab()!=="playlists"?19:-1),r(),p(e.activeTab()!=="stats"?20:-1),r(),p(e.activeTab()==="watchlist"?21:-1),r(),p(e.activeTab()==="watched"?22:-1),r(),p(e.activeTab()==="favorites"?23:-1),r(),p(e.activeTab()==="playlists"?24:-1),r(),p(e.activeTab()==="stats"?25:-1)}}function $n(n,t){if(n&1&&(i(0,"div",7)(1,"h1"),c(2,"My Collection"),o(),i(3,"a",8),c(4,"Year in Review \u2192"),o()(),m(5,$e,1,0,"app-loading-spinner")(6,Yn,26,29)),n&2){let e=_();r(5),p(e.catalog.loading()?5:6)}}var Te=class n{catalog=ee(we);collectionService=ee(be);notifications=ee(ye);route=ee(fe);currentYear=new Date().getFullYear();isSharedView=$(!1);sharedMovies=$([]);activeTab=$("watchlist");sortBy=$("added-desc");viewMode=$("grid");collectionQuery=$("");genreFilter=$("");decadeFilter=$("");ratingFilter=$(0);heatmapYear=$(null);watchlistMovies=v(()=>{let t=this.collectionService.watchlistIds();return this.catalog.movies().filter(e=>t.has(e.id))});watchedMovies=v(()=>{let t=this.collectionService.watchedIds();return this.catalog.movies().filter(e=>t.has(e.id))});currentMovies=v(()=>this.activeTab()==="watchlist"?this.watchlistMovies():this.watchedMovies());favoriteMovies=v(()=>{let t=this.collectionService.favoriteIds();return this.catalog.movies().filter(e=>t.has(e.id))});collectionGenres=v(()=>{let t=[...this.watchlistMovies(),...this.watchedMovies(),...this.favoriteMovies()],e=new Set;for(let a of t)for(let l of a.genres)e.add(l);return[...e].sort()});collectionDecades=v(()=>{let t=[...this.watchlistMovies(),...this.watchedMovies(),...this.favoriteMovies()],e=new Set;for(let a of t)e.add(Math.floor(a.year/10)*10);return[...e].sort()});sortedWatchlist=v(()=>this.applyFilters(this.applyQuery(this.sortMovies(this.watchlistMovies(),"watchlist"))));sortedWatched=v(()=>this.applyRatingFilter(this.applyFilters(this.applyQuery(this.sortMovies(this.watchedMovies(),"watched")))));sortedFavorites=v(()=>{let t=this.sortBy(),a=[...this.favoriteMovies()].sort((l,d)=>{switch(t){case"title-asc":return l.title.localeCompare(d.title);case"title-desc":return d.title.localeCompare(l.title);case"rating-desc":return d.voteAverage-l.voteAverage;case"year-desc":return d.year-l.year;default:return 0}});return this.applyFilters(this.applyQuery(a))});avgRating=v(()=>{let t=this.collectionService.watched().filter(a=>a.userRating!=null);return t.length===0?"\u2014":(t.reduce((a,l)=>a+(l.userRating??0),0)/t.length).toFixed(1)});avgTmdbRating=v(()=>{let t=this.watchedMovies().filter(a=>a.voteAverage>0);return t.length===0?"\u2014":(t.reduce((a,l)=>a+l.voteAverage,0)/t.length).toFixed(1)});totalDecades=v(()=>new Set(this.watchedMovies().map(e=>Math.floor(e.year/10)*10)).size);uniqueLanguages=v(()=>new Set(this.watchedMovies().filter(e=>e.language).map(e=>e.language)).size);watchedThisYear=v(()=>{let t=new Date(new Date().getFullYear(),0,1).getTime();return this.collectionService.watched().filter(e=>e.watchedAt>=t).length});newThisWeek=v(()=>{let t=Date.now()-6048e5;return this.collectionService.watchlist().filter(e=>e.addedAt>=t).length});achievements=v(()=>{let t=this.watchedMovies(),e=t.length,a=new Set(t.map(b=>Math.floor(b.year/10)*10)),l=new Set(t.flatMap(b=>b.genres)),d=t.filter(b=>b.year<1930).length,s=t.filter(b=>b.isStreamable).length,h=this.collectionService.favorites().length,x=this.collectionService.watched().filter(b=>b.userRating!=null).length,{longest:w}=this.computeStreaks();return[{id:"first",icon:"\u{1F3AC}",name:"First Film",description:"Watch your first film",earned:e>=1},{id:"ten",icon:"\u{1F39E}\uFE0F",name:"Film Buff",description:"Watch 10 films",earned:e>=10},{id:"twentyfive",icon:"\u{1F4FD}\uFE0F",name:"Cinephile",description:"Watch 25 films",earned:e>=25},{id:"fifty",icon:"\u{1F3C6}",name:"Film Scholar",description:"Watch 50 films",earned:e>=50},{id:"hundred",icon:"\u{1F451}",name:"Film Historian",description:"Watch 100 films",earned:e>=100},{id:"decades3",icon:"\u{1F4C5}",name:"Time Traveler",description:"Watch films from 3+ decades",earned:a.size>=3},{id:"decades5",icon:"\u23F3",name:"Era Explorer",description:"Watch films from 5+ decades",earned:a.size>=5},{id:"genres5",icon:"\u{1F3AD}",name:"Genre Hopper",description:"Watch films in 5+ genres",earned:l.size>=5},{id:"silent",icon:"\u{1F92B}",name:"Silent Era Fan",description:"Watch 3 films from before 1930",earned:d>=3},{id:"stream5",icon:"\u{1F4FA}",name:"Free Spirit",description:"Watch 5 free films",earned:s>=5},{id:"fav5",icon:"\u2764\uFE0F",name:"Curator",description:"Favorite 5 films",earned:h>=5},{id:"rate10",icon:"\u2B50",name:"Critic",description:"Rate 10 films",earned:x>=10},{id:"streak7",icon:"\u{1F525}",name:"On Fire",description:"7-day watch streak",earned:w>=7}]});nextMilestone=v(()=>{let e=this.achievements().filter(S=>!S.earned);if(e.length===0)return null;let a=this.watchedMovies(),l=a.length,d=new Set(a.map(S=>Math.floor(S.year/10)*10)),s=new Set(a.flatMap(S=>S.genres)),h=a.filter(S=>S.year<1930).length,x=a.filter(S=>S.isStreamable).length,w=this.collectionService.favorites().length,b=this.collectionService.watched().filter(S=>S.userRating!=null).length,{longest:M}=this.computeStreaks(),y={first:{current:l,target:1},ten:{current:l,target:10},twentyfive:{current:l,target:25},fifty:{current:l,target:50},hundred:{current:l,target:100},decades3:{current:d.size,target:3},decades5:{current:d.size,target:5},genres5:{current:s.size,target:5},silent:{current:h,target:3},stream5:{current:x,target:5},fav5:{current:w,target:5},rate10:{current:b,target:10},streak7:{current:M,target:7}},D=null;for(let S of e){let F=y[S.id];if(!F)continue;let G=F.target-F.current,N=Math.round(F.current/F.target*100);(!D||G<D.remaining)&&(D={icon:S.icon,name:S.name,current:F.current,target:F.target,remaining:G,pct:N})}return D});currentStreak=v(()=>this.computeStreaks().current);longestStreak=v(()=>this.computeStreaks().longest);watchedAvgFilmAge=v(()=>{let t=this.watchedMovies();if(t.length<2)return 0;let e=new Date().getFullYear();return Math.round(t.reduce((a,l)=>a+(e-l.year),0)/t.length)});watchedDirectorCount=v(()=>{let t=this.watchedMovies();if(t.length<2)return 0;let e=new Set;for(let a of t)for(let l of a.directors)e.add(l);return e.size});watchedNonEnglishCount=v(()=>{let t=this.watchedMovies();return t.length<2?0:t.filter(e=>e.language&&e.language!=="English"&&e.language!=="en").length});watchedSilentEraCount=v(()=>{let t=this.watchedMovies();return t.length<2?0:t.filter(e=>e.year<1930).length});watchedMedianYear=v(()=>{let t=this.watchedMovies();if(t.length<5)return null;let e=t.map(l=>l.year).sort((l,d)=>l-d),a=Math.floor(e.length/2);return e.length%2===0?Math.round((e[a-1]+e[a])/2):e[a]});watchedAvgYear=v(()=>{let t=this.watchedMovies();return t.length<5?null:Math.round(t.reduce((e,a)=>e+a.year,0)/t.length)});watchedCoDirectedCount=v(()=>{let t=this.watchedMovies();return t.length<2?0:t.filter(e=>e.directors.length>1).length});watchedAvgTitleLength=v(()=>{let t=this.watchedMovies();return t.length<5?null:Math.round(t.reduce((e,a)=>e+a.title.length,0)/t.length)});watchedHighlyRatedCount=v(()=>this.watchedMovies().filter(t=>t.voteAverage>=8).length);watchedShortestTitle=v(()=>{let t=this.watchedMovies();if(t.length<3)return null;let e=t.reduce((a,l)=>a.title.length<=l.title.length?a:l);return e.title.length<=15?e.title:null});watchedStreamablePct=v(()=>{let t=this.watchedMovies();if(t.length<3)return null;let e=Math.round(t.filter(a=>a.isStreamable).length/t.length*100);return e>0&&e<100?e:null});watchedMedianRating=v(()=>{let t=this.watchedMovies().filter(d=>d.voteAverage>0);if(t.length<3)return null;let e=t.map(d=>d.voteAverage).sort((d,s)=>d-s),a=Math.floor(e.length/2);return(e.length%2===0?(e[a-1]+e[a])/2:e[a]).toFixed(1)});watchedDecadeCount=v(()=>new Set(this.watchedMovies().map(e=>Math.floor(e.year/10)*10)).size);watchedGenreCount=v(()=>{let t=new Set;for(let e of this.watchedMovies())for(let a of e.genres)t.add(a);return t.size});watchedTopDirector=v(()=>{let t=this.watchedMovies();if(t.length<3)return null;let e=new Map;for(let l of t)for(let d of l.directors)e.set(d,(e.get(d)??0)+1);let a=[...e.entries()].sort((l,d)=>d[1]-l[1])[0];return a&&a[1]>=2?a[0]:null});watchedLongestTitle=v(()=>{let t=this.watchedMovies();if(t.length<3)return null;let e=t.reduce((a,l)=>a.title.length>=l.title.length?a:l);return e.title.length>=15?e.title:null});watchedRatingSpread=v(()=>{let t=this.watchedMovies().filter(l=>l.voteAverage>0);if(t.length<5)return null;let e=t.map(l=>l.voteAverage).sort((l,d)=>l-d),a=e[e.length-1]-e[0];return a>=2?a.toFixed(1):null});watchedPreWarCount=v(()=>{let t=this.watchedMovies();if(t.length<3)return null;let e=t.filter(a=>a.year<1940).length;return e>=1?e:null});watchedAvgDirectorCount=v(()=>{let t=this.watchedMovies();if(t.length<5)return null;let e=t.reduce((a,l)=>a+l.directors.length,0)/t.length;return e>=1.05?e.toFixed(2):null});watchedOldestYear=v(()=>{let t=this.watchedMovies();return t.length<2?null:t.reduce((e,a)=>e.year<=a.year?e:a).year});watchedNewestYear=v(()=>{let t=this.watchedMovies();return t.length<2?null:t.reduce((e,a)=>e.year>=a.year?e:a).year});favoritesAvgRating=v(()=>{let t=this.favoriteMovies();if(t.length<2)return null;let e=t.filter(a=>a.voteAverage>0);return e.length<2?null:(e.reduce((a,l)=>a+l.voteAverage,0)/e.length).toFixed(1)});watchlistStreamablePct=v(()=>{let t=this.watchlistMovies();if(t.length<3)return null;let e=Math.round(t.filter(a=>a.isStreamable).length/t.length*100);return e>0&&e<100?e:null});watchedImdbLinkedCount=v(()=>{let t=this.watchedMovies();if(t.length<3)return null;let e=t.filter(a=>a.imdbId).length;return e>0?e:null});watchedPosterCoveragePct=v(()=>{let t=this.watchedMovies();if(t.length<3)return null;let e=Math.round(t.filter(a=>a.posterUrl).length/t.length*100);return e>0&&e<100?e:null});favoritesStreamablePct=v(()=>{let t=this.favoriteMovies();if(t.length<3)return null;let e=Math.round(t.filter(a=>a.isStreamable).length/t.length*100);return e>0&&e<100?e:null});watchedYtStreamableCount=v(()=>{let t=this.watchedMovies();if(t.length<3)return null;let e=t.filter(a=>a.youtubeId).length;return e>0?e:null});watchedAvgGenreCount=v(()=>{let t=this.watchedMovies();if(t.length<5)return null;let e=t.reduce((a,l)=>a+l.genres.length,0)/t.length;return e>=1.5?e.toFixed(1):null});watchedLanguageCount=v(()=>{let t=this.watchedMovies();if(t.length<3)return null;let e=new Set(t.filter(a=>a.language).map(a=>a.language));return e.size>=2?e.size:null});favoritesOldestYear=v(()=>{let t=this.favoriteMovies();return t.length<2?null:t.reduce((e,a)=>e.year<=a.year?e:a).year});watchlistOldestYear=v(()=>{let t=this.watchlistMovies();return t.length<2?null:t.reduce((e,a)=>e.year<=a.year?e:a).year});watchlistAvgYear=v(()=>{let t=this.watchlistMovies();return t.length<3?null:Math.round(t.reduce((e,a)=>e+a.year,0)/t.length)});watchedCoDirectedPct=v(()=>{let t=this.watchedMovies();if(t.length<5)return null;let e=Math.round(t.filter(a=>a.directors.length>1).length/t.length*100);return e>0&&e<100?e:null});favoritesIaStreamableCount=v(()=>{let t=this.favoriteMovies();if(t.length<3)return null;let e=t.filter(a=>a.internetArchiveId).length;return e>0?e:null});watchlistIaStreamableCount=v(()=>{let t=this.watchlistMovies();if(t.length<3)return null;let e=t.filter(a=>a.internetArchiveId).length;return e>0?e:null});computeStreaks(){let t=this.collectionService.watched();if(t.length===0)return{current:0,longest:0};let e=new Set;for(let y of t){let D=new Date(y.watchedAt);e.add(`${D.getFullYear()}-${D.getMonth()}-${D.getDate()}`)}let a=[...e].sort();if(a.length===0)return{current:0,longest:0};let l=y=>{let[D,S,F]=y.split("-").map(Number);return new Date(D,S,F)},d=1,s=1;for(let y=1;y<a.length;y++){let D=l(a[y-1]),F=(l(a[y]).getTime()-D.getTime())/(1e3*60*60*24);Math.round(F)===1?(s++,s>d&&(d=s)):s=1}let h=l(a[a.length-1]),x=new Date;return{current:(new Date(x.getFullYear(),x.getMonth(),x.getDate()).getTime()-h.getTime())/(1e3*60*60*24)<=1?s:0,longest:d}}genreStats=v(()=>this.computeStats(this.watchedMovies().flatMap(t=>t.genres)));decadeStats=v(()=>this.computeStats(this.watchedMovies().map(t=>`${Math.floor(t.year/10)*10}s`)));languageStats=v(()=>{let t=this.watchedMovies().filter(s=>s.language);if(t.length<3)return[];let e={en:"English",fr:"French",de:"German",ja:"Japanese",it:"Italian",es:"Spanish",ru:"Russian",sv:"Swedish",da:"Danish",pt:"Portuguese",nl:"Dutch",zh:"Chinese",ko:"Korean",pl:"Polish",cs:"Czech",hu:"Hungarian",fi:"Finnish",el:"Greek",ro:"Romanian",tr:"Turkish",ar:"Arabic",hi:"Hindi",no:"Norwegian",nb:"Norwegian"},a=new Map;for(let s of t){let h=s.language?e[s.language]??s.language.toUpperCase():"Unknown";a.set(h,(a.get(h)??0)+1)}let l=[...a.entries()].sort((s,h)=>h[1]-s[1]).slice(0,8),d=l[0]?.[1]??1;return l.map(([s,h])=>({name:s,count:h,pct:h/d*100}))});directorStats=v(()=>{let t=new Map;for(let l of this.watchedMovies())for(let d of l.directors)t.set(d,(t.get(d)??0)+1);let e=[...t.entries()].filter(([,l])=>l>=2).sort((l,d)=>d[1]-l[1]).slice(0,8),a=e[0]?.[1]??1;return e.map(([l,d])=>({name:l,count:d,pct:d/a*100}))});ratingDistribution=v(()=>{let t=this.collectionService.watched().filter(l=>l.userRating!=null);if(t.length===0)return[];let e=new Map;for(let l of t){let d=Math.round(l.userRating);e.set(d,(e.get(d)??0)+1)}let a=Math.max(...e.values());return Array.from({length:10},(l,d)=>d+1).map(l=>({name:String(l),count:e.get(l)??0,pct:(e.get(l)??0)/a*100})).filter(l=>l.count>0)});monthlyTrends=v(()=>{let t=this.collectionService.watched();if(t.length===0)return[];let e=new Map;for(let d of t){let s=new Date(d.watchedAt),h=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`;e.set(h,(e.get(h)??0)+1)}let a=[...e.entries()].sort((d,s)=>d[0].localeCompare(s[0])).slice(-12),l=Math.max(...a.map(([,d])=>d));return a.map(([d,s])=>{let[h,x]=d.split("-");return{label:new Date(parseInt(h),parseInt(x)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"}),count:s,pct:s/l*100}})});filmTimeline=v(()=>{let t=this.watchedMovies();if(t.length<2)return[];let e=new Map;for(let h of t)e.set(h.year,(e.get(h.year)??0)+1);let a=[...e.keys()].sort((h,x)=>h-x),l=a[0],s=a[a.length-1]-l||1;return a.map(h=>({year:h,count:e.get(h),pct:(h-l)/s*100}))});monthlyChallenges=v(()=>{let t=this.collectionService.watched(),e=new Date,a=e.getMonth(),l=e.getFullYear(),d=t.filter(M=>{let y=new Date(M.watchedAt);return y.getMonth()===a&&y.getFullYear()===l}),s=d.filter(M=>M.userRating!=null),h=d.filter(M=>M.review),x=this.catalog.movies().filter(M=>d.some(y=>y.movieId===M.id)),w=new Set(x.map(M=>Math.floor(M.year/10)*10)),b=e.toLocaleDateString("en-US",{month:"long"});return{month:b,challenges:[{id:"watch5",name:"Film Buff",description:`Watch 5 films in ${b}`,current:Math.min(d.length,5),target:5,icon:"\u{1F3AC}"},{id:"rate3",name:"Critic",description:`Rate 3 films in ${b}`,current:Math.min(s.length,3),target:3,icon:"\u2B50"},{id:"review1",name:"Reviewer",description:`Write a review in ${b}`,current:Math.min(h.length,1),target:1,icon:"\u270D\uFE0F"},{id:"decades2",name:"Time Traveler",description:"Watch from 2+ decades this month",current:Math.min(w.size,2),target:2,icon:"\u{1F4C5}"}]}});heatmapYears=v(()=>{let t=new Set;for(let e of this.collectionService.watched())t.add(new Date(e.watchedAt).getFullYear());return[...t].sort((e,a)=>a-e)});watchHeatmap=v(()=>{let t=this.collectionService.watched();if(t.length===0)return{weeks:[]};let e=this.heatmapYear(),a=new Date,l=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Map;for(let w of t){let b=new Date(w.watchedAt),M=`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}-${String(b.getDate()).padStart(2,"0")}`;d.set(M,(d.get(M)??0)+1)}let s,h;e?(s=new Date(e,0,1),s.setDate(s.getDate()-s.getDay()),h=new Date(e,11,31)):(h=l,s=new Date(l),s.setDate(s.getDate()-364-s.getDay()));let x=[];for(let w=0;w<53;w++){let b=[];for(let M=0;M<7;M++){let y=new Date(s);y.setDate(y.getDate()+w*7+M);let D=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`,S=d.get(D)??0,F=y>l;b.push({date:D,count:F?-1:S,level:F?-1:S===0?0:S===1?1:S===2?2:3})}x.push({days:b})}return{weeks:x}});newPlaylistName=$("");editingPlaylistId=$(null);editPlaylistName=$("");playlistMovies(t){let e=this.collectionService.playlists().find(l=>l.id===t);if(!e)return[];let a=this.catalog.movies();return e.movieIds.map(l=>a.find(d=>d.id===l)).filter(l=>!!l)}createPlaylist(){let t=this.newPlaylistName().trim();t&&(this.collectionService.createPlaylist(t),this.newPlaylistName.set(""),this.notifications.show("Playlist created","success"))}startRename(t){this.editingPlaylistId.set(t.id),this.editPlaylistName.set(t.name)}saveRename(t){let e=this.editPlaylistName().trim();e&&this.collectionService.renamePlaylist(t,e),this.editingPlaylistId.set(null)}deletePlaylist(t){this.collectionService.deletePlaylist(t),this.notifications.show("Playlist deleted","info")}discoveryGaps=v(()=>{let t=this.watchedMovies();if(t.length<5)return[];let e=new Set(t.flatMap(x=>x.genres)),a=new Set(t.map(x=>Math.floor(x.year/10)*10)),l=this.catalog.movies().filter(x=>x.isStreamable),d=[],s=new Map;for(let x of l)for(let w of x.genres)s.set(w,(s.get(w)??0)+1);for(let[x,w]of s)!e.has(x)&&w>=10&&d.push({label:x,count:w,link:["/genre",x]});let h=new Map;for(let x of l){let w=Math.floor(x.year/10)*10;h.set(w,(h.get(w)??0)+1)}for(let[x,w]of h)!a.has(x)&&w>=5&&d.push({label:`${x}s`,count:w,link:["/decade",String(x)]});return d.sort((x,w)=>w.count-x.count).slice(0,8)});viewingInsights=v(()=>{let t=this.collectionService.watched();if(t.length<3)return[];let e=this.catalog.movies(),a=new Map(e.map(g=>[g.id,g])),l=[],d=t.map(g=>g.watchedAt).sort(),s=new Date(d[0]),h=new Date,x=Math.max(1,(h.getFullYear()-s.getFullYear())*12+h.getMonth()-s.getMonth()+1),w=(t.length/x).toFixed(1);l.push({label:"Films per Month",value:w});let b=new Map;for(let g of t){let f=a.get(g.movieId);if(f)for(let P of f.genres)b.set(P,(b.get(P)??0)+1)}let M=[...b.entries()].sort((g,f)=>f[1]-g[1])[0];M&&l.push({label:"Favorite Genre",value:M[0]});let y=new Map;for(let g of t){let f=a.get(g.movieId);if(f)for(let P of f.directors)y.set(P,(y.get(P)??0)+1)}let D=[...y.entries()].sort((g,f)=>f[1]-g[1])[0];D&&D[1]>=2&&l.push({label:"Top Director",value:D[0]});let S=new Map;for(let g of t){let f=a.get(g.movieId);if(f){let P=Math.floor(f.year/10)*10;S.set(P,(S.get(P)??0)+1)}}let F=[...S.entries()].sort((g,f)=>f[1]-g[1])[0];F&&l.push({label:"Preferred Decade",value:`${F[0]}s`});let G=t.reduce((g,f)=>{let P=a.get(f.movieId);return P?g+P.year:g},0),N=t.filter(g=>a.has(g.movieId)).length;N>=3&&l.push({label:"Avg Film Year",value:`${Math.round(G/N)}`});let L=0,V=9999;for(let g of t){let f=a.get(g.movieId);f&&(f.year>L&&(L=f.year),f.year<V&&(V=f.year))}L>0&&l.push({label:"Newest Film",value:`${L}`}),V<9999&&l.push({label:"Oldest Film",value:`${V}`});let Y=t.filter(g=>g.userRating!=null).sort((g,f)=>(f.userRating??0)-(g.userRating??0));if(Y.length>0){let g=a.get(Y[0].movieId);if(g){let f=g.title.length>18?g.title.slice(0,16)+"...":g.title;l.push({label:"Highest Rated",value:f})}}let q=t.filter(g=>a.get(g.movieId)?.isStreamable).length;t.length>=3&&l.push({label:"Streamable %",value:`${Math.round(q/t.length*100)}%`});let U=new Set;for(let g of t){let f=a.get(g.movieId);if(f)for(let P of f.directors)U.add(P)}U.size>=2&&l.push({label:"Unique Directors",value:`${U.size}`});let Q=new Set;for(let g of t){let f=a.get(g.movieId);f&&f.language&&Q.add(f.language)}Q.size>=2&&l.push({label:"Languages",value:`${Q.size}`});let J=new Set;for(let g of t){let f=a.get(g.movieId);if(f)for(let P of f.genres)J.add(P)}J.size>=3&&l.push({label:"Genres Explored",value:`${J.size}`});let Z=t.filter(g=>g.userRating!=null&&g.userRating>0);if(Z.length>=3){let g=Z.reduce((f,P)=>f+(P.userRating??0),0)/Z.length;l.push({label:"Avg Your Rating",value:g.toFixed(1)})}let u=new Set;for(let g of t){let f=a.get(g.movieId);f&&u.add(Math.floor(f.year/10)*10)}if(u.size>=3){let g=[...u].sort((f,P)=>f-P);l.push({label:"Decade Span",value:`${g[0]}s\u2013${g[g.length-1]}s`})}let _e=t.filter(g=>{let f=a.get(g.movieId);return f&&f.directors.length>1}).length;_e>0&&l.push({label:"Co-directed Films",value:`${_e}`});let re=t.map(g=>a.get(g.movieId)).filter(g=>!!g&&g.voteAverage>0);if(re.length>=3){let g=re.reduce((f,P)=>f+P.voteAverage,0)/re.length;l.push({label:"Avg TMDb Rating",value:g.toFixed(1)})}let De=new Date().getFullYear(),ce=t.map(g=>a.get(g.movieId)).filter(g=>!!g).map(g=>De-g.year);if(ce.length>=3){let g=Math.round(ce.reduce((f,P)=>f+P,0)/ce.length);g>=10&&l.push({label:"Avg Film Age",value:`${g} years`})}if(Y.length>=3){let g=0,f=0,P=0;for(let H of Y){let de=a.get(H.movieId);de&&de.voteAverage>0&&H.userRating!=null&&(g+=H.userRating,f+=de.voteAverage,P++)}if(P>=3){let H=g/P-f/P;Math.abs(H)>=.3&&l.push({label:"Rating Bias",value:H>0?`+${H.toFixed(1)} vs TMDb`:`${H.toFixed(1)} vs TMDb`})}}return l});watchTimeline=v(()=>{let t=new Map(this.catalog.movies().map(e=>[e.id,e]));return[...this.collectionService.watched()].sort((e,a)=>a.watchedAt-e.watchedAt).slice(0,20).map(e=>{let a=t.get(e.movieId),l=new Date(e.watchedAt);return{movieId:e.movieId,title:a?.title??"Unknown Film",dateLabel:l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),rating:e.userRating}})});ngOnInit(){this.catalog.load();let t=this.route.snapshot.queryParams.shared;if(t){this.isSharedView.set(!0);let e=t.split(","),a=()=>{if(this.catalog.loaded()){let l=this.catalog.movies();this.sharedMovies.set(e.map(d=>l.find(s=>s.id===d)).filter(d=>!!d))}else setTimeout(a,100)};a()}}shareCollection(){let t=this.currentMovies();if(t.length===0){this.notifications.show("No films to share","info");return}let e=t.map(l=>l.id).join(","),a=`${window.location.origin}/collection?shared=${e}`;navigator.clipboard.writeText(a).then(()=>{this.notifications.show("Share link copied to clipboard","success")}).catch(()=>{this.notifications.show("Failed to copy link","error")})}onSortChange(t){this.sortBy.set(t.target.value)}onRatingFilterChange(t){this.ratingFilter.set(parseInt(t.target.value,10))}applyQuery(t){let e=this.collectionQuery().toLowerCase().trim();return e?t.filter(a=>a.title.toLowerCase().includes(e)||a.directors.some(l=>l.toLowerCase().includes(e))||a.genres.some(l=>l.toLowerCase().includes(e))):t}applyFilters(t){let e=this.genreFilter(),a=this.decadeFilter(),l=t;if(e&&(l=l.filter(d=>d.genres.includes(e))),a){let d=parseInt(a,10);l=l.filter(s=>Math.floor(s.year/10)*10===d)}return l}applyRatingFilter(t){let e=this.ratingFilter();return e===0?t:e===-1?t.filter(a=>{let l=this.collectionService.watched().find(d=>d.movieId===a.id);return l&&l.userRating==null}):t.filter(a=>{let l=this.collectionService.watched().find(d=>d.movieId===a.id);return l&&l.userRating!=null&&l.userRating>=e})}exportCsv(){let t=this.currentMovies(),e=this.activeTab(),a=["Title","Year","Genres","Directors","Rating","Streamable"];e==="watched"&&a.push("Your Rating");let l=t.map(w=>{let b=[`"${w.title.replace(/"/g,'""')}"`,w.year,`"${w.genres.join(", ")}"`,`"${w.directors.join(", ")}"`,w.voteAverage||"",w.isStreamable?"Yes":"No"];if(e==="watched"){let M=this.collectionService.watched().find(y=>y.movieId===w.id);b.push(M?.userRating??"")}return b.join(",")}),d=[a.join(","),...l].join(`
`),s=new Blob([d],{type:"text/csv"}),h=URL.createObjectURL(s),x=document.createElement("a");x.href=h,x.download=`bw-cinema-${e}-${new Date().toISOString().slice(0,10)}.csv`,x.click(),URL.revokeObjectURL(h)}exportLetterboxd(){let t=this.activeTab()==="watched"?this.sortedWatched():this.sortedWatchlist(),e=this.activeTab(),a=["imdbID","Title","Year","Rating10"],l=t.map(w=>{let b=e==="watched"?this.collectionService.watched().find(M=>M.movieId===w.id):null;return[w.imdbId??"",`"${w.title.replace(/"/g,'""')}"`,w.year,b?.userRating??""].join(",")}),d=[a.join(","),...l].join(`
`),s=new Blob([d],{type:"text/csv"}),h=URL.createObjectURL(s),x=document.createElement("a");x.href=h,x.download=`letterboxd-${e}-${new Date().toISOString().slice(0,10)}.csv`,x.click(),URL.revokeObjectURL(h),this.notifications.show("Letterboxd CSV exported","success")}importLetterboxd(t){let e=t.target,a=e.files?.[0];if(!a)return;let l=new FileReader;l.onload=()=>{try{let s=l.result.split(`
`).filter(N=>N.trim());if(s.length<2){this.notifications.show("CSV file is empty","error");return}let h=s[0].toLowerCase(),x=h.includes("imdbid"),w=h.includes("title");if(!x&&!w){this.notifications.show("CSV must have imdbID or Title column","error");return}let b=this.parseCsvRow(s[0]),M=b.findIndex(N=>N.toLowerCase().trim()==="imdbid"),y=b.findIndex(N=>N.toLowerCase().trim()==="title"),D=b.findIndex(N=>N.toLowerCase().trim()==="year"),S=b.findIndex(N=>N.toLowerCase().trim().includes("rating")),F=this.catalog.movies(),G=0;for(let N=1;N<s.length;N++){let L=this.parseCsvRow(s[N]);if(L.length===0)continue;let V;if(M>=0&&L[M]&&(V=F.find(Y=>Y.imdbId===L[M].trim())),!V&&y>=0&&L[y]){let Y=L[y].trim().toLowerCase(),q=D>=0?parseInt(L[D],10):NaN;V=F.find(U=>U.title.toLowerCase()===Y&&(isNaN(q)||U.year===q))}if(V&&!this.collectionService.isWatched(V.id)){let Y=S>=0?parseFloat(L[S]):NaN;this.collectionService.markWatched(V.id,isNaN(Y)?null:Math.round(Y*2)/2),G++}}this.notifications.show(`Imported ${G} film${G!==1?"s":""}`,"success")}catch{this.notifications.show("Failed to parse CSV file","error")}e.value=""},l.readAsText(a)}parseCsvRow(t){let e=[],a="",l=!1;for(let d=0;d<t.length;d++){let s=t[d];l?s==='"'?t[d+1]==='"'?(a+='"',d++):l=!1:a+=s:s==='"'?l=!0:s===","?(e.push(a),a=""):a+=s}return e.push(a),e}exportBackup(){let t={watchlist:this.collectionService.watchlist(),watched:this.collectionService.watched(),favorites:this.collectionService.favorites(),exportedAt:new Date().toISOString()},e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(e),l=document.createElement("a");l.href=a,l.download=`bw-cinema-backup-${new Date().toISOString().slice(0,10)}.json`,l.click(),URL.revokeObjectURL(a),this.notifications.show("Backup downloaded","success")}importBackup(t){let e=t.target,a=e.files?.[0];if(!a)return;let l=new FileReader;l.onload=()=>{try{let d=JSON.parse(l.result);if(d.watchlist&&Array.isArray(d.watchlist))for(let s of d.watchlist)s.movieId&&!this.collectionService.isInWatchlist(s.movieId)&&!this.collectionService.isWatched(s.movieId)&&this.collectionService.addToWatchlist(s.movieId);if(d.watched&&Array.isArray(d.watched))for(let s of d.watched)s.movieId&&!this.collectionService.isWatched(s.movieId)&&this.collectionService.markWatched(s.movieId,s.userRating??null);if(d.favorites&&Array.isArray(d.favorites))for(let s of d.favorites)typeof s=="string"&&!this.collectionService.isFavorite(s)&&this.collectionService.toggleFavorite(s);this.notifications.show("Collection restored successfully","success")}catch{this.notifications.show("Invalid backup file","error")}e.value=""},l.readAsText(a)}sortMovies(t,e){let a=this.sortBy(),l=e==="watchlist"?this.collectionService.watchlist():this.collectionService.watched(),d=new Map(l.map(s=>[s.movieId,"addedAt"in s?s.addedAt:s.watchedAt]));return[...t].sort((s,h)=>{switch(a){case"added-desc":return(d.get(h.id)??0)-(d.get(s.id)??0);case"added-asc":return(d.get(s.id)??0)-(d.get(h.id)??0);case"title-asc":return s.title.localeCompare(h.title);case"title-desc":return h.title.localeCompare(s.title);case"rating-desc":return h.voteAverage-s.voteAverage;case"year-desc":return h.year-s.year;default:return 0}})}computeStats(t){let e=new Map;for(let d of t)e.set(d,(e.get(d)??0)+1);let a=[...e.entries()].sort((d,s)=>s[1]-d[1]).slice(0,8),l=a[0]?.[1]??1;return a.map(([d,s])=>({name:d,count:s,pct:s/l*100}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=pe({type:n,selectors:[["app-collection"]],decls:3,vars:1,consts:[[1,"collection","container"],[1,"collection__shared-info"],[3,"movies"],[1,"collection__empty"],[1,"collection__empty-title"],[1,"collection__empty-text"],["routerLink","/browse",1,"btn-primary"],[1,"collection__title-row"],["routerLink","/wrapped",1,"collection__wrapped-link"],[1,"collection__controls"],["role","tablist",1,"collection__tabs"],["role","tab",1,"collection__tab",3,"click"],[1,"collection__count"],[1,"collection__new-dot",3,"title"],[1,"collection__search"],[1,"collection__actions"],[1,"collection__backup"],["role","tabpanel"],["role","tabpanel",1,"playlists"],["role","tabpanel",1,"stats"],["type","search","placeholder","Search in collection...","autocomplete","off",1,"collection__search-input",3,"input","value"],[1,"collection__filter-select",3,"change"],["value",""],[3,"value"],[1,"collection__rating-filter"],[1,"collection__rating-filter",3,"change"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","-1"],["for","collection-sort",1,"sr-only"],["id","collection-sort",1,"collection__sort",3,"change"],["value","added-desc","selected",""],["value","added-asc"],["value","title-asc"],["value","title-desc"],["value","rating-desc"],["value","year-desc"],[3,"modeChange","mode"],[1,"btn-ghost","collection__export",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"btn-ghost","collection__export","collection__import-label"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],["type","file","accept",".csv",1,"sr-only",3,"change"],[1,"btn-ghost","collection__backup-btn",3,"click"],[1,"btn-ghost","collection__backup-btn","collection__restore-label"],["type","file","accept",".json",1,"sr-only",3,"change"],[1,"playlists__create"],["type","text","placeholder","New playlist name...",1,"playlists__input",3,"input","keydown.enter","value"],[1,"btn-secondary",3,"click","disabled"],[1,"playlists__card"],[1,"playlists__header"],["type","text",1,"playlists__rename-input",3,"value"],[1,"playlists__name"],[1,"playlists__count"],["aria-label","Delete playlist",1,"btn-ghost","playlists__delete",3,"click"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],[1,"playlists__movies"],["type","text",1,"playlists__rename-input",3,"input","keydown.enter","blur","value"],[1,"playlists__name",3,"click"],[1,"playlists__movie",3,"routerLink"],["loading","lazy",3,"src","alt"],[1,"playlists__movie-placeholder"],[1,"stats__overview"],[1,"stats__card"],[1,"stats__card-value"],[1,"stats__card-label"],[1,"stats__card","stats__card--highlight"],[1,"stats__milestone"],[1,"achievements"],[1,"challenges"],[1,"challenges__grid"],[1,"challenges__card",3,"challenges__card--done"],[1,"stats__section"],[1,"stats__sections"],[1,"stats__bars"],[1,"stats__bar-row",3,"routerLink"],[1,"stats__section","stats__lang-section"],[1,"stats__section","stats__rating-dist"],[1,"stats__section","stats__trends"],[1,"heatmap"],[1,"film-tl"],[1,"gaps"],[1,"insights"],[1,"timeline"],[1,"stats__card-value",2,"font-size","0.75em"],[1,"stats__card-value",2,"font-size","0.85em"],[1,"stats__milestone-icon"],[1,"stats__milestone-info"],[1,"stats__milestone-name"],[1,"stats__milestone-desc"],[1,"stats__milestone-bar-track"],[1,"stats__milestone-bar-fill"],[1,"stats__milestone-progress"],[1,"achievements__grid"],[1,"achievements__badge",3,"achievements__badge--earned"],[1,"achievements__badge"],[1,"achievements__icon"],[1,"achievements__name"],[1,"achievements__desc"],[1,"challenges__card"],[1,"challenges__icon"],[1,"challenges__info"],[1,"challenges__name"],[1,"challenges__desc"],[1,"challenges__bar-track"],[1,"challenges__bar-fill"],[1,"challenges__progress"],[1,"stats__bar-row"],[1,"stats__bar-label","stats__bar-label--link",3,"routerLink"],[1,"stats__bar-track"],[1,"stats__bar-fill"],[1,"stats__bar-count"],[1,"stats__bar-label","stats__bar-label--link"],[1,"stats__bar-label"],[1,"stats__trend-chart"],[1,"stats__trend-col"],[1,"stats__trend-count"],[1,"stats__trend-bar"],[1,"stats__trend-label"],[1,"heatmap__header"],[1,"heatmap__years"],[1,"heatmap__scroll"],[1,"heatmap__grid"],[1,"heatmap__col"],[1,"heatmap__legend"],[1,"heatmap__cell","heatmap__cell--l0"],[1,"heatmap__cell","heatmap__cell--l1"],[1,"heatmap__cell","heatmap__cell--l2"],[1,"heatmap__cell","heatmap__cell--l3"],[1,"heatmap__year-btn",3,"click"],[1,"heatmap__year-btn",3,"heatmap__year-btn--active"],[1,"heatmap__cell",3,"heatmap__cell--l1","heatmap__cell--l2","heatmap__cell--l3","heatmap__cell--future","title"],[1,"heatmap__cell",3,"title"],[1,"film-tl__scroll"],[1,"film-tl__track"],[1,"film-tl__line"],[1,"film-tl__point",3,"left"],[1,"film-tl__point"],[1,"film-tl__marker",3,"title"],[1,"film-tl__year"],[1,"gaps__desc"],[1,"gaps__grid"],[1,"gaps__chip",3,"routerLink"],[1,"gaps__chip-label"],[1,"gaps__chip-count"],[1,"insights__grid"],[1,"insights__card"],[1,"insights__value"],[1,"insights__label"],[1,"timeline__list"],[1,"timeline__item"],[1,"timeline__dot"],[1,"timeline__content"],[1,"timeline__title",3,"routerLink"],[1,"timeline__date"],[1,"timeline__rating"]],template:function(e,a){e&1&&(i(0,"div",0),m(1,Ye,6,3)(2,$n,7,1),o()),e&2&&(r(),p(a.isSharedView()?1:2))},dependencies:[xe,Me,Se,Pe,Ee],styles:['.collection[_ngcontent-%COMP%]{padding:var(--space-xl) 0}.collection__shared-info[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0 0 var(--space-xl)}.collection__controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:var(--space-md);margin-bottom:var(--space-xl)}.collection__title-row[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between}.collection__wrapped-link[_ngcontent-%COMP%]{font:600 .85rem var(--font-body);color:var(--accent-gold)}.collection__tabs[_ngcontent-%COMP%]{display:flex;gap:2px;background:var(--bg-surface);border-radius:var(--radius-lg);padding:4px;width:fit-content}.collection__tab[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-tertiary);font-size:.95rem;font-weight:600;padding:var(--space-sm) var(--space-xl);cursor:pointer;border-radius:var(--radius);display:flex;align-items:center;gap:var(--space-sm);min-height:40px}.collection__tab[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.collection__tab--active[_ngcontent-%COMP%]{color:var(--accent-gold);background:var(--bg-raised)}.collection__count[_ngcontent-%COMP%]{font-size:.75rem;background:var(--accent-gold-dim);color:var(--accent-gold);padding:1px 8px;border-radius:10px}.collection__new-dot[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;border-radius:50%;background:#198754;vertical-align:super}.collection__actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);align-items:center}.collection__sort[_ngcontent-%COMP%]{min-width:160px;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-lg);background:var(--bg-surface)}.collection__export[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;font-size:.85rem}.collection__import-label[_ngcontent-%COMP%], .collection__restore-label[_ngcontent-%COMP%]{cursor:pointer}.collection__search[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-sm);width:100%}.collection__search-input[_ngcontent-%COMP%], .playlists__input[_ngcontent-%COMP%]{flex:1;max-width:320px;padding:var(--space-sm) var(--space-md);background:var(--bg-surface);color:var(--text-primary);border:1px solid var(--border);border-radius:var(--radius-lg);font-size:.9rem}.collection__search-input[_ngcontent-%COMP%]:focus, .playlists__input[_ngcontent-%COMP%]:focus{border-color:var(--accent-gold);outline:none}.collection__filter-select[_ngcontent-%COMP%], .collection__rating-filter[_ngcontent-%COMP%]{padding:var(--space-sm) var(--space-md);border-radius:var(--radius-lg);background:var(--bg-surface);border:1px solid var(--border);color:var(--text-primary);font-size:.85rem;min-width:120px}.collection__empty[_ngcontent-%COMP%]{text-align:center;padding:var(--space-3xl) var(--space-lg)}.collection__empty-title[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1.3rem;margin:0 0 var(--space-sm)}.collection__empty-text[_ngcontent-%COMP%]{color:var(--text-tertiary);margin:0 0 var(--space-lg)}.stats__overview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:var(--space-md);margin-bottom:var(--space-2xl)}.stats__card[_ngcontent-%COMP%], .insights__card[_ngcontent-%COMP%], .achievements__badge[_ngcontent-%COMP%], .challenges__card[_ngcontent-%COMP%], .playlists__card[_ngcontent-%COMP%]{background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md)}.stats__card[_ngcontent-%COMP%]{padding:var(--space-lg);text-align:center}.stats__card--highlight[_ngcontent-%COMP%], .achievements__badge--earned[_ngcontent-%COMP%], .challenges__card--done[_ngcontent-%COMP%]{border-color:var(--accent-gold);background:var(--accent-gold-dim)}.stats__card-value[_ngcontent-%COMP%], .insights__value[_ngcontent-%COMP%]{display:block;font-family:var(--font-heading);font-weight:700;color:var(--accent-gold);margin-bottom:4px}.stats__card-value[_ngcontent-%COMP%]{font-size:2rem}.stats__card-label[_ngcontent-%COMP%], .insights__label[_ngcontent-%COMP%]{font-size:.8rem;text-transform:uppercase;color:var(--text-tertiary)}.stats__sections[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-xl)}.stats__section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .achievements[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .challenges[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:var(--space-md)}.stats__bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.stats__bar-row[_ngcontent-%COMP%], .playlists__header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.stats__bar-label[_ngcontent-%COMP%]{min-width:80px;font-size:.85rem;color:var(--text-secondary);text-align:right}.stats__bar-track[_ngcontent-%COMP%], .stats__milestone-bar-track[_ngcontent-%COMP%], .challenges__bar-track[_ngcontent-%COMP%]{height:8px;background:var(--bg-raised);border-radius:4px}.stats__bar-fill[_ngcontent-%COMP%], .stats__milestone-bar-fill[_ngcontent-%COMP%], .challenges__bar-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-gold)}.stats__bar-track[_ngcontent-%COMP%]{flex:1}.stats__bar-count[_ngcontent-%COMP%]{min-width:24px;font-size:.8rem;color:var(--text-tertiary)}.stats__bar-label--link[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.stats__bar-label--link[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.collection__backup[_ngcontent-%COMP%], .playlists__create[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm)}.collection__backup[_ngcontent-%COMP%]{margin-bottom:var(--space-md)}.collection__backup-btn[_ngcontent-%COMP%]{font-size:.8rem;padding:var(--space-xs) var(--space-md)}.collection__restore-label[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.stats__lang-section[_ngcontent-%COMP%], .stats__rating-dist[_ngcontent-%COMP%]{margin-top:var(--space-xl);max-width:500px}.stats__milestone[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md) var(--space-lg);background:var(--accent-gold-dim);border:1px solid var(--accent-gold);border-radius:var(--radius-lg);margin-bottom:var(--space-xl)}.stats__milestone-icon[_ngcontent-%COMP%], .challenges__icon[_ngcontent-%COMP%]{font-size:1.5rem;flex-shrink:0}.stats__milestone-info[_ngcontent-%COMP%], .challenges__info[_ngcontent-%COMP%]{flex:1;min-width:0}.stats__milestone-name[_ngcontent-%COMP%], .challenges__name[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:.9rem}.stats__milestone-desc[_ngcontent-%COMP%], .challenges__desc[_ngcontent-%COMP%]{display:block;font-size:.75rem}.stats__milestone-desc[_ngcontent-%COMP%]{color:var(--text-secondary)}.challenges__desc[_ngcontent-%COMP%]{color:var(--text-tertiary)}.stats__milestone-bar-track[_ngcontent-%COMP%]{width:80px;height:6px}.stats__milestone-progress[_ngcontent-%COMP%], .challenges__progress[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary)}.stats__milestone-progress[_ngcontent-%COMP%]{font-weight:600;white-space:nowrap}.achievements__grid[_ngcontent-%COMP%], .challenges__grid[_ngcontent-%COMP%]{display:grid;gap:var(--space-sm)}.achievements__grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}.achievements__badge[_ngcontent-%COMP%]{text-align:center;opacity:.35}.achievements__badge--earned[_ngcontent-%COMP%]{opacity:1}.achievements__icon[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:var(--space-xs)}.achievements__name[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;margin-bottom:2px}.achievements__desc[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-tertiary)}.stats__trends[_ngcontent-%COMP%]{margin-top:var(--space-xl)}.stats__trend-chart[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);align-items:flex-end;height:160px}.stats__trend-col[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px;justify-content:flex-end}.stats__trend-count[_ngcontent-%COMP%]{font-size:.7rem}.stats__trend-bar[_ngcontent-%COMP%]{width:100%;max-width:40px;min-height:4px;background:var(--accent-gold);border-radius:3px 3px 0 0}.stats__trend-label[_ngcontent-%COMP%]{font-size:.65rem;color:var(--text-tertiary);white-space:nowrap}.playlists__create[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.playlists__input[_ngcontent-%COMP%]{font-size:.95rem}.playlists__card[_ngcontent-%COMP%]{margin-bottom:var(--space-md)}.playlists__header[_ngcontent-%COMP%]{gap:var(--space-md);margin-bottom:var(--space-sm)}.playlists__name[_ngcontent-%COMP%]{font-size:1.1rem;margin:0;cursor:pointer}.playlists__name[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.playlists__rename-input[_ngcontent-%COMP%]{font:700 1.1rem var(--font-body);background:var(--bg-raised);border:1px solid var(--accent-gold);border-radius:var(--radius);padding:2px 8px}.playlists__count[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary)}.playlists__delete[_ngcontent-%COMP%]{margin-left:auto;color:var(--text-tertiary);width:36px;height:36px;padding:0;display:flex;align-items:center;justify-content:center}.playlists__delete[_ngcontent-%COMP%]:hover{color:#e53e3e}.playlists__movies[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);overflow-x:auto}.playlists__movie[_ngcontent-%COMP%]{flex:0 0 60px}.playlists__movie[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;object-fit:cover;border-radius:var(--radius-sm)}.playlists__movie-placeholder[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;background:var(--bg-raised);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;color:var(--text-tertiary)}.challenges[_ngcontent-%COMP%], .achievements[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.challenges__grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}.challenges__card[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);align-items:flex-start}.challenges__name[_ngcontent-%COMP%]{margin-bottom:2px}.challenges__desc[_ngcontent-%COMP%]{margin-bottom:var(--space-xs)}.challenges__bar-track[_ngcontent-%COMP%]{height:6px}.challenges__progress[_ngcontent-%COMP%]{font-size:.7rem}.heatmap__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:var(--space-sm);margin-bottom:var(--space-md)}.heatmap__header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.heatmap__years[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap}.heatmap__year-btn[_ngcontent-%COMP%]{padding:3px 10px;border-radius:12px;background:var(--bg-raised);border:1px solid transparent;color:var(--text-tertiary);font:600 .75rem var(--font-body);cursor:pointer}.heatmap__year-btn[_ngcontent-%COMP%]:hover, .heatmap__year-btn--active[_ngcontent-%COMP%]{color:var(--accent-gold);border-color:var(--accent-gold)}.heatmap__year-btn--active[_ngcontent-%COMP%]{background:var(--accent-gold-dim)}.heatmap[_ngcontent-%COMP%], .film-tl[_ngcontent-%COMP%], .timeline[_ngcontent-%COMP%]{margin-top:var(--space-2xl)}.heatmap[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.heatmap__scroll[_ngcontent-%COMP%], .film-tl__scroll[_ngcontent-%COMP%]{overflow-x:auto}.heatmap__grid[_ngcontent-%COMP%], .heatmap__col[_ngcontent-%COMP%]{display:flex;gap:2px}.heatmap__col[_ngcontent-%COMP%]{flex-direction:column}.heatmap__cell[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px;background:var(--bg-raised)}.heatmap__cell--l1[_ngcontent-%COMP%]{background:#d4af374d}.heatmap__cell--l2[_ngcontent-%COMP%]{background:#d4af3799}.heatmap__cell--l3[_ngcontent-%COMP%]{background:var(--accent-gold)}.heatmap__cell--future[_ngcontent-%COMP%]{background:transparent}.heatmap__legend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;margin-top:var(--space-sm);justify-content:flex-end;font-size:.65rem;color:var(--text-tertiary)}.heatmap__legend[_ngcontent-%COMP%]   .heatmap__cell[_ngcontent-%COMP%]{width:10px;height:10px}.film-tl[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .timeline[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:var(--space-lg)}.film-tl__scroll[_ngcontent-%COMP%]{padding-bottom:var(--space-md)}.film-tl__track[_ngcontent-%COMP%]{position:relative;min-width:min(600px,100%);height:80px;margin:0 var(--space-md)}.film-tl__line[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;height:2px;background:var(--border)}.film-tl__point[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center}.film-tl__marker[_ngcontent-%COMP%]{width:8px;background:var(--accent-gold);border-radius:4px;margin-bottom:4px}.film-tl__year[_ngcontent-%COMP%]{font-size:.65rem;color:var(--text-tertiary);white-space:nowrap;margin-top:4px}.timeline__list[_ngcontent-%COMP%]{position:relative;padding-left:var(--space-lg)}.gaps[_ngcontent-%COMP%]{margin-top:var(--space-xl)}.gaps[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:var(--space-xs)}.gaps__desc[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-tertiary);margin:0 0 var(--space-md)}.gaps__grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-sm)}.gaps__chip[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px;padding:var(--space-sm) var(--space-md);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;color:var(--text-secondary)}.gaps__chip[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.gaps__chip-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600}.gaps__chip-count[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-tertiary)}.insights[_ngcontent-%COMP%]{margin-top:var(--space-xl)}.insights__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:var(--space-md);margin-top:var(--space-md)}.insights__card[_ngcontent-%COMP%]{text-align:center}.insights__value[_ngcontent-%COMP%]{font-size:1.2rem}.insights__label[_ngcontent-%COMP%]{font-size:.75rem}.timeline__list[_ngcontent-%COMP%]:before{content:"";position:absolute;left:6px;top:4px;bottom:4px;width:2px;background:var(--border)}.timeline__item[_ngcontent-%COMP%]{position:relative;display:flex;gap:var(--space-md);padding-bottom:var(--space-md)}.timeline__dot[_ngcontent-%COMP%]{position:absolute;left:calc(-1 * var(--space-lg) + 2px);top:4px;width:10px;height:10px;border-radius:50%;background:var(--accent-gold);border:2px solid var(--bg-deep)}.timeline__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.timeline__title[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;font-size:.95rem;text-decoration:none}.timeline__title[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.timeline__date[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary)}.timeline__rating[_ngcontent-%COMP%]{font-size:.8rem;color:var(--accent-gold)}@media(max-width:768px){.collection__controls[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.stats__sections[_ngcontent-%COMP%]{grid-template-columns:1fr}.stats__overview[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:480px){.collection__tabs[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch;white-space:nowrap;max-width:100%;scrollbar-width:none}.collection__tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.collection__tab[_ngcontent-%COMP%]{flex-shrink:0;padding:var(--space-sm) var(--space-md);font-size:.85rem}.stats__overview[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:var(--space-sm)}.stats__overview[_ngcontent-%COMP%]   .stats__card[_ngcontent-%COMP%]{padding:var(--space-md)}.collection__actions[_ngcontent-%COMP%]{flex-wrap:wrap}.challenges__grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}'],changeDetection:0})};export{Te as CollectionComponent};
