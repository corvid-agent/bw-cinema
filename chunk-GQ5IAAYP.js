import{a as le}from"./chunk-H5QZFGJL.js";import{a as ce}from"./chunk-NBQ42SJJ.js";import{a as re}from"./chunk-D7BVQ2CV.js";import{a as ae}from"./chunk-KC7TCE72.js";import{a as oe}from"./chunk-5G3XLHEX.js";import{$ as _,$a as ee,A as G,Aa as w,Ba as X,F as l,Ja as N,K as T,L as B,O as i,Oa as Z,R as $,Z as j,_ as p,ab as te,ca as Y,da as q,ea as b,fa as a,fb as ne,ga as r,ha as y,la as V,na as U,nb as ie,pa as m,sa as K,ta as Q,ua as J,v as I,x as R,y as z,ya as c,z as D,za as M}from"./chunk-DVNYVIZW.js";var he=["playerContainer"],H=n=>["/movie",n],pe=n=>["/director",n],_e=n=>["/decade",n],se=n=>["/watch",n],ve=(n,e)=>e.id;function ue(n,e){n&1&&y(0,"app-loading-spinner")}function fe(n,e){if(n&1&&(a(0,"span",5),c(1),r()),n&2){let t=m(2);i(),w("(",t.movieYear(),")")}}function xe(n,e){if(n&1&&(a(0,"p",6),c(1),r()),n&2){let t=m(2);i(),M(t.movieGenres())}}function Ce(n,e){if(n&1&&(a(0,"span",8),c(1),r()),n&2){let t=m(2);i(),w("\xB7 \u2605 ",t.movieRating())}}function ye(n,e){if(n&1&&(a(0,"span",8),c(1,"\xB7 "),a(2,"a",28),c(3),r()()),n&2){let t=m(2);i(2),b("routerLink",N(2,pe,t.directorName())),i(),M(t.directorName())}}function be(n,e){if(n&1&&(a(0,"span",8),c(1),r()),n&2){let t=m(2);i(),w("\xB7 ",t.filmAge())}}function we(n,e){if(n&1&&(a(0,"span",8),c(1),r()),n&2){let t=m(2);i(),w("\xB7 ",t.genreLabel())}}function Me(n,e){if(n&1&&(a(0,"span",8),c(1,"\xB7 "),a(2,"a",28),c(3),r()()),n&2){let t=m(2);i(2),b("routerLink",N(2,_e,t.decadeValue())),i(),M(t.decadeLabel())}}function Se(n,e){n&1&&(D(),a(0,"svg",12),y(1,"polyline",29)(2,"polyline",30)(3,"line",31)(4,"line",32),r())}function ke(n,e){n&1&&(D(),a(0,"svg",12),y(1,"polyline",33)(2,"polyline",34)(3,"line",35)(4,"line",32),r())}function Pe(n,e){if(n&1){let t=V();a(0,"button",36),U("click",function(){R(t);let o=m(2);return z(o.markWatched())}),D(),a(1,"svg",37),y(2,"polyline",38),r(),c(3," Mark as Watched "),r()}}function Ee(n,e){if(n&1&&(a(0,"span",40),c(1),r()),n&2){let t=m(3);i(),M(t.watchedAgo())}}function De(n,e){if(n&1&&(a(0,"span",17),D(),a(1,"svg",39),y(2,"polyline",38),r(),c(3," Watched "),p(4,Ee,2,1,"span",40),r()),n&2){let t=m(2);i(4),_(t.watchedAgo()?4:-1)}}function Ne(n,e){if(n&1&&(a(0,"span",5),c(1),r()),n&2){let t=m(3);i(),w("(",t.directorTotalFilms()," in catalog)")}}function Oe(n,e){if(n&1&&(a(0,"span",5),c(1),r()),n&2){let t=m(3);i(),w(" \xB7 ",t.directorFilmRank())}}function Ie(n,e){if(n&1&&(a(0,"span",5),c(1),r()),n&2){let t=m(3);i(),w(" \xB7 avg \u2605 ",t.directorAvgRating())}}function Fe(n,e){if(n&1&&y(0,"img",44),n&2){let t=m().$implicit;b("src",t.posterUrl,T)("alt",t.title)}}function Te(n,e){if(n&1&&(a(0,"div",45),c(1),r()),n&2){let t=m().$implicit;i(),M(t.title[0])}}function We(n,e){if(n&1&&(a(0,"a",43),p(1,Fe,1,2,"img",44)(2,Te,2,1,"div",45),a(3,"span",46),c(4),r(),a(5,"span",47),c(6),r()()),n&2){let t=e.$implicit;b("routerLink",t.isStreamable?N(4,se,t.id):N(6,H,t.id)),i(),_(t.posterUrl?1:2),i(3),M(t.title),i(2),M(t.year)}}function Le(n,e){if(n&1&&(a(0,"div",26)(1,"h3",41),c(2),p(3,Ne,2,1,"span",5),p(4,Oe,2,1,"span",5),p(5,Ie,2,1,"span",5),r(),a(6,"div",42),Y(7,We,7,8,"a",43,ve),r()()),n&2){let t=m(2);i(2),w("More from ",t.directorName()),i(),_(t.directorTotalFilms()>2?3:-1),i(),_(t.directorFilmRank()?4:-1),i(),_(t.directorAvgRating()?5:-1),i(2),q(t.directorFilms())}}function Ae(n,e){if(n&1&&(a(0,"span",49),c(1),r()),n&2){let t=m(3);i(),M(t.upNextReason())}}function Re(n,e){if(n&1&&y(0,"img",51),n&2){let t=m();b("src",t.posterUrl,T)("alt",t.title)}}function ze(n,e){if(n&1&&(a(0,"span",53),c(1),r()),n&2){let t=m();i(),w("\u2605 ",t.voteAverage.toFixed(1))}}function Ge(n,e){if(n&1&&(a(0,"div",27)(1,"span",48),c(2,"Up Next"),r(),p(3,Ae,2,1,"span",49),a(4,"a",50),p(5,Re,1,2,"img",51),a(6,"div",52)(7,"strong"),c(8),r(),a(9,"span"),c(10),r(),p(11,ze,2,1,"span",53),r()()()),n&2){let t=e,g=m(2);i(3),_(g.upNextReason()?3:-1),i(),b("routerLink",N(7,se,t.id)),i(),_(t.posterUrl?5:-1),i(3),M(t.title),i(2),X("",t.year," \xB7 ",t.genres.slice(0,2).join(", ")),i(),_(t.voteAverage>0?11:-1)}}function Ue(n,e){if(n&1){let t=V();a(0,"div",1)(1,"div",3)(2,"a",4),c(3,"\u2190 Back to details"),r(),a(4,"h1"),c(5),p(6,fe,2,1,"span",5),r(),p(7,xe,2,1,"p",6),a(8,"p",7),c(9),p(10,Ce,2,1,"span",8),p(11,ye,4,4,"span",8),p(12,be,2,1,"span",8),p(13,we,2,1,"span",8),p(14,Me,4,4,"span",8),r()(),a(15,"div",9,0),y(17,"iframe",10),a(18,"button",11),U("click",function(){R(t);let o=m();return z(o.toggleFullscreen())}),p(19,Se,5,0,":svg:svg",12)(20,ke,5,0,":svg:svg",12),r()(),a(21,"div",13)(22,"span",14)(23,"kbd"),c(24,"f"),r(),c(25," fullscreen"),r()(),a(26,"div",15),p(27,Pe,4,0,"button",16)(28,De,5,1,"span",17),a(29,"a",18),c(30),r(),a(31,"button",19),U("click",function(){R(t);let o=m();return z(o.shareFilm())}),D(),a(32,"svg",20),y(33,"circle",21)(34,"circle",22)(35,"circle",23)(36,"line",24)(37,"line",25),r(),c(38," Share "),r()(),p(39,Le,9,4,"div",26),p(40,Ge,12,9,"div",27),r()}if(n&2){let t,g=e,o=m();i(2),b("routerLink",N(20,H,o.id())),i(3),M(o.movieTitle()),i(),_(o.movieYear()?6:-1),i(),_(o.movieGenres()?7:-1),i(2),w(" Streaming via ",g.label," "),i(),_(o.movieRating()?10:-1),i(),_(o.directorName()?11:-1),i(),_(o.filmAge()?12:-1),i(),_(o.genreLabel()?13:-1),i(),_(o.decadeLabel()?14:-1),i(3),b("src",o.safeUrl(),B)("title","Watch "+o.movieTitle()),i(),j("aria-label",o.isFullscreen()?"Exit fullscreen":"Enter fullscreen")("title",o.isFullscreen()?"Exit fullscreen":"Fullscreen"),i(),_(o.isFullscreen()?19:20),i(8),_(o.isWatched()?28:27),i(2),b("href",g.externalUrl,T),i(),w(" Watch on ",g.label," \u2197 "),i(9),_(o.directorFilms().length>0?39:-1),i(),_((t=o.upNext())?40:-1,t)}}function Ve(n,e){if(n&1&&(a(0,"a",66),D(),a(1,"svg",20),y(2,"path",74)(3,"polyline",33)(4,"line",75),r(),c(5," View on IMDb "),r()),n&2){let t=m(2);b("href","https://www.imdb.com/title/"+t.movieImdbId(),T)}}function He(n,e){if(n&1&&(a(0,"div",73)(1,"h3"),c(2),r(),y(3,"app-movie-grid",76),r()),n&2){let t=m(2);i(2),w("Similar Films You Can Watch (",t.similarFilms().length,")"),i(),b("movies",t.similarFilms())}}function Be(n,e){if(n&1&&(a(0,"div",2)(1,"div",54),D(),a(2,"svg",55),y(3,"rect",56)(4,"line",57)(5,"line",58)(6,"line",59)(7,"line",60)(8,"line",61)(9,"line",62)(10,"line",63),r()(),G(),a(11,"h2"),c(12,"Not Available for Free Streaming"),r(),a(13,"p",64)(14,"strong"),c(15),r(),c(16," is likely still under copyright protection and hasn't been released to the public domain. Only films whose copyrights have expired or were never properly renewed can be freely streamed. "),r(),a(17,"div",65),p(18,Ve,6,1,"a",66),a(19,"a",66),D(),a(20,"svg",20),y(21,"circle",67)(22,"line",68),r(),c(23," Search Internet Archive "),r(),G(),a(24,"a",69),D(),a(25,"svg",20),y(26,"polyline",70),r(),c(27," Back to Film Details "),r()(),G(),a(28,"div",71)(29,"h3"),c(30,"About Public Domain Films"),r(),a(31,"p"),c(32," Films enter the public domain when their copyright expires. In the US, works published before 1928 are automatically in the public domain. Many later films also entered the public domain due to failure to renew copyright registrations. The Internet Archive hosts over 30,000 freely viewable films. "),r(),a(33,"a",72),c(34,"Learn more \u2192"),r()(),p(35,He,4,2,"div",73),r()),n&2){let t=m();i(15),M(t.movieTitle()),i(3),_(t.movieImdbId()?18:-1),i(),b("href","https://archive.org/search?query="+t.encodedTitle(),T),i(5),b("routerLink",N(5,H,t.id())),i(11),_(t.similarFilms().length>0?35:-1)}}var de=class n{id=Z.required();catalogService=I(ie);collectionService=I(ae);streamingService=I(le);sanitizer=I(te);titleService=I(ee);notifications=I(oe);playerContainer;loading=l(!0);movieTitle=l("");movieImdbId=l(null);encodedTitle=l("");source=l(null);safeUrl=l("");isFullscreen=l(!1);isWatched=l(!1);upNext=l(null);upNextReason=l("");similarFilms=l([]);directorFilms=l([]);directorName=l("");watchedAgo=l("");movieGenres=l("");movieRating=l("");movieYear=l("");filmAge=l("");directorTotalFilms=l(0);movieLanguage=l("");decadeLabel=l("");decadeValue=l("");directorFilmRank=l("");isCoDirected=l(!1);isSilentEra=l(!1);isNonEnglish=l(!1);decadeFilmCount=l(0);isHighlyRated=l(!1);genreLabel=l("");directorAvgRating=l("");movieDecadeRank=l("");sameYearCount=l(0);directorGenreSpan=l(0);genrePeerCount=l(0);catalogRankByRating=l(0);directorHighRatedCount=l(0);movieTitleWordCount=l(0);decadeStreamableCount=l(0);primaryGenreStreamablePct=l(0);sameLanguageCount=l(0);directorCareerSpan=l(0);movieGenreCount=l(0);movieImdbLinked=l(!1);isPreWar=l(!1);decadeImdbLinkedPct=l(0);genrePosterCoveragePct=l(0);directorImdbLinkedPct=l(0);genreIaStreamableCount=l(0);decadeAvgGenreCount=l(0);genreHighlyRatedPct=l(0);fullscreenHandler=()=>{this.isFullscreen.set(!!document.fullscreenElement)};keyHandler=e=>{e.key==="f"&&!e.ctrlKey&&!e.metaKey&&!e.altKey&&!(e.target instanceof HTMLInputElement)&&!(e.target instanceof HTMLTextAreaElement)&&(e.preventDefault(),this.toggleFullscreen())};async ngOnInit(){await this.catalogService.load();let e=this.catalogService.movies().find(t=>t.id===this.id());if(e){this.movieTitle.set(e.title);let t=e.title.split(/\s+/).length;t>=3&&this.movieTitleWordCount.set(t),this.movieImdbId.set(e.imdbId),e.imdbId&&this.movieImdbLinked.set(!0),this.encodedTitle.set(encodeURIComponent(e.title)),e.genres.length>0&&this.movieGenres.set(e.genres.slice(0,3).join(" / ")),e.genres.length>=3&&this.movieGenreCount.set(e.genres.length),e.voteAverage>0&&this.movieRating.set(e.voteAverage.toFixed(1)),this.movieYear.set(String(e.year)),e.language&&e.language!=="English"&&this.movieLanguage.set(e.language);let g=e.language||"English",o=this.catalogService.movies().filter(d=>(d.language||"English")===g&&d.id!==e.id).length;if(o>=10&&this.sameLanguageCount.set(o),e.directors.length>1&&this.isCoDirected.set(!0),e.year<1930&&this.isSilentEra.set(!0),e.year<1940&&e.year>=1930&&this.isPreWar.set(!0),e.language&&e.language!=="English"&&e.language!=="en"&&this.isNonEnglish.set(!0),e.voteAverage>=8&&this.isHighlyRated.set(!0),e.genres.length>0&&this.genreLabel.set(e.genres[0]),e.genres.length>0){let d=this.catalogService.movies().filter(f=>f.genres.includes(e.genres[0])),s=d.filter(f=>f.id!==e.id).length;if(s>=10&&this.genrePeerCount.set(s),d.length>=10){let f=Math.round(d.filter(P=>P.isStreamable).length/d.length*100);f>0&&f<100&&this.primaryGenreStreamablePct.set(f);let k=Math.round(d.filter(P=>P.posterUrl).length/d.length*100);k>0&&k<100&&this.genrePosterCoveragePct.set(k);let L=d.filter(P=>P.internetArchiveId).length;L>0&&this.genreIaStreamableCount.set(L);let O=Math.round(d.filter(P=>P.voteAverage>=7).length/d.length*100);O>0&&O<100&&this.genreHighlyRatedPct.set(O)}}if(e.voteAverage>0){let s=this.catalogService.movies().filter(f=>f.voteAverage>0).sort((f,k)=>k.voteAverage-f.voteAverage).findIndex(f=>f.id===e.id);s>=0&&s<100&&this.catalogRankByRating.set(s+1)}let v=Math.floor(e.year/10)*10;this.decadeLabel.set(`${v}s`),this.decadeValue.set(String(v));let u=this.catalogService.movies().filter(d=>Math.floor(d.year/10)*10===v);u.length>=10&&this.decadeFilmCount.set(u.length);let S=u.filter(d=>d.isStreamable).length;if(S>=5&&this.decadeStreamableCount.set(S),u.length>=10){let d=Math.round(u.filter(f=>f.imdbId).length/u.length*100);d>0&&d<100&&this.decadeImdbLinkedPct.set(d);let s=u.reduce((f,k)=>f+k.genres.length,0)/u.length;s>=1.3&&this.decadeAvgGenreCount.set(parseFloat(s.toFixed(1)))}let x=this.catalogService.movies().filter(d=>d.year===e.year&&d.id!==e.id).length;x>=5&&this.sameYearCount.set(x);let E=u.filter(d=>d.voteAverage>0).sort((d,s)=>s.voteAverage-d.voteAverage);if(E.length>=10&&e.voteAverage>0){let d=E.findIndex(s=>s.id===e.id);d>=0&&d<10&&this.movieDecadeRank.set(`#${d+1} in ${v}s`)}let W=new Date().getFullYear()-e.year;W>=50&&this.filmAge.set(`${W} years old`),this.titleService.setTitle(`Watch ${e.title} \u2014 BW Cinema`);let F=this.streamingService.getSource(e.internetArchiveId,e.youtubeId);if(this.source.set(F),this.isWatched.set(this.collectionService.isWatched(e.id)),this.isWatched()){let d=this.collectionService.watched().find(s=>s.movieId===e.id);d&&this.watchedAgo.set(this.timeAgo(d.watchedAt))}if(F){this.safeUrl.set(this.sanitizer.bypassSecurityTrustResourceUrl(F.embedUrl)),this.collectionService.trackProgress(e.id);let d=this.findUpNext(e);if(this.upNext.set(d.movie),this.upNextReason.set(d.reason),e.directors.length>0){this.directorName.set(e.directors[0]);let s=this.catalogService.movies().filter(h=>h.id!==e.id&&h.directors.some(C=>e.directors.includes(C)));this.directorTotalFilms.set(s.length+1);let f=[...s,e];if(f.length>=3){let h=f.map(A=>A.year),C=Math.max(...h)-Math.min(...h);C>=5&&this.directorCareerSpan.set(C)}if(s.length>=2){let h=[...s,e].sort((A,ge)=>A.year-ge.year),C=h.findIndex(A=>A.id===e.id);C>=0&&this.directorFilmRank.set(`Film ${C+1} of ${h.length} chronologically`)}let k=[...s,e].filter(h=>h.voteAverage>0);k.length>=2&&this.directorAvgRating.set((k.reduce((h,C)=>h+C.voteAverage,0)/k.length).toFixed(1));let L=[...s,e].filter(h=>h.voteAverage>=7).length;L>=2&&this.directorHighRatedCount.set(L);let O=new Set;for(let h of[...s,e])for(let C of h.genres)O.add(C);O.size>=3&&this.directorGenreSpan.set(O.size);let P=[...s,e];if(P.length>=3){let h=Math.round(P.filter(C=>C.imdbId).length/P.length*100);h>0&&h<100&&this.directorImdbLinkedPct.set(h)}let me=s.filter(h=>h.posterUrl).sort((h,C)=>C.voteAverage-h.voteAverage).slice(0,8);this.directorFilms.set(me)}}else this.similarFilms.set(this.findSimilar(e))}this.loading.set(!1),document.addEventListener("fullscreenchange",this.fullscreenHandler),document.addEventListener("keydown",this.keyHandler)}ngOnDestroy(){document.removeEventListener("fullscreenchange",this.fullscreenHandler),document.removeEventListener("keydown",this.keyHandler),document.fullscreenElement&&document.exitFullscreen().catch(()=>{})}findSimilar(e){let t=new Set(e.genres.map(o=>o.toLowerCase())),g=Math.floor(e.year/10)*10;return this.catalogService.movies().filter(o=>o.id!==e.id&&o.isStreamable).map(o=>{let v=0,u=o.genres.map(S=>S.toLowerCase());for(let S of u)t.has(S)&&(v+=3);return Math.floor(o.year/10)*10===g&&(v+=2),o.voteAverage>=6&&(v+=1),{movie:o,score:v}}).filter(o=>o.score>0).sort((o,v)=>v.score-o.score||v.movie.voteAverage-o.movie.voteAverage).slice(0,6).map(o=>o.movie)}markWatched(){let e=this.id();this.collectionService.isWatched(e)||(this.collectionService.markWatched(e),this.isWatched.set(!0),this.watchedAgo.set("just now"),this.notifications.show(`Marked "${this.movieTitle()}" as watched`,"success"))}findUpNext(e){let t=this.collectionService.watchlistIds(),g=this.collectionService.watchedIds(),o=new Set(e.genres.map(x=>x.toLowerCase())),v=this.catalogService.movies().filter(x=>x.id!==e.id&&x.isStreamable&&!g.has(x.id)&&x.posterUrl).map(x=>{let E=0,W=t.has(x.id);W&&(E+=5);let F=x.genres.filter(s=>o.has(s.toLowerCase()));E+=F.length*2;let d=x.directors.some(s=>e.directors.includes(s));return d&&(E+=3),x.voteAverage>=7&&(E+=1),{movie:x,score:E,inWatchlist:W,sharedGenres:F,sameDirector:d}}).filter(x=>x.score>0).sort((x,E)=>E.score-x.score);if(v.length===0)return{movie:null,reason:""};let u=v[0],S="";return u.inWatchlist?S="From your watchlist":u.sameDirector?S="Same director":u.sharedGenres.length>0&&(S=`Similar: ${u.sharedGenres[0]}`),{movie:u.movie,reason:S}}shareFilm(){let e=`${window.location.origin}/watch/${this.id()}`;navigator.clipboard.writeText(e).then(()=>{this.notifications.show("Watch link copied to clipboard","success")}).catch(()=>{this.notifications.show("Failed to copy link","error")})}timeAgo(e){let t=Date.now()-e,g=Math.floor(t/6e4);if(g<1)return"just now";if(g<60)return`${g}m ago`;let o=Math.floor(g/60);if(o<24)return`${o}h ago`;let v=Math.floor(o/24);if(v===1)return"yesterday";if(v<30)return`${v}d ago`;let u=Math.floor(v/30);return u===1?"1 month ago":`${u} months ago`}toggleFullscreen(){if(!this.playerContainer)return;let e=this.playerContainer.nativeElement;document.fullscreenElement?document.exitFullscreen().catch(()=>{}):e.requestFullscreen().catch(()=>{})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$({type:n,selectors:[["app-watch"]],viewQuery:function(t,g){if(t&1&&K(he,5),t&2){let o;Q(o=J())&&(g.playerContainer=o.first)}},inputs:{id:[1,"id"]},decls:3,vars:1,consts:[["playerContainer",""],[1,"watch","container"],[1,"watch__unavailable","container"],[1,"watch__header"],[1,"watch__back",3,"routerLink"],[1,"watch__header-year"],[1,"watch__genres"],[1,"text-secondary"],[1,"watch__header-rating"],[1,"watch__player"],["allowfullscreen","","sandbox","allow-same-origin allow-scripts allow-popups",3,"src","title"],[1,"watch__fullscreen-btn",3,"click"],["width","22","height","22","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"watch__shortcuts"],[1,"watch__shortcut"],[1,"watch__actions"],[1,"watch__mark-btn"],[1,"watch__watched-badge"],["target","_blank","rel","noopener",1,"watch__external-link",3,"href"],[1,"watch__share-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","18","cy","5","r","3"],["cx","6","cy","12","r","3"],["cx","18","cy","19","r","3"],["x1","8.59","y1","13.51","x2","15.42","y2","17.49"],["x1","15.41","y1","6.51","x2","8.59","y2","10.49"],[1,"watch__more-director"],[1,"watch__up-next"],[1,"watch__header-director",3,"routerLink"],["points","4 14 10 14 10 20"],["points","20 10 14 10 14 4"],["x1","14","y1","10","x2","21","y2","3"],["x1","3","y1","21","x2","10","y2","14"],["points","15 3 21 3 21 9"],["points","9 21 3 21 3 15"],["x1","21","y1","3","x2","14","y2","10"],[1,"watch__mark-btn",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["points","20 6 9 17 4 12"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"watch__watched-ago"],[1,"watch__more-director-title"],[1,"watch__more-director-row"],[1,"watch__director-film",3,"routerLink"],["loading","lazy",3,"src","alt"],[1,"watch__director-film-placeholder"],[1,"watch__director-film-title"],[1,"watch__director-film-year"],[1,"watch__up-next-label"],[1,"watch__up-next-reason"],[1,"watch__up-next-card",3,"routerLink"],[3,"src","alt"],[1,"watch__up-next-info"],[1,"watch__up-next-rating"],[1,"watch__unavail-icon"],["width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["x","2","y","2","width","20","height","20","rx","2.18","ry","2.18"],["x1","7","y1","2","x2","7","y2","22"],["x1","17","y1","2","x2","17","y2","22"],["x1","2","y1","12","x2","22","y2","12"],["x1","2","y1","7","x2","7","y2","7"],["x1","2","y1","17","x2","7","y2","17"],["x1","17","y1","7","x2","22","y2","7"],["x1","17","y1","17","x2","22","y2","17"],[1,"watch__unavail-explain"],[1,"watch__fallback-actions"],["target","_blank","rel","noopener",1,"btn-secondary","watch__fallback-btn",3,"href"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],[1,"btn-primary","watch__fallback-btn",3,"routerLink"],["points","15 18 9 12 15 6"],[1,"watch__unavail-info"],["routerLink","/about",1,"watch__learn-more"],[1,"watch__similar"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["x1","10","y1","14","x2","21","y2","3"],[3,"movies"]],template:function(t,g){if(t&1&&p(0,ue,1,0,"app-loading-spinner")(1,Ue,41,22,"div",1)(2,Be,36,7,"div",2),t&2){let o;_(g.loading()?0:(o=g.source())?1:2,o)}},dependencies:[ne,ce,re],styles:[".watch[_ngcontent-%COMP%]{padding:var(--space-xl) 0}.watch__header[_ngcontent-%COMP%]{margin-bottom:var(--space-lg)}.watch__genres[_ngcontent-%COMP%]{font-size:.85rem;color:var(--accent-gold);margin:0 0 var(--space-xs)}.watch__header-year[_ngcontent-%COMP%]{font-weight:400;color:var(--text-secondary);font-size:.85em}.watch__header-rating[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:600}.watch__header-director[_ngcontent-%COMP%]{color:var(--accent-gold);text-decoration:none}.watch__header-director[_ngcontent-%COMP%]:hover{text-decoration:underline}.watch__back[_ngcontent-%COMP%]{display:inline-block;margin-bottom:var(--space-md);font-size:.95rem}.watch__player[_ngcontent-%COMP%]{position:relative;width:100%;max-width:960px;margin:0 auto;aspect-ratio:4 / 3;background-color:#000;border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow-lg)}.watch__player[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;border:none}.watch__fullscreen-btn[_ngcontent-%COMP%]{position:absolute;bottom:12px;right:12px;width:48px;height:48px;min-width:48px;min-height:48px;padding:0;display:flex;align-items:center;justify-content:center;background:#000000b3;border:1px solid rgba(255,255,255,.2);border-radius:var(--radius);color:#fff;cursor:pointer;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);transition:background-color .2s,border-color .2s;z-index:10}.watch__fullscreen-btn[_ngcontent-%COMP%]:hover{background:#000000e6;border-color:var(--accent-gold);color:var(--accent-gold)}:fullscreen[_nghost-%COMP%]   .watch__player[_ngcontent-%COMP%], :fullscreen   [_nghost-%COMP%]   .watch__player[_ngcontent-%COMP%]{max-width:100%;border-radius:0}.watch__actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:var(--space-md);margin-top:var(--space-lg);flex-wrap:wrap}.watch__mark-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-xl);background:linear-gradient(135deg,var(--accent-gold) 0%,#c49b2c 100%);color:var(--bg-deep);border:none;border-radius:var(--radius-lg);font-size:.95rem;font-weight:700;cursor:pointer;transition:transform .2s,box-shadow .2s}.watch__mark-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #d4af374d}.watch__watched-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-xs);padding:var(--space-sm) var(--space-lg);background:var(--accent-gold-dim);color:var(--accent-gold);border-radius:var(--radius-lg);font-size:.9rem;font-weight:600}.watch__watched-ago[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:var(--text-tertiary);margin-left:4px}.watch__external-link[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.watch__share-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:var(--space-sm) var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);color:var(--text-secondary);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.watch__share-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.watch__more-director[_ngcontent-%COMP%]{max-width:960px;margin:var(--space-xl) auto 0}.watch__more-director-title[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:var(--space-md);color:var(--text-secondary)}.watch__more-director-row[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);overflow-x:auto;-webkit-overflow-scrolling:touch;padding-bottom:var(--space-xs)}.watch__director-film[_ngcontent-%COMP%]{flex-shrink:0;width:100px;text-decoration:none;color:inherit;text-align:center;transition:transform .2s}.watch__director-film[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.watch__director-film[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;aspect-ratio:2 / 3;object-fit:cover;border-radius:var(--radius);margin-bottom:4px}.watch__director-film-placeholder[_ngcontent-%COMP%]{width:100px;aspect-ratio:2 / 3;background:var(--bg-raised);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-family:var(--font-heading);color:var(--text-tertiary);font-size:1.2rem;margin-bottom:4px}.watch__director-film-title[_ngcontent-%COMP%]{display:block;font-size:.75rem;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.watch__director-film-year[_ngcontent-%COMP%]{display:block;font-size:.7rem;color:var(--text-tertiary)}.watch__up-next[_ngcontent-%COMP%]{max-width:500px;margin:var(--space-xl) auto 0}.watch__up-next-label[_ngcontent-%COMP%]{display:block;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.08em;color:var(--text-tertiary);margin-bottom:var(--space-sm)}.watch__up-next-reason[_ngcontent-%COMP%]{display:inline-block;font-size:.75rem;color:var(--accent-gold);background:var(--accent-gold-dim);padding:2px 10px;border-radius:8px;margin-bottom:var(--space-xs)}.watch__up-next-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;color:inherit;transition:border-color .2s,background-color .2s}.watch__up-next-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);background:var(--bg-raised);color:inherit}.watch__up-next-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:72px;object-fit:cover;border-radius:var(--radius-sm);aspect-ratio:2 / 3;flex-shrink:0}.watch__up-next-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.watch__up-next-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-primary)}.watch__up-next-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary)}.watch__up-next-rating[_ngcontent-%COMP%]{color:var(--accent-gold)!important;font-weight:600}.watch__unavailable[_ngcontent-%COMP%]{padding:var(--space-2xl) 0;text-align:center}.watch__fallback-actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);justify-content:center;flex-wrap:wrap;margin:var(--space-xl) 0}.watch__fallback-btn[_ngcontent-%COMP%]{display:inline-block;padding:var(--space-md) var(--space-xl);border-radius:var(--radius-lg);font-size:.95rem}.watch__unavail-icon[_ngcontent-%COMP%]{color:var(--text-tertiary);margin-bottom:var(--space-lg)}.watch__unavail-explain[_ngcontent-%COMP%]{color:var(--text-secondary);max-width:520px;margin:0 auto var(--space-sm);line-height:1.7}.watch__unavail-explain[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary)}.watch__fallback-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-sm)}.watch__unavail-info[_ngcontent-%COMP%]{max-width:520px;margin:var(--space-2xl) auto 0;padding:var(--space-lg);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-align:left}.watch__unavail-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.95rem;margin:0 0 var(--space-sm);color:var(--text-primary)}.watch__unavail-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);line-height:1.7;margin:0 0 var(--space-sm)}.watch__learn-more[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:var(--accent-gold)}.watch__similar[_ngcontent-%COMP%]{max-width:800px;margin:var(--space-2xl) auto 0;text-align:left}.watch__similar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:var(--space-lg)}.watch__shortcuts[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--space-md);margin-top:var(--space-sm)}.watch__shortcut[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary)}.watch__shortcut[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{display:inline-block;padding:1px 6px;border-radius:4px;background:var(--bg-raised);border:1px solid var(--border);font-family:var(--font-body);font-size:.7rem;font-weight:700;color:var(--text-secondary);margin-right:3px}@media(hover:none){.watch__shortcuts[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})};export{de as WatchComponent};
