import{a as N}from"./chunk-KC7TCE72.js";import{a as G}from"./chunk-5G3XLHEX.js";import{$ as d,A as V,Aa as f,Ja as I,K as D,O as o,Oa as z,Pa as W,R as u,Z as p,_ as s,ba as $,ca as M,da as k,ea as S,fa as n,fb as j,ga as r,ha as g,ia as v,ja as P,ka as E,la as T,na as L,oa as O,pa as l,v as b,wa as F,x as y,y as w,ya as c,z as m,za as x}from"./chunk-DVNYVIZW.js";var q=t=>["/movie",t],H=(t,i)=>i.id;function J(t,i){if(t&1&&g(0,"img",4),t&2){let e=l().$implicit;S("src",e.posterUrl,D)("alt",e.title+" poster")}}function K(t,i){if(t&1&&(n(0,"div",5)(1,"span"),c(2),r()()),t&2){let e=l().$implicit;o(2),x(e.year)}}function Q(t,i){if(t&1&&c(0),t&2){let e=l().$implicit;f(" \xB7 ",e.directors.join(", ")," ")}}function X(t,i){if(t&1&&(c(0," \xB7 "),n(1,"span",17),c(2),r()),t&2){let e=l().$implicit;o(2),x(e.language)}}function Y(t,i){if(t&1&&(n(0,"span",18),c(1),r()),t&2){let e=i.$implicit;o(),x(e)}}function Z(t,i){if(t&1&&(n(0,"div",9),M(1,Y,2,1,"span",18,$),r()),t&2){let e=l().$implicit;o(),k(e.genres.slice(0,3))}}function ee(t,i){if(t&1&&(n(0,"span",11),c(1),r()),t&2){let e=l().$implicit;o(),f("\u2605 ",e.voteAverage.toFixed(1))}}function te(t,i){t&1&&(n(0,"span",13),c(1,"Free"),r())}function ie(t,i){t&1&&(n(0,"span",14),m(),n(1,"svg",19),g(2,"polyline",20),r()())}function ne(t,i){if(t&1){let e=T();n(0,"button",21),L("click",function(_){y(e);let h=l().$implicit,C=l();return w(C.removeFromWatchlist(_,h))}),m(),n(1,"svg",19),g(2,"polyline",20),r()()}}function oe(t,i){if(t&1){let e=T();n(0,"button",22),L("click",function(_){y(e);let h=l().$implicit,C=l();return w(C.addToWatchlist(_,h))}),m(),n(1,"svg",23),g(2,"line",24)(3,"line",25),r()()}if(t&2){let e=l().$implicit;p("aria-label","Add "+e.title+" to watchlist")}}function re(t,i){if(t&1&&(n(0,"a",1)(1,"div",3),s(2,J,1,2,"img",4)(3,K,3,1,"div",5),r(),n(4,"div",6)(5,"h3",7),c(6),r(),n(7,"p",8),c(8),s(9,Q,1,1),s(10,X,3,1),r(),s(11,Z,3,0,"div",9),r(),n(12,"div",10),s(13,ee,2,1,"span",11),n(14,"div",12),s(15,te,2,0,"span",13),s(16,ie,3,0,"span",14)(17,ne,3,0,"button",15)(18,oe,4,1,"button",16),r()()()),t&2){let e=i.$implicit,a=l();S("routerLink",I(11,q,e.id)),p("aria-label",e.title+", "+e.year+(e.voteAverage>0?", rated "+e.voteAverage.toFixed(1):"")+(e.isStreamable?", free to watch":"")),o(2),d(e.posterUrl?2:3),o(4),x(e.title),o(2),f(" ",e.year," "),o(),d(e.directors.length>0?9:-1),o(),d(e.language&&e.language!=="English"?10:-1),o(),d(e.genres.length>0?11:-1),o(2),d(e.voteAverage>0?13:-1),o(2),d(e.isStreamable?15:-1),o(),d(a.collection.isWatched(e.id)?16:a.collection.isInWatchlist(e.id)?17:18)}}function ae(t,i){t&1&&(n(0,"div",2)(1,"p"),c(2,"No films found matching your criteria."),r()())}var A=class t{movies=z.required();collection=b(N);notifications=b(G);addToWatchlist(i,e){i.preventDefault(),i.stopPropagation(),this.collection.addToWatchlist(e.id),this.notifications.show(`Added "${e.title}" to watchlist`,"success")}removeFromWatchlist(i,e){i.preventDefault(),i.stopPropagation(),this.collection.removeFromWatchlist(e.id),this.notifications.show("Removed from watchlist","info")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-movie-list"]],inputs:{movies:[1,"movies"]},decls:4,vars:1,consts:[["role","list","aria-label","Movie list",1,"list"],["role","listitem",1,"list-item",3,"routerLink"],[1,"list__empty"],[1,"list-item__poster"],["loading","lazy",3,"src","alt"],[1,"list-item__poster-placeholder"],[1,"list-item__info"],[1,"list-item__title"],[1,"list-item__meta"],[1,"list-item__genres"],[1,"list-item__right"],["aria-hidden","true",1,"list-item__rating"],[1,"list-item__actions"],["aria-hidden","true",1,"list-item__badge"],["aria-label","Watched",1,"list-item__action","list-item__action--watched"],["aria-label","Remove from watchlist",1,"list-item__action","list-item__action--inlist"],[1,"list-item__action"],[1,"list-item__lang"],[1,"list-item__genre"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],["points","20 6 9 17 4 12"],["aria-label","Remove from watchlist",1,"list-item__action","list-item__action--inlist",3,"click"],[1,"list-item__action",3,"click"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"]],template:function(e,a){e&1&&(n(0,"div",0),M(1,re,19,13,"a",1,H,!1,ae,3,0,"div",2),r()),e&2&&(o(),k(a.movies()))},dependencies:[j],styles:[".list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.list-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-md);background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;color:inherit;transition:border-color .2s,background-color .2s;min-height:80px}.list-item[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);background-color:var(--bg-hover);color:inherit}.list-item__poster[_ngcontent-%COMP%]{width:48px;flex-shrink:0}.list-item__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:72px;object-fit:cover;border-radius:var(--radius)}.list-item__poster-placeholder[_ngcontent-%COMP%]{width:48px;height:72px;background:var(--bg-raised);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-family:var(--font-heading);font-size:.8rem;color:var(--text-tertiary)}.list-item__info[_ngcontent-%COMP%]{flex:1;min-width:0}.list-item__title[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:600;margin:0 0 2px;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.list-item__meta[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);margin:0 0 4px}.list-item__lang[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);font-style:italic}.list-item__genres[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs)}.list-item__genre[_ngcontent-%COMP%]{font-size:.75rem;padding:1px 8px;border:1px solid var(--border);border-radius:10px;color:var(--text-tertiary)}.list-item__right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:4px;flex-shrink:0}.list-item__rating[_ngcontent-%COMP%]{color:var(--accent-gold);font-family:var(--font-heading);font-weight:700;font-size:1rem}.list-item__badge[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;text-transform:uppercase;padding:2px 8px;border-radius:var(--radius-sm);background-color:var(--accent-gold);color:var(--bg-deep)}.list-item__actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.list-item__action[_ngcontent-%COMP%]{width:28px;height:28px;min-width:28px;min-height:28px;padding:0;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--bg-raised);border:1px solid var(--border);color:var(--text-tertiary);cursor:pointer;transition:background-color .2s,border-color .2s,color .2s}.list-item__action[_ngcontent-%COMP%]:hover{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.list-item__action--watched[_ngcontent-%COMP%]{background:#19875433;border-color:#19875480;color:#198754;cursor:default}.list-item__action--inlist[_ngcontent-%COMP%]{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.list__empty[_ngcontent-%COMP%]{text-align:center;padding:var(--space-3xl);color:var(--text-tertiary)}"],changeDetection:0})};var B=class t{mode=W("grid");static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-view-toggle"]],inputs:{mode:[1,"mode"]},outputs:{mode:"modeChange"},decls:15,vars:6,consts:[["role","radiogroup","aria-label","View mode",1,"view-toggle"],["aria-label","Grid view","title","Grid view",1,"view-toggle__btn",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x","3","y","3","width","7","height","7"],["x","14","y","3","width","7","height","7"],["x","3","y","14","width","7","height","7"],["x","14","y","14","width","7","height","7"],["aria-label","List view","title","List view",1,"view-toggle__btn",3,"click"],["x1","8","y1","6","x2","21","y2","6"],["x1","8","y1","12","x2","21","y2","12"],["x1","8","y1","18","x2","21","y2","18"],["x1","3","y1","6","x2","3.01","y2","6"],["x1","3","y1","12","x2","3.01","y2","12"],["x1","3","y1","18","x2","3.01","y2","18"]],template:function(e,a){e&1&&(v(0,"div",0)(1,"button",1),O("click",function(){return a.mode.set("grid")}),m(),v(2,"svg",2),E(3,"rect",3)(4,"rect",4)(5,"rect",5)(6,"rect",6),P()(),V(),v(7,"button",7),O("click",function(){return a.mode.set("list")}),m(),v(8,"svg",2),E(9,"line",8)(10,"line",9)(11,"line",10)(12,"line",11)(13,"line",12)(14,"line",13),P()()()),e&2&&(o(),F("active",a.mode()==="grid"),p("aria-pressed",a.mode()==="grid"),o(6),F("active",a.mode()==="list"),p("aria-pressed",a.mode()==="list"))},styles:[".view-toggle[_ngcontent-%COMP%]{display:flex;gap:2px;background-color:var(--bg-surface);border-radius:var(--radius);padding:3px}.view-toggle__btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:36px;min-width:40px;min-height:36px;padding:0;border:none;background:none;color:var(--text-tertiary);border-radius:var(--radius-sm);cursor:pointer;transition:all .2s}.view-toggle__btn[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.view-toggle__btn.active[_ngcontent-%COMP%]{color:var(--accent-gold);background-color:var(--bg-raised)}"],changeDetection:0})};export{A as a,B as b};
