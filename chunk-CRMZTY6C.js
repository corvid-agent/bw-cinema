import{a as Ce}from"./chunk-QVH2VF6R.js";import{a as ue}from"./chunk-2HDRPOGX.js";import{a as he}from"./chunk-H5QZFGJL.js";import{a as ve}from"./chunk-7O337EVK.js";import{a as ge}from"./chunk-KC7TCE72.js";import{a as pe}from"./chunk-5G3XLHEX.js";import{$ as m,$a as ce,A as B,Aa as k,Ba as V,Ca as ne,F,Ia as ie,Ja as S,K as T,Ka as oe,La as ae,Ma as p,N as Q,Na as re,O as r,Oa as $,R as A,U as Z,Ua as le,Z as U,_,_a as de,a as X,b as J,ba as N,ca as O,da as D,ea as h,eb as se,fa as d,fb as _e,ga as l,ha as M,ia as I,ja as R,ka as z,la as w,na as y,nb as me,oa as ee,pa as s,v as P,va as te,wa as L,x as f,y as b,ya as c,z as E,za as C}from"./chunk-DVNYVIZW.js";function ke(n,e){if(n&1){let t=w();I(0,"button",3),ee("click",function(){f(t);let o=s().$implicit,a=s();return b(a.rated.emit(o))}),c(1,"\u2605"),R()}if(n&2){let t=s().$implicit,i=s();L("stars__star--filled",t<=i.displayRating())("stars__star--half",t-.5===i.displayRating()),U("aria-label","Rate "+t+" stars")}}function Se(n,e){if(n&1&&(I(0,"span",4),c(1,"\u2605"),R()),n&2){let t=s().$implicit,i=s();L("stars__star--filled",t<=i.displayRating())}}function Pe(n,e){if(n&1&&_(0,ke,2,5,"button",1)(1,Se,2,2,"span",2),n&2){let t=s();m(t.interactive()?0:1)}}var H=class n{rating=$(0);maxStars=$(5);interactive=$(!1);rated=re();displayRating=p(()=>{let e=this.rating();return Math.round(e*2)/2});starArray=p(()=>Array.from({length:this.maxStars()},(e,t)=>t+1));static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-rating-stars"]],inputs:{rating:[1,"rating"],maxStars:[1,"maxStars"],interactive:[1,"interactive"]},outputs:{rated:"rated"},decls:3,vars:3,consts:[["role","img",1,"stars"],[1,"stars__star",3,"stars__star--filled","stars__star--half"],[1,"stars__star",3,"stars__star--filled"],[1,"stars__star",3,"click"],[1,"stars__star"]],template:function(t,i){t&1&&(I(0,"div",0),O(1,Pe,2,1,null,null,N),R()),t&2&&(L("stars--interactive",i.interactive()),U("aria-label","Rating: "+i.displayRating().toFixed(1)+" out of 5"),r(),D(i.starArray()))},styles:[".stars[_ngcontent-%COMP%]{display:inline-flex;gap:2px}.stars__star[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--border-bright);transition:color .15s;background:none;border:none;padding:0;cursor:default;min-height:auto;min-width:auto}.stars__star--filled[_ngcontent-%COMP%]{color:var(--accent-gold)}.stars--interactive[_ngcontent-%COMP%]   .stars__star[_ngcontent-%COMP%]{cursor:pointer;min-height:44px;min-width:32px;display:flex;align-items:center;justify-content:center}.stars--interactive[_ngcontent-%COMP%]   .stars__star[_ngcontent-%COMP%]:hover{color:var(--accent-cream)}"],changeDetection:0})};var G=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-skeleton-detail"]],decls:19,vars:0,consts:[["aria-hidden","true",1,"skeleton-detail"],[1,"skeleton-detail__hero","skeleton-shimmer"],[1,"skeleton-detail__content","container"],[1,"skeleton-detail__layout"],[1,"skeleton-detail__poster","skeleton-shimmer"],[1,"skeleton-detail__info"],[1,"skeleton-detail__title","skeleton-shimmer"],[1,"skeleton-detail__meta","skeleton-shimmer"],[1,"skeleton-detail__tagline","skeleton-shimmer"],[1,"skeleton-detail__text","skeleton-shimmer"],[1,"skeleton-detail__text","skeleton-detail__text--short","skeleton-shimmer"],[1,"skeleton-detail__actions"],[1,"skeleton-detail__btn","skeleton-shimmer"],[1,"skeleton-detail__btn","skeleton-detail__btn--small","skeleton-shimmer"],[1,"skeleton-detail__row","skeleton-shimmer"],[1,"skeleton-detail__row","skeleton-detail__row--short","skeleton-shimmer"],["role","status",1,"sr-only"]],template:function(t,i){t&1&&(I(0,"div",0),z(1,"div",1),I(2,"div",2)(3,"div",3),z(4,"div",4),I(5,"div",5),z(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),I(11,"div",11),z(12,"div",12)(13,"div",12)(14,"div",13),R(),z(15,"div",14)(16,"div",15),R()()()(),I(17,"span",16),c(18,"Loading film details..."),R())},styles:[".skeleton-detail__hero[_ngcontent-%COMP%]{height:350px;background:linear-gradient(180deg,var(--bg-raised) 0%,var(--bg-deep) 100%)}.skeleton-detail__content[_ngcontent-%COMP%]{margin-top:-120px;position:relative;padding-bottom:var(--space-2xl)}.skeleton-detail__layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr;gap:var(--space-xl)}.skeleton-detail__poster[_ngcontent-%COMP%]{aspect-ratio:2 / 3;border-radius:var(--radius-lg)}.skeleton-detail__title[_ngcontent-%COMP%]{height:36px;width:70%;border-radius:var(--radius);margin-bottom:var(--space-md)}.skeleton-detail__meta[_ngcontent-%COMP%]{height:16px;width:40%;border-radius:var(--radius-sm);margin-bottom:var(--space-lg)}.skeleton-detail__tagline[_ngcontent-%COMP%]{height:16px;width:55%;border-radius:var(--radius-sm);margin-bottom:var(--space-md)}.skeleton-detail__text[_ngcontent-%COMP%]{height:14px;width:100%;border-radius:var(--radius-sm);margin-bottom:var(--space-sm)}.skeleton-detail__text--short[_ngcontent-%COMP%]{width:75%;margin-bottom:var(--space-xl)}.skeleton-detail__actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);margin-bottom:var(--space-xl)}.skeleton-detail__btn[_ngcontent-%COMP%]{height:48px;width:140px;border-radius:var(--radius-lg)}.skeleton-detail__btn--small[_ngcontent-%COMP%]{width:100px}.skeleton-detail__row[_ngcontent-%COMP%]{height:14px;width:60%;border-radius:var(--radius-sm);margin-bottom:var(--space-sm)}.skeleton-detail__row--short[_ngcontent-%COMP%]{width:40%}.skeleton-shimmer[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--bg-raised) 25%,var(--bg-hover) 50%,var(--bg-raised) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}@media(prefers-reduced-motion:reduce){.skeleton-shimmer[_ngcontent-%COMP%]{animation:none;background:var(--bg-raised)}}@media(max-width:768px){.skeleton-detail__hero[_ngcontent-%COMP%]{height:220px}.skeleton-detail__content[_ngcontent-%COMP%]{margin-top:-60px}.skeleton-detail__layout[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--space-lg)}.skeleton-detail__poster[_ngcontent-%COMP%]{max-width:200px;margin:0 auto}}"],changeDetection:0})};var j=class n{transform(e){if(e==null||e<=0)return"";let t=Math.floor(e/60),i=e%60;return t===0?`${i}m`:i>0?`${t}h ${i}m`:`${t}h`}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Z({name:"runtime",type:n,pure:!0})};var be=n=>["/genre",n],Me=n=>["/decade",n],K=n=>["/director",n],Ee=n=>["/watch",n],Te=()=>["/browse"],Oe=n=>({languages:n,streamable:"0"}),De=n=>["/actor",n],ye=n=>["/movie",n],we=(n,e)=>e.id,Ie=(n,e)=>e.name,Fe=(n,e)=>e.movie.id;function Re(n,e){n&1&&M(0,"app-skeleton-detail")}function Ae(n,e){if(n&1&&M(0,"div",52),n&2){let t=s();te("background-image","url("+t.backdropUrl+")")}}function Ne(n,e){if(n&1&&M(0,"img",11),n&2){let t=s();h("src",t.posterUrl,T)("alt",t.title+" poster")}}function ze(n,e){if(n&1&&(d(0,"div",12)(1,"span",53),c(2),l(),d(3,"span",54),c(4),l()()),n&2){let t=s();r(2),C(t.title),r(2),C(t.year)}}function Le(n,e){if(n&1&&(d(0,"span",15),c(1),l()),n&2){let t=s(2);r(),k("#",t.catalogRank()," in catalog")}}function Ve(n,e){n&1&&(d(0,"span",16),c(1),l()),n&2&&(r(),C(e))}function $e(n,e){if(n&1&&(d(0,"a",18),c(1),l()),n&2){let t=e;h("routerLink",S(3,be,t.genre)),r(),V("#",t.rank," in ",t.genre)}}function We(n,e){if(n&1&&(d(0,"a",18),c(1),l()),n&2){let t=e;h("routerLink",S(3,Me,t.decade)),r(),V("#",t.rank," in ",t.decade,"s")}}function Ue(n,e){if(n&1&&(d(0,"a",18),c(1),l()),n&2){let t=e;h("routerLink",S(4,K,t.director)),r(),ne("#",t.rank," of ",t.total," by ",t.director)}}function Be(n,e){if(n&1&&(d(0,"span",19),c(1),l()),n&2){let t=e;r(),V("#",t.rank," in ",t.language)}}function He(n,e){n&1&&(d(0,"span",19),c(1),l()),n&2&&(r(),k("#",e.rank," free to watch"))}function Ge(n,e){if(n&1&&(d(0,"span",55),c(1,"\xB7"),l(),d(2,"a",56),c(3),l()),n&2){let t=s(),i=s();r(2),h("routerLink",S(3,Me,i.yearDecade())),r(),V("",i.yearPeers()," films from ",t.year)}}function je(n,e){if(n&1&&(d(0,"span",55),c(1,"\xB7"),l(),d(2,"span",57),c(3),oe(4,"runtime"),l()),n&2){let t=s();r(3),C(ae(4,1,t.runtime))}}function Ye(n,e){if(n&1&&(d(0,"span",55),c(1,"\xB7"),l(),d(2,"span",57),c(3),l()),n&2){let t=s();r(3),C(t.originalLanguage.toUpperCase())}}function qe(n,e){if(n&1&&(d(0,"p",22),c(1),l()),n&2){let t=s();r(),k("\u201C",t.tagline,"\u201D")}}function Ke(n,e){if(n&1&&(d(0,"p",23),c(1),l()),n&2){let t=s();r(),C(t.overview)}}function Xe(n,e){if(n&1&&(d(0,"div",58)(1,"span",59),c(2,"TMDb"),l(),d(3,"span",60),c(4),l(),M(5,"app-rating-stars",61),l()),n&2){let t=s(2);r(4),C(t.tmdbRating.toFixed(1)),r(),h("rating",t.tmdbRating/2)}}function Je(n,e){if(n&1&&(d(0,"div",58)(1,"span",59),c(2,"IMDb"),l(),d(3,"span",60),c(4),l()()),n&2){let t=s(2);r(4),C(t.imdbRating)}}function Qe(n,e){if(n&1&&(d(0,"div",58)(1,"span",59),c(2,"RT"),l(),d(3,"span",60),c(4),l()()),n&2){let t=s(2);r(4),C(t.rottenTomatoesRating)}}function Ze(n,e){if(n&1&&(d(0,"div",24),_(1,Xe,6,2,"div",58),_(2,Je,5,1,"div",58),_(3,Qe,5,1,"div",58),l()),n&2){let t=s();r(),m(t.tmdbRating?1:-1),r(),m(t.imdbRating?2:-1),r(),m(t.rottenTomatoesRating?3:-1)}}function et(n,e){if(n&1&&(d(0,"a",26),c(1,"Watch Film"),l()),n&2){let t=s();h("routerLink",S(1,Ee,t.id))}}function tt(n,e){if(n&1&&(d(0,"a",27),c(1,"View on IMDb"),l()),n&2){let t=s();h("href","https://www.imdb.com/title/"+t.imdbId,T)}}function nt(n,e){if(n&1&&(d(0,"a",28),c(1,"Search Internet Archive"),l()),n&2){let t=s(),i=s();h("href","https://archive.org/search?query="+i.encodeTitle(t.title),T)}}function it(n,e){n&1&&(E(),d(0,"svg",30),M(1,"path",62),l())}function ot(n,e){n&1&&(E(),d(0,"svg",31),M(1,"path",62),l())}function at(n,e){if(n&1){let t=w();d(0,"button",63),y("click",function(){f(t);let o=s(),a=s();return b(a.addToWatchlist(o.id))}),c(1,"+ Watchlist"),l()}}function rt(n,e){if(n&1){let t=w();d(0,"button",64),y("click",function(){f(t);let o=s(),a=s();return b(a.removeFromWatchlist(o.id))}),c(1,"In Watchlist"),l()}}function lt(n,e){if(n&1){let t=w();d(0,"button",63),y("click",function(){f(t);let o=s(),a=s();return b(a.markWatched(o.id))}),c(1,"Mark Watched"),l()}}function dt(n,e){if(n&1){let t=w();d(0,"button",67),y("click",function(){let o=f(t).$implicit,a=s(3),g=s();return b(g.addToPlaylist(o.id,a.id))}),c(1),l()}if(n&2){let t=e.$implicit;r(),C(t.name)}}function ct(n,e){if(n&1&&(d(0,"div",42),O(1,dt,2,1,"button",66,we),l()),n&2){let t=s(3);r(),D(t.collection.playlists())}}function st(n,e){if(n&1){let t=w();d(0,"div",34)(1,"button",65),y("click",function(){f(t);let o=s(2);return b(o.playlistMenuOpen.set(!o.playlistMenuOpen()))}),c(2,"+ Playlist"),l(),_(3,ct,3,0,"div",42),l()}if(n&2){let t=s(2);r(3),m(t.playlistMenuOpen()?3:-1)}}function _t(n,e){if(n&1){let t=w();d(0,"div",42)(1,"button",68),y("click",function(){f(t);let o=s(),a=s();return b(a.shareTwitter(o))}),E(),d(2,"svg",69),M(3,"path",70),l(),c(4," Twitter / X "),l(),B(),d(5,"button",71),y("click",function(){f(t);let o=s(),a=s();return b(a.shareFacebook(o))}),E(),d(6,"svg",69),M(7,"path",72),l(),c(8," Facebook "),l(),B(),d(9,"button",73),y("click",function(){f(t);let o=s(2);return b(o.copyLink())}),E(),d(10,"svg",74),M(11,"rect",75)(12,"path",76),l(),c(13," Copy Link "),l()()}}function mt(n,e){if(n&1){let t=w();d(0,"div",43)(1,"span",77),c(2,"Your Rating"),l(),d(3,"app-rating-stars",78),y("rated",function(o){f(t);let a=s(),g=s();return b(g.onRate(a.id,o))}),l()()}if(n&2){let t=s(),i=s();r(3),h("rating",i.getUserRating(t.id))("interactive",!0)}}function gt(n,e){if(n&1){let t=w();d(0,"div",44)(1,"label",79),c(2,"Your Notes"),l(),d(3,"textarea",80),y("blur",function(o){f(t);let a=s(),g=s();return b(g.onNoteChange(a.id,o))}),l()()}if(n&2){let t=s(),i=s();r(3),h("value",i.collection.getNote(t.id))}}function pt(n,e){if(n&1){let t=w();d(0,"div",82)(1,"p",84),c(2),l(),d(3,"button",85),y("click",function(){f(t);let o=s(4);return b(o.reviewEditing.set(!0))}),c(4,"Edit"),l()()}if(n&2){let t=s(3),i=s();r(2),C(i.collection.getReview(t.id))}}function ut(n,e){if(n&1){let t=w();d(0,"button",86),y("click",function(){f(t);let o=s(4);return b(o.reviewEditing.set(!0))}),c(1,"Write a Review"),l()}}function vt(n,e){if(n&1&&_(0,pt,5,1,"div",82)(1,ut,2,0,"button",83),n&2){let t=s(2),i=s();m(i.collection.getReview(t.id)?0:1)}}function Ct(n,e){if(n&1){let t=w();d(0,"textarea",87),y("blur",function(o){f(t);let a=s(2),g=s();return b(g.onReviewSave(a.id,o))}),l(),d(1,"p",88),c(2,"Click outside to save"),l()}if(n&2){let t=s(2),i=s();h("value",i.collection.getReview(t.id))}}function ht(n,e){if(n&1&&(d(0,"div",45)(1,"label",81),c(2,"Your Review"),l(),_(3,vt,2,1)(4,Ct,3,1),l()),n&2){let t=s(2);r(3),m(t.reviewEditing()?4:3)}}function xt(n,e){n&1&&c(0,", ")}function ft(n,e){if(n&1&&(d(0,"a",92),c(1),l(),_(2,xt,1,0)),n&2){let t=e.$implicit,i=e.$index,o=e.$count;h("routerLink",S(3,K,t)),r(),C(t),r(),m(i!==o-1?2:-1)}}function bt(n,e){n&1&&c(0),n&2&&k(", avg \u2605 ",e)}function Mt(n,e){n&1&&c(0),n&2&&k(", ",e,"% free")}function yt(n,e){if(n&1&&(d(0,"span",91),c(1),_(2,bt,1,1),_(3,Mt,1,1),c(4,")"),l()),n&2){let t,i,o=s(4);r(),k("(",e," in catalog"),r(),m((t=o.directorAvgRating())?2:-1,t),r(),m((i=o.directorStreamablePct())?3:-1,i)}}function wt(n,e){if(n&1&&(d(0,"div",89)(1,"span",90),c(2),l(),d(3,"span"),O(4,ft,3,5,null,null,N),_(6,yt,5,3,"span",91),l()()),n&2){let t,i=s(2),o=s();r(2),k("Director",i.directors.length>1?"s":""),r(2),D(i.directors),r(2),m((t=o.totalDirectorFilms())?6:-1,t)}}function kt(n,e){if(n&1&&(d(0,"a",94),c(1),l()),n&2){let t=e.$implicit;h("routerLink",S(2,be,t)),r(),C(t)}}function St(n,e){n&1&&c(0),n&2&&k(", ",e,"% streamable")}function Pt(n,e){n&1&&c(0),n&2&&k(", median \u2605 ",e)}function Et(n,e){n&1&&c(0),n&2&&k(", ",e," directors")}function Tt(n,e){if(n&1&&(d(0,"span",91),c(1),_(2,St,1,1),_(3,Pt,1,1),_(4,Et,1,1),c(5,")"),l()),n&2){let t,i,o,a=e,g=s(4);r(),V("(",a.count," ",a.genre," films"),r(),m((t=g.genreStreamablePct())?2:-1,t),r(),m((i=g.genreMedianRating())?3:-1,i),r(),m((o=g.genreDirectorCount())?4:-1,o)}}function Ot(n,e){if(n&1&&(d(0,"div",89)(1,"span",90),c(2,"Genres"),l(),d(3,"div",93),O(4,kt,2,4,"a",94,N),_(6,Tt,6,5,"span",91),l()()),n&2){let t,i=s(2),o=s();r(4),D(i.genres),r(2),m((t=o.genreSiblingCount())?6:-1,t)}}function Dt(n,e){if(n&1&&(d(0,"div",46),_(1,wt,7,2,"div",89),_(2,Ot,7,1,"div",89),l()),n&2){let t=s();r(),m(t.directors.length>0?1:-1),r(),m(t.genres.length>0?2:-1)}}function It(n,e){if(n&1&&(d(0,"div",89)(1,"span",90),c(2,"Language"),l(),d(3,"a",95),c(4),l()()),n&2){let t=s(2),i=s();r(3),h("routerLink",ie(3,Te))("queryParams",S(4,Oe,i.languageName(t.originalLanguage))),r(),C(i.languageName(t.originalLanguage))}}function Ft(n,e){if(n&1&&(d(0,"div",89)(1,"span",90),c(2),l(),d(3,"span"),c(4),l()()),n&2){let t=s(2);r(2),C(t.productionCountries.length>1?"Countries":"Country"),r(2),C(t.productionCountries.join(", "))}}function Rt(n,e){if(n&1&&(d(0,"div",46),_(1,It,5,6,"div",89),_(2,Ft,5,2,"div",89),l()),n&2){let t=s();r(),m(t.originalLanguage?1:-1),r(),m(t.productionCountries.length>0?2:-1)}}function At(n,e){if(n&1&&(d(0,"a",97),E(),d(1,"svg",100),M(2,"path",101)(3,"path",102),l(),c(4," Internet Archive "),l()),n&2){let t=s(2);h("href","https://archive.org/details/"+t.internetArchiveId,T)}}function Nt(n,e){if(n&1&&(d(0,"a",98),E(),d(1,"svg",103),M(2,"path",104),l(),c(3," YouTube "),l()),n&2){let t=s(2);h("href","https://www.youtube.com/watch?v="+t.youtubeId,T)}}function zt(n,e){if(n&1&&(d(0,"a",99),c(1," IMDb "),l()),n&2){let t=s(2);h("href","https://www.imdb.com/title/"+t.imdbId,T)}}function Lt(n,e){if(n&1&&(d(0,"div",47)(1,"span",96),c(2,"Available on"),l(),_(3,At,5,1,"a",97),_(4,Nt,4,1,"a",98),_(5,zt,2,1,"a",99),l()),n&2){let t=s();r(3),m(t.internetArchiveId?3:-1),r(),m(t.youtubeId?4:-1),r(),m(t.imdbId?5:-1)}}function Vt(n,e){if(n&1&&(d(0,"span",105),c(1),l()),n&2){let t=e.$implicit;r(),C(t)}}function $t(n,e){if(n&1&&(d(0,"div",48),O(1,Vt,2,1,"span",105,N),l()),n&2){let t=s(2);r(),D(t.filmContext())}}function Wt(n,e){if(n&1&&M(0,"img",109),n&2){let t=s().$implicit;h("src",t.profileUrl,T)("alt",t.name)}}function Ut(n,e){n&1&&M(0,"div",110)}function Bt(n,e){if(n&1&&(d(0,"p",112),c(1),l()),n&2){let t=s().$implicit;r(),C(t.character)}}function Ht(n,e){if(n&1&&(d(0,"a",108),_(1,Wt,1,2,"img",109)(2,Ut,1,0,"div",110),d(3,"p",111),c(4),l(),_(5,Bt,2,1,"p",112),l()),n&2){let t=e.$implicit;h("routerLink",S(4,De,t.name)),r(),m(t.profileUrl?1:2),r(3),C(t.name),r(),m(t.character?5:-1)}}function Gt(n,e){if(n&1&&(d(0,"section",49)(1,"h2"),c(2,"Cast "),d(3,"span",106),c(4),l()(),d(5,"div",107),O(6,Ht,6,6,"a",108,Ie),l()()),n&2){let t=s();r(4),k("(",t.cast.length,")"),r(2),D(t.cast)}}function jt(n,e){if(n&1&&M(0,"img",109),n&2){let t=s().$implicit;h("src",t.posterUrl,T)("alt",t.title)}}function Yt(n,e){if(n&1&&(d(0,"div",117)(1,"span"),c(2),l()()),n&2){let t=s().$implicit;r(2),C(t.title)}}function qt(n,e){n&1&&(d(0,"span",118),c(1,"\u2713"),l())}function Kt(n,e){n&1&&(d(0,"span",119),c(1,"+"),l())}function Xt(n,e){if(n&1&&(d(0,"a",115)(1,"div",116),_(2,jt,1,2,"img",109)(3,Yt,3,1,"div",117),_(4,qt,2,0,"span",118)(5,Kt,2,0,"span",119),l(),d(6,"p",120),c(7),l(),d(8,"p",121),c(9),l()()),n&2){let t=e.$implicit,i=s(3);h("routerLink",S(5,ye,t.id)),r(2),m(t.posterUrl?2:3),r(2),m(i.collection.isWatched(t.id)?4:i.collection.isInWatchlist(t.id)?5:-1),r(3),C(t.title),r(2),C(t.year)}}function Jt(n,e){if(n&1&&(d(0,"section",50)(1,"div",113)(2,"h2"),c(3),l(),d(4,"a",114),c(5,"View all \u2192"),l()(),d(6,"app-scroll-row"),O(7,Xt,10,7,"a",115,we),l()()),n&2){let t=s(2);r(3),k("More by ",t.movie().directors[0]),r(),h("routerLink",S(2,K,t.movie().directors[0])),r(3),D(t.directorFilms())}}function Qt(n,e){n&1&&(d(0,"span",106),c(1),l()),n&2&&(r(),k("(",e," unwatched)"))}function Zt(n,e){n&1&&(d(0,"span",106),c(1),l()),n&2&&(r(),k("\xB7 ",e," free"))}function en(n,e){if(n&1&&M(0,"img",109),n&2){let t=s().$implicit;h("src",t.movie.posterUrl,T)("alt",t.movie.title)}}function tn(n,e){if(n&1&&(d(0,"div",117)(1,"span"),c(2),l()()),n&2){let t=s().$implicit;r(2),C(t.movie.title)}}function nn(n,e){n&1&&(d(0,"span",118),c(1,"\u2713"),l())}function on(n,e){n&1&&(d(0,"span",119),c(1,"+"),l())}function an(n,e){if(n&1&&(d(0,"p",122),c(1),l()),n&2){let t=s().$implicit;r(),C(t.reason)}}function rn(n,e){if(n&1&&(d(0,"a",115)(1,"div",116),_(2,en,1,2,"img",109)(3,tn,3,1,"div",117),_(4,nn,2,0,"span",118)(5,on,2,0,"span",119),l(),d(6,"p",120),c(7),l(),d(8,"p",121),c(9),l(),_(10,an,2,1,"p",122),l()),n&2){let t=e.$implicit,i=s(3);h("routerLink",S(6,ye,t.movie.id)),r(2),m(t.movie.posterUrl?2:3),r(2),m(i.collection.isWatched(t.movie.id)?4:i.collection.isInWatchlist(t.movie.id)?5:-1),r(3),C(t.movie.title),r(2),C(t.movie.year),r(),m(t.reason?10:-1)}}function ln(n,e){if(n&1&&(d(0,"section",51)(1,"h2"),c(2,"You Might Also Like"),_(3,Qt,2,1,"span",106),_(4,Zt,2,1,"span",106),l(),d(5,"app-scroll-row"),O(6,rn,11,8,"a",115,Fe),l()()),n&2){let t,i,o=s(2);r(3),m((t=o.similarUnwatchedCount())?3:-1,t),r(),m((i=o.similarStreamableCount())?4:-1,i),r(2),D(o.similarWithReasons())}}function dn(n,e){if(n&1){let t=w();d(0,"div",0)(1,"button",2),y("click",function(){f(t);let o=s();return b(o.goBack())}),E(),d(2,"svg",3),M(3,"polyline",4),l(),c(4," Back "),l(),B(),d(5,"div",5),_(6,Ae,1,2,"div",6),M(7,"div",7),l(),d(8,"div",8)(9,"div",9)(10,"div",10),_(11,Ne,1,2,"img",11)(12,ze,5,2,"div",12),l(),d(13,"div",13)(14,"h1",14),c(15),l(),_(16,Le,2,1,"span",15),_(17,Ve,2,1,"span",16),d(18,"div",17),_(19,$e,2,5,"a",18),_(20,We,2,5,"a",18),_(21,Ue,2,6,"a",18),_(22,Be,2,2,"span",19),_(23,He,2,1,"span",19),l(),d(24,"div",20)(25,"span",21),c(26),l(),_(27,Ge,4,5),_(28,je,5,3),_(29,Ye,4,1),l(),_(30,qe,2,1,"p",22),_(31,Ke,2,1,"p",23),_(32,Ze,4,3,"div",24),d(33,"div",25),_(34,et,2,3,"a",26)(35,tt,2,1,"a",27)(36,nt,2,1,"a",28),d(37,"button",29),y("click",function(){let o=f(t),a=s();return b(a.toggleFavorite(o.id))}),_(38,it,2,0,":svg:svg",30)(39,ot,2,0,":svg:svg",31),l(),_(40,at,2,0,"button",32)(41,rt,2,0,"button",33),_(42,lt,2,0,"button",32),_(43,st,4,1,"div",34),d(44,"div",35)(45,"button",36),y("click",function(){f(t);let o=s();return b(o.shareMenuOpen.set(!o.shareMenuOpen()))}),E(),d(46,"svg",3),M(47,"circle",37)(48,"circle",38)(49,"circle",39)(50,"line",40)(51,"line",41),l(),c(52," Share "),l(),_(53,_t,14,0,"div",42),l()(),_(54,mt,4,2,"div",43),_(55,gt,4,1,"div",44),_(56,ht,5,1,"div",45),_(57,Dt,3,2,"div",46),_(58,Rt,3,2,"div",46),_(59,Lt,6,3,"div",47),l()(),_(60,$t,3,0,"div",48),_(61,Gt,8,1,"section",49),_(62,Jt,9,4,"section",50),_(63,ln,8,2,"section",51),l()()}if(n&2){let t,i,o,a,g,x,u=e,v=s();r(6),m(u.backdropUrl?6:-1),r(5),m(u.posterUrl?11:12),r(4),C(u.title),r(),m(v.catalogRank()>0?16:-1),r(),m((t=v.ratingPercentile())?17:-1,t),r(2),m((i=v.genreRank())?19:-1,i),r(),m((o=v.decadeRank())?20:-1,o),r(),m((a=v.directorRank())?21:-1,a),r(),m((g=v.languageRank())?22:-1,g),r(),m((x=v.streamableRank())?23:-1,x),r(2),h("title",v.yearPeers()>1?"One of "+v.yearPeers()+" films from "+u.year:""),r(),C(u.year),r(),m(v.yearPeers()>2?27:-1),r(),m(u.runtime?28:-1),r(),m(u.originalLanguage?29:-1),r(),m(u.tagline?30:-1),r(),m(u.overview?31:-1),r(),m(u.tmdbRating||u.imdbRating||u.rottenTomatoesRating?32:-1),r(2),m(v.streamingUrl()?34:u.imdbId?35:36),r(3),L("detail__fav-btn--active",v.collection.isFavorite(u.id)),U("aria-label",v.collection.isFavorite(u.id)?"Remove from favorites":"Add to favorites"),r(),m(v.collection.isFavorite(u.id)?38:39),r(2),m(!v.collection.isInWatchlist(u.id)&&!v.collection.isWatched(u.id)?40:v.collection.isInWatchlist(u.id)?41:-1),r(2),m(v.collection.isWatched(u.id)?-1:42),r(),m(v.collection.playlists().length>0?43:-1),r(10),m(v.shareMenuOpen()?53:-1),r(),m(v.collection.isWatched(u.id)?54:-1),r(),m(v.collection.isWatched(u.id)?55:-1),r(),m(v.collection.isWatched(u.id)?56:-1),r(),m(u.directors.length>0||u.genres.length>0?57:-1),r(),m(u.originalLanguage||u.productionCountries.length>0?58:-1),r(),m(u.imdbId||u.internetArchiveId||u.youtubeId?59:-1),r(),m(v.filmContext().length>0?60:-1),r(),m(u.cast.length>0?61:-1),r(),m(v.directorFilms().length>0?62:-1),r(),m(v.similarWithReasons().length>0?63:-1)}}function cn(n,e){n&1&&(d(0,"div",1)(1,"h2"),c(2,"Film not found"),l(),d(3,"p",123),c(4,"This film is not in our catalog."),l(),d(5,"a",124),c(6,"Browse Films"),l()())}var fe=class n{id=$.required();location=P(le);router=P(se);catalogService=P(me);movieService=P(Ce);collection=P(ge);streaming=P(he);notifications=P(pe);recentlyViewed=P(ue);titleService=P(ce);metaService=P(de);movie=F(null);loading=F(!0);streamingUrl=F(null);shareMenuOpen=F(!1);playlistMenuOpen=F(!1);reviewEditing=F(!1);summary=F(null);similarFilms=p(()=>{let e=this.summary();return e?this.catalogService.getSimilar(e):[]});filmContext=p(()=>{let e=this.movie();if(!e)return[];let t=[];e.year<1930?t.push("Silent Era"):e.year<1950?t.push("Golden Age"):e.year<1970&&t.push("Post-War Cinema");let i=new Date().getFullYear()-e.year;return t.push(`${i} years old`),e.isStreamable?e.internetArchiveId?t.push("Free on Internet Archive"):e.youtubeId&&t.push("Free on YouTube"):t.push("Not in public domain"),e.runtime&&(e.runtime<60?t.push("Short film"):e.runtime>150&&t.push("Epic length")),e.originalLanguage&&e.originalLanguage!=="en"&&t.push("Foreign language"),e.genres.length>=4&&t.push("Multi-genre"),t});similarWithReasons=p(()=>{let e=this.summary();if(!e)return[];let t=this.similarFilms(),i=new Set(e.genres.map(g=>g.toLowerCase())),o=new Set(e.directors.map(g=>g.toLowerCase())),a=Math.floor(e.year/10)*10;return t.map(g=>{let x=g.directors.find(Y=>o.has(Y.toLowerCase())),u=g.genres.filter(Y=>i.has(Y.toLowerCase())),v=Math.floor(g.year/10)*10===a,W="";return x?W=`Also by ${x}`:u.length>0&&v?W=`${u[0]}, ${a}s`:u.length>0?W=u.length>1?u.slice(0,2).join(" & "):u[0]:v&&(W=`Also from the ${a}s`),{movie:g,reason:W}})});catalogRank=p(()=>{let e=this.summary();if(!e||e.voteAverage===0)return 0;let i=this.catalogService.movies().filter(o=>o.voteAverage>0).sort((o,a)=>a.voteAverage-o.voteAverage).findIndex(o=>o.id===e.id);return i>=0?i+1:0});genreRank=p(()=>{let e=this.summary();if(!e||e.voteAverage===0||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(a=>a.voteAverage>0&&a.genres.includes(t)).sort((a,g)=>g.voteAverage-a.voteAverage),o=i.findIndex(a=>a.id===e.id);return o<0||o>=20?null:{rank:o+1,genre:t,total:i.length}});decadeRank=p(()=>{let e=this.summary();if(!e||e.voteAverage===0)return null;let t=Math.floor(e.year/10)*10,i=this.catalogService.movies().filter(a=>a.voteAverage>0&&Math.floor(a.year/10)*10===t).sort((a,g)=>g.voteAverage-a.voteAverage),o=i.findIndex(a=>a.id===e.id);return o<0||o>=20?null:{rank:o+1,decade:t,total:i.length}});directorRank=p(()=>{let e=this.summary();if(!e||e.voteAverage===0||e.directors.length===0)return null;let t=e.directors[0],i=this.catalogService.movies().filter(a=>a.voteAverage>0&&a.directors.includes(t)).sort((a,g)=>g.voteAverage-a.voteAverage);if(i.length<3)return null;let o=i.findIndex(a=>a.id===e.id);return o<0||o>=10?null:{rank:o+1,director:t,total:i.length}});languageRank=p(()=>{let e=this.summary();if(!e||e.voteAverage===0||!e.language||e.language==="English")return null;let t=this.catalogService.movies().filter(o=>o.voteAverage>0&&o.language===e.language).sort((o,a)=>a.voteAverage-o.voteAverage);if(t.length<20)return null;let i=t.findIndex(o=>o.id===e.id);return i<0||i>=10?null:{rank:i+1,language:e.language}});streamableRank=p(()=>{let e=this.summary();if(!e||e.voteAverage===0||!e.isStreamable)return null;let t=this.catalogService.movies().filter(o=>o.isStreamable&&o.voteAverage>0).sort((o,a)=>a.voteAverage-o.voteAverage),i=t.findIndex(o=>o.id===e.id);return i<0||i>=20?null:{rank:i+1,total:t.length}});totalDirectorFilms=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return null;let t=this.catalogService.movies().filter(i=>i.directors.includes(e.directors[0])).length;return t>1?t:null});directorAvgRating=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return null;let t=e.directors[0],i=this.catalogService.movies().filter(o=>o.directors.includes(t)&&o.voteAverage>0);return i.length<3?null:(i.reduce((o,a)=>o+a.voteAverage,0)/i.length).toFixed(1)});directorStreamablePct=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return null;let t=e.directors[0],i=this.catalogService.movies().filter(a=>a.directors.includes(t));if(i.length<3)return null;let o=Math.round(i.filter(a=>a.isStreamable).length/i.length*100);return o>0&&o<100?o:null});directorCoDirectedCount=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return null;let t=e.directors[0],i=this.catalogService.movies().filter(a=>a.directors.includes(t));if(i.length<3)return null;let o=i.filter(a=>a.directors.length>1).length;return o>=2?o:null});genreSiblingCount=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(o=>o.id!==e.id&&o.genres.includes(t)).length;return i>=10?{genre:t,count:i}:null});similarUnwatchedCount=p(()=>{let e=this.similarWithReasons();if(e.length===0)return null;let t=e.filter(i=>!this.collection.isWatched(i.movie.id)).length;return t>0&&t<e.length?t:null});similarStreamableCount=p(()=>{let e=this.similarWithReasons();if(e.length===0)return null;let t=e.filter(i=>i.movie.isStreamable).length;return t>0&&t<e.length?t:null});genreNonEnglishPct=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(g=>g.genres.includes(t));if(i.length<10)return null;let o=i.filter(g=>g.language&&g.language!=="English"&&g.language!=="en").length,a=Math.round(o/i.length*100);return a>0&&a<100?a:null});genreMedianRating=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(x=>x.genres.includes(t)&&x.voteAverage>0);if(i.length<10)return null;let o=i.map(x=>x.voteAverage).sort((x,u)=>x-u),a=Math.floor(o.length/2);return(o.length%2===0?(o[a-1]+o[a])/2:o[a]).toFixed(1)});genreHighlyRatedCount=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(o=>o.genres.includes(t)&&o.voteAverage>=8);return i.length>0?i.length:null});decadeAvgRating=p(()=>{let e=this.summary();if(!e)return null;let t=Math.floor(e.year/10)*10,i=this.catalogService.movies().filter(o=>Math.floor(o.year/10)*10===t&&o.voteAverage>0);return i.length<10?null:(i.reduce((o,a)=>o+a.voteAverage,0)/i.length).toFixed(1)});directorAvgTitleLength=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return null;let t=this.catalogService.movies().filter(i=>i.directors.some(o=>e.directors.includes(o)));return t.length<3?null:Math.round(t.reduce((i,o)=>i+o.title.length,0)/t.length)});decadeStreamablePct=p(()=>{let e=this.summary();if(!e)return null;let t=Math.floor(e.year/10)*10,i=this.catalogService.movies().filter(a=>a.year>=t&&a.year<t+10);if(i.length<10)return null;let o=Math.round(i.filter(a=>a.isStreamable).length/i.length*100);return o>0&&o<100?o:null});genreStreamablePct=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(a=>a.genres.includes(t));if(i.length<10)return null;let o=Math.round(i.filter(a=>a.isStreamable).length/i.length*100);return o>0&&o<100?o:null});genreAvgYear=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(o=>o.genres.includes(t));return i.length<10?null:Math.round(i.reduce((o,a)=>o+a.year,0)/i.length)});genreSilentEraCount=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(a=>a.genres.includes(t));if(i.length<10)return null;let o=i.filter(a=>a.year<1930).length;return o>0?o:null});yearDecade=p(()=>{let e=this.summary();return e?Math.floor(e.year/10)*10:0});yearPeers=p(()=>{let e=this.summary();return e?this.catalogService.movies().filter(t=>t.year===e.year).length:0});ratingPercentile=p(()=>{let e=this.summary();if(!e||e.voteAverage===0)return null;let t=this.catalogService.movies().filter(a=>a.voteAverage>0);if(t.length<10)return null;let i=t.filter(a=>a.voteAverage>e.voteAverage).length,o=Math.round(i/t.length*100);return o<=5?"Top 5%":o<=10?"Top 10%":o<=25?"Top 25%":null});directorFilms=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return[];let t=e.directors[0];return this.catalogService.movies().filter(i=>i.id!==e.id&&i.directors.includes(t)).sort((i,o)=>o.voteAverage-i.voteAverage).slice(0,8)});languageRankLabel=p(()=>{let e=this.summary();if(!e||!e.language||e.voteAverage===0)return null;let t=this.catalogService.movies().filter(o=>o.language===e.language&&o.voteAverage>0).sort((o,a)=>a.voteAverage-o.voteAverage);if(t.length<10)return null;let i=t.findIndex(o=>o.id===e.id);return i>=0&&i<20?`#${i+1} in ${e.language}`:null});directorFilmCountInDecade=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return null;let t=Math.floor(e.year/10)*10,i=this.catalogService.movies().filter(o=>o.directors.includes(e.directors[0])&&Math.floor(o.year/10)*10===t).length;return i>=3?i:null});genrePreWarPct=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=this.catalogService.movies().filter(o=>o.genres.includes(e.genres[0]));if(t.length<10)return null;let i=Math.round(t.filter(o=>o.year<1940).length/t.length*100);return i>0&&i<100?i:null});sameYearStreamableCount=p(()=>{let e=this.summary();if(!e)return null;let t=this.catalogService.movies().filter(i=>i.year===e.year&&i.isStreamable&&i.id!==e.id).length;return t>=5?t:null});yearRankInGenre=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(g=>g.genres.includes(t));if(i.length<10)return null;let o=[...i].sort((g,x)=>g.year-x.year),a=o.findIndex(g=>g.id===e.id);return a>=0&&a<5?`#${a+1} oldest in genre`:a>=0&&a>=o.length-5?`#${o.length-a} newest in genre`:null});genreDirectorCount=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(a=>a.genres.includes(t));if(i.length<10)return null;let o=new Set;for(let a of i)for(let g of a.directors)o.add(g);return o.size>=5?o.size:null});genreAvgFilmAge=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(a=>a.genres.includes(t));if(i.length<10)return null;let o=new Date().getFullYear();return Math.round(i.reduce((a,g)=>a+(o-g.year),0)/i.length)});genreImdbLinkedPct=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=e.genres[0],i=this.catalogService.movies().filter(a=>a.genres.includes(t));if(i.length<10)return null;let o=Math.round(i.filter(a=>a.imdbId).length/i.length*100);return o>0&&o<100?o:null});directorAvgGenreCount=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return null;let t=e.directors[0],i=this.catalogService.movies().filter(a=>a.directors.includes(t));if(i.length<3)return null;let o=i.reduce((a,g)=>a+g.genres.length,0)/i.length;return o>=1.3?o.toFixed(1):null});decadePosterCoveragePct=p(()=>{let e=this.summary();if(!e)return null;let t=Math.floor(e.year/10)*10,i=this.catalogService.movies().filter(a=>Math.floor(a.year/10)*10===t);if(i.length<10)return null;let o=Math.round(i.filter(a=>a.posterUrl).length/i.length*100);return o>0&&o<100?o:null});directorPeakDecade=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return null;let t=e.directors[0],i=this.catalogService.movies().filter(g=>g.directors.includes(t));if(i.length<3)return null;let o=new Map;for(let g of i){let x=Math.floor(g.year/10)*10;o.set(x,(o.get(x)??0)+1)}return o.size<2?null:[...o.entries()].sort((g,x)=>x[1]-g[1])[0][0]});decadeCoDirectedPct=p(()=>{let e=this.summary();if(!e)return null;let t=Math.floor(e.year/10)*10,i=this.catalogService.movies().filter(a=>Math.floor(a.year/10)*10===t);if(i.length<10)return null;let o=Math.round(i.filter(a=>a.directors.length>1).length/i.length*100);return o>0&&o<100?o:null});genreCoDirectedPct=p(()=>{let e=this.summary();if(!e||e.genres.length===0)return null;let t=this.catalogService.movies().filter(o=>o.genres.includes(e.genres[0]));if(t.length<10)return null;let i=Math.round(t.filter(o=>o.directors.length>1).length/t.length*100);return i>0&&i<100?i:null});directorIaStreamableCount=p(()=>{let e=this.summary();if(!e||e.directors.length===0)return null;let t=e.directors[0],i=this.catalogService.movies().filter(a=>a.directors.includes(t));if(i.length<3)return null;let o=i.filter(a=>a.internetArchiveId).length;return o>0?o:null});onKeydown(e){if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)&&(e.key==="j"||e.key==="k")){let t=this.catalogService.movies(),i=t.findIndex(a=>a.id===this.id());if(i===-1)return;let o=e.key==="j"?i+1:i-1;o>=0&&o<t.length&&this.router.navigate(["/movie",t[o].id])}}async ngOnInit(){await this.catalogService.load();let e=this.catalogService.movies().find(i=>i.id===this.id());if(!e){this.loading.set(!1),this.titleService.setTitle("Film Not Found \u2014 BW Cinema");return}this.titleService.setTitle(`${e.title} (${e.year}) \u2014 BW Cinema`),this.recentlyViewed.add(e.id),this.summary.set(e);let t=this.streaming.getSource(e.internetArchiveId,e.youtubeId);this.streamingUrl.set(t?.embedUrl??null),this.updateMetaTags(e);try{let i=await this.movieService.getDetail(e);this.movie.set(i)}catch{this.movie.set(J(X({},e),{overview:"",runtime:null,tagline:"",backdropUrl:null,cast:[],crew:[],tmdbRating:e.voteAverage,imdbRating:null,rottenTomatoesRating:null,metacriticRating:null,releaseDate:"",originalLanguage:"",productionCountries:[]}))}this.loading.set(!1)}addToWatchlist(e){this.collection.addToWatchlist(e),this.notifications.show("Added to watchlist","success")}removeFromWatchlist(e){this.collection.removeFromWatchlist(e),this.notifications.show("Removed from watchlist","info")}markWatched(e){this.collection.markWatched(e),this.notifications.show("Marked as watched","success")}onRate(e,t){this.collection.setRating(e,t),this.notifications.show(`Rated ${t} star${t!==1?"s":""}`,"success")}getUserRating(e){return this.collection.watched().find(i=>i.movieId===e)?.userRating??0}toggleFavorite(e){this.collection.toggleFavorite(e);let t=this.collection.isFavorite(e)?"Added to favorites":"Removed from favorites";this.notifications.show(t,"success")}onNoteChange(e,t){let i=t.target.value;this.collection.setNote(e,i)}onReviewSave(e,t){let i=t.target.value;this.collection.setReview(e,i),this.reviewEditing.set(!1),i.trim()&&this.notifications.show("Review saved","success")}updateMetaTags(e){let t=`${e.title} (${e.year}) \u2014 ${e.directors.join(", ")}. ${e.genres.join(", ")}. Watch classic B&W cinema on BW Cinema.`;this.metaService.updateTag({property:"og:title",content:`${e.title} (${e.year}) \u2014 BW Cinema`}),this.metaService.updateTag({property:"og:description",content:t}),this.metaService.updateTag({name:"twitter:title",content:`${e.title} (${e.year}) \u2014 BW Cinema`}),this.metaService.updateTag({name:"twitter:description",content:t}),this.metaService.updateTag({name:"description",content:t}),e.posterUrl&&(this.metaService.updateTag({property:"og:image",content:e.posterUrl}),this.metaService.updateTag({name:"twitter:image",content:e.posterUrl}))}addToPlaylist(e,t){this.collection.addToPlaylist(e,t);let i=this.collection.playlists().find(o=>o.id===e);this.notifications.show(`Added to ${i?.name??"playlist"}`,"success"),this.playlistMenuOpen.set(!1)}shareTwitter(e){let t=window.location.href,i=`${e.title} (${e.year}) \u2014 Watch classic B&W cinema`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(i)}&url=${encodeURIComponent(t)}`,"_blank","noopener,width=550,height=420"),this.shareMenuOpen.set(!1)}shareFacebook(e){let t=window.location.href;window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`,"_blank","noopener,width=550,height=420"),this.shareMenuOpen.set(!1)}async copyLink(){await navigator.clipboard.writeText(window.location.href),this.notifications.show("Link copied to clipboard","info"),this.shareMenuOpen.set(!1)}goBack(){this.location.back()}encodeTitle(e){return encodeURIComponent(e)}static LANG_NAMES={en:"English",fr:"French",de:"German",ja:"Japanese",it:"Italian",es:"Spanish",ru:"Russian",sv:"Swedish",da:"Danish",no:"Norwegian",pt:"Portuguese",nl:"Dutch",zh:"Chinese",ko:"Korean",pl:"Polish",cs:"Czech",hu:"Hungarian",fi:"Finnish",el:"Greek",ro:"Romanian",tr:"Turkish",ar:"Arabic",hi:"Hindi",bn:"Bengali",th:"Thai",he:"Hebrew",uk:"Ukrainian",fa:"Persian",id:"Indonesian",nb:"Norwegian",sh:"Serbo-Croatian",sr:"Serbian",hr:"Croatian",sk:"Slovak",bg:"Bulgarian",ka:"Georgian",vi:"Vietnamese",ta:"Tamil",te:"Telugu",mr:"Marathi",ml:"Malayalam",kn:"Kannada",is:"Icelandic",ca:"Catalan",eu:"Basque",cn:"Chinese",af:"Afrikaans",cy:"Welsh",ga:"Irish",gl:"Galician"};languageName(e){return n.LANG_NAMES[e]??e.toUpperCase()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["app-movie"]],hostBindings:function(t,i){t&1&&y("keydown",function(a){return i.onKeydown(a)},Q)},inputs:{id:[1,"id"]},decls:3,vars:1,consts:[[1,"detail"],[1,"container","detail__not-found"],["aria-label","Go back",1,"detail__back",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","15 18 9 12 15 6"],[1,"detail__hero"],[1,"detail__backdrop",3,"background-image"],[1,"detail__hero-gradient"],[1,"detail__content","container"],[1,"detail__layout"],[1,"detail__poster"],[3,"src","alt"],[1,"detail__poster-placeholder"],[1,"detail__info"],[1,"detail__title"],[1,"detail__rank"],[1,"detail__percentile"],[1,"detail__sub-ranks"],[1,"detail__sub-rank",3,"routerLink"],[1,"detail__sub-rank"],[1,"detail__meta"],[1,"detail__meta-item",3,"title"],[1,"detail__tagline"],[1,"detail__overview"],[1,"detail__ratings"],[1,"detail__actions"],[1,"btn-primary","detail__watch-btn",3,"routerLink"],["target","_blank","rel","noopener",1,"btn-secondary","detail__watch-btn","detail__imdb-btn",3,"href"],["target","_blank","rel","noopener",1,"btn-secondary","detail__watch-btn",3,"href"],[1,"btn-ghost","detail__fav-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor","stroke","currentColor","stroke-width","1"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"btn-secondary"],[1,"btn-secondary","detail__active-btn"],[1,"detail__playlist-wrap"],[1,"detail__share-wrap"],["aria-label","Share this film",1,"btn-ghost","detail__share-btn",3,"click"],["cx","18","cy","5","r","3"],["cx","6","cy","12","r","3"],["cx","18","cy","19","r","3"],["x1","8.59","y1","13.51","x2","15.42","y2","17.49"],["x1","15.41","y1","6.51","x2","8.59","y2","10.49"],[1,"detail__share-menu"],[1,"detail__user-rating"],[1,"detail__notes"],[1,"detail__review"],[1,"detail__details"],[1,"detail__available"],[1,"detail__context"],[1,"detail__cast-section"],["aria-label","More by director",1,"detail__similar"],["aria-label","Similar films",1,"detail__similar"],[1,"detail__backdrop"],[1,"detail__poster-title"],[1,"detail__poster-year"],[1,"detail__meta-sep"],[1,"detail__meta-item","detail__meta-link",3,"routerLink"],[1,"detail__meta-item"],[1,"detail__rating-card"],[1,"detail__rating-source"],[1,"detail__rating-score"],[3,"rating"],["d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"],[1,"btn-secondary",3,"click"],[1,"btn-secondary","detail__active-btn",3,"click"],[1,"btn-ghost","detail__playlist-btn",3,"click"],[1,"detail__share-option"],[1,"detail__share-option",3,"click"],["aria-label","Share on Twitter / X",1,"detail__share-option",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","currentColor"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["aria-label","Share on Facebook",1,"detail__share-option",3,"click"],["d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],["aria-label","Copy link to clipboard",1,"detail__share-option",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],[1,"detail__user-rating-label"],[3,"rated","rating","interactive"],["for","film-notes",1,"detail__notes-label"],["id","film-notes","placeholder","Add your thoughts about this film...","rows","3",1,"detail__notes-input",3,"blur","value"],["for","film-review",1,"detail__notes-label"],[1,"detail__review-display"],[1,"btn-secondary","detail__review-start"],[1,"detail__review-text"],[1,"btn-ghost","detail__review-edit",3,"click"],[1,"btn-secondary","detail__review-start",3,"click"],["id","film-review","placeholder","Share your thoughts on this film. What made it memorable?","rows","5",1,"detail__notes-input","detail__review-input",3,"blur","value"],[1,"detail__review-hint"],[1,"detail__detail-row"],[1,"detail__detail-label"],[1,"detail__director-count"],[3,"routerLink"],[1,"detail__tags"],[1,"detail__tag",3,"routerLink"],[3,"routerLink","queryParams"],[1,"detail__available-label"],["target","_blank","rel","noopener",1,"detail__source-badge","detail__source-badge--ia",3,"href"],["target","_blank","rel","noopener",1,"detail__source-badge","detail__source-badge--yt",3,"href"],["target","_blank","rel","noopener",1,"detail__source-badge","detail__source-badge--imdb",3,"href"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M4 19.5A2.5 2.5 0 0 1 6.5 17H20"],["d","M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"],["width","14","height","14","viewBox","0 0 24 24","fill","currentColor"],["d","M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.546 12 3.546 12 3.546s-7.505 0-9.377.504A3.016 3.016 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.504 9.376.504 9.376.504s7.505 0 9.377-.504a3.016 3.016 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"],[1,"detail__context-chip"],[1,"detail__section-note"],[1,"detail__cast"],[1,"cast-card",3,"routerLink"],["loading","lazy",3,"src","alt"],[1,"cast-card__placeholder"],[1,"cast-card__name"],[1,"cast-card__character"],[1,"detail__section-header"],[1,"detail__section-link",3,"routerLink"],[1,"detail__carousel-card",3,"routerLink"],[1,"detail__carousel-poster-wrap"],[1,"detail__carousel-placeholder"],["title","Watched",1,"detail__carousel-badge","detail__carousel-badge--watched"],["title","In watchlist",1,"detail__carousel-badge","detail__carousel-badge--watchlist"],[1,"detail__carousel-title"],[1,"detail__carousel-meta"],[1,"detail__carousel-reason"],[1,"text-secondary"],["routerLink","/browse",1,"btn-primary"]],template:function(t,i){if(t&1&&_(0,Re,1,0,"app-skeleton-detail")(1,dn,64,37,"div",0)(2,cn,7,0,"div",1),t&2){let o;m(i.loading()?0:(o=i.movie())?1:2,o)}},dependencies:[_e,H,G,ve,j],styles:[".detail__back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;position:absolute;top:var(--space-md);left:var(--space-lg);z-index:10;padding:6px 14px 6px 8px;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.15);border-radius:20px;color:var(--text-secondary);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.detail__back[_ngcontent-%COMP%]:hover{background:#000000b3;color:var(--text-primary);border-color:var(--accent-gold)}.detail[_ngcontent-%COMP%]{position:relative}.detail__hero[_ngcontent-%COMP%]{position:relative;height:350px;overflow:hidden}.detail__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background-size:cover;background-position:center top;opacity:.4}.detail__hero-gradient[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,transparent 30%,var(--bg-deep) 100%)}.detail__content[_ngcontent-%COMP%]{position:relative;margin-top:-120px;padding-bottom:var(--space-2xl)}.detail__layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr;gap:var(--space-xl)}.detail__poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:var(--radius-lg);box-shadow:var(--shadow-poster)}.detail__poster-placeholder[_ngcontent-%COMP%]{width:100%;aspect-ratio:2 / 3;background:linear-gradient(170deg,#1a1a1a,#222 40%,#1a1a1a);border-radius:var(--radius-lg);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-sm);box-shadow:var(--shadow-poster);font-family:var(--font-heading)}.detail__poster-title[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem;text-align:center;padding:0 var(--space-md)}.detail__poster-year[_ngcontent-%COMP%]{color:var(--accent-gold);font-size:1.6rem;font-weight:700;opacity:.5}.detail__rank[_ngcontent-%COMP%]{display:inline-block;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:var(--accent-gold);background:var(--accent-gold-dim);padding:2px 10px;border-radius:10px;margin-bottom:var(--space-sm)}.detail__percentile[_ngcontent-%COMP%]{display:inline-block;font-size:.7rem;font-weight:700;color:var(--text-primary);background:var(--bg-raised);border:1px solid var(--border-bright);padding:2px 8px;border-radius:10px;margin-left:var(--space-xs);margin-bottom:var(--space-sm);vertical-align:middle}.detail__sub-ranks[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap;margin-bottom:var(--space-sm)}.detail__sub-rank[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;color:var(--text-tertiary);background:var(--bg-raised);border:1px solid var(--border);padding:1px 8px;border-radius:10px;text-decoration:none;transition:color .2s,border-color .2s}.detail__sub-rank[_ngcontent-%COMP%]:hover{color:var(--accent-gold);border-color:var(--accent-gold)}.detail__title[_ngcontent-%COMP%]{font-size:2.2rem;margin-bottom:var(--space-sm)}.detail__meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);color:var(--text-secondary);font-size:1rem;margin-bottom:var(--space-lg)}.detail__meta-sep[_ngcontent-%COMP%]{color:var(--text-tertiary)}.detail__meta-link[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none}.detail__meta-link[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.detail__tagline[_ngcontent-%COMP%]{font-style:italic;color:var(--accent-cream);font-size:1.05rem;margin:0 0 var(--space-md);opacity:.85}.detail__overview[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.8;margin:0 0 var(--space-xl);font-size:.95rem}.detail__ratings[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);margin-bottom:var(--space-xl);flex-wrap:wrap}.detail__rating-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md) var(--space-lg);min-width:80px}.detail__rating-source[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;letter-spacing:.08em;color:var(--text-tertiary);font-weight:600}.detail__rating-score[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:var(--accent-gold);font-family:var(--font-heading)}.detail__actions[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);flex-wrap:wrap;margin-bottom:var(--space-xl)}.detail__watch-btn[_ngcontent-%COMP%]{padding:var(--space-md) var(--space-xl);font-size:1rem;border-radius:var(--radius-lg);display:inline-block}.detail__active-btn[_ngcontent-%COMP%]{border-color:var(--accent-gold);color:var(--accent-gold)}.detail__details[_ngcontent-%COMP%]{margin-bottom:var(--space-lg)}.detail__detail-row[_ngcontent-%COMP%]{display:flex;gap:var(--space-md);padding:var(--space-sm) 0;border-bottom:1px solid var(--border);font-size:.95rem}.detail__detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail__detail-label[_ngcontent-%COMP%]{color:var(--text-tertiary);min-width:90px;flex-shrink:0;font-size:.85rem;text-transform:uppercase;padding-top:2px}.detail__director-count[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);margin-left:4px}.detail__tags[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap}.detail__tag[_ngcontent-%COMP%]{background-color:var(--bg-raised);border:1px solid var(--border);border-radius:14px;padding:2px 12px;font-size:.85rem;color:var(--text-secondary);text-decoration:none;transition:border-color .2s,color .2s,background-color .2s}.detail__tag[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold);background-color:var(--accent-gold-dim)}.detail__available[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);flex-wrap:wrap}.detail__available-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.05em;font-weight:600}.detail__source-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;border-radius:14px;font-size:.8rem;font-weight:600;text-decoration:none;transition:all .2s;--_c: var(--text-secondary);background:color-mix(in srgb,var(--_c) 12%,transparent);color:var(--_c);border:1px solid color-mix(in srgb,var(--_c) 30%,transparent)}.detail__source-badge[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--_c) 22%,transparent);border-color:var(--_c)}.detail__source-badge--ia[_ngcontent-%COMP%]{--_c: rgb(25, 135, 84)}.detail__source-badge--yt[_ngcontent-%COMP%]{--_c: rgb(220, 50, 50)}.detail__source-badge--imdb[_ngcontent-%COMP%]{--_c: #f5c518}.detail__cast-section[_ngcontent-%COMP%]{margin-top:var(--space-2xl);padding-top:var(--space-xl);border-top:1px solid var(--border)}.detail__cast[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:var(--space-md)}.cast-card[_ngcontent-%COMP%]{text-align:center;text-decoration:none;color:inherit}@media(hover:hover)and (pointer:fine){.cast-card[_ngcontent-%COMP%]{transition:transform .2s}.cast-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}}.cast-card[_ngcontent-%COMP%]:hover   .cast-card__name[_ngcontent-%COMP%]{color:var(--accent-gold)}.cast-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;object-fit:cover;margin-bottom:var(--space-sm);box-shadow:var(--shadow-sm)}.cast-card__placeholder[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;background-color:var(--bg-raised);margin:0 auto var(--space-sm)}.cast-card__name[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;margin:0 0 2px;color:var(--text-primary)}.cast-card__character[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:0}.detail__playlist-wrap[_ngcontent-%COMP%], .detail__share-wrap[_ngcontent-%COMP%]{position:relative}.detail__playlist-btn[_ngcontent-%COMP%]{font-size:.9rem}.detail__share-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;font-size:.9rem}.detail__share-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:4px;background:var(--bg-surface);border:1px solid var(--border-bright);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);z-index:20;min-width:160px;padding:var(--space-xs)}.detail__share-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);width:100%;padding:var(--space-sm) var(--space-md);background:none;border:none;color:var(--text-secondary);font-size:.9rem;cursor:pointer;border-radius:var(--radius);min-height:40px}.detail__share-option[_ngcontent-%COMP%]:hover{background:var(--bg-hover);color:var(--text-primary)}.detail__fav-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:48px;min-height:48px;padding:0;color:var(--text-tertiary);transition:color .2s,transform .2s}.detail__fav-btn[_ngcontent-%COMP%]:hover, .detail__fav-btn--active[_ngcontent-%COMP%]{color:#e53e3e}.detail__fav-btn--active[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.detail__notes[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.detail__notes-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary);font-weight:600;margin-bottom:var(--space-sm)}.detail__notes-input[_ngcontent-%COMP%]{width:100%;padding:var(--space-md);background-color:var(--bg-surface);color:var(--text-primary);border:1px solid var(--border);border-radius:var(--radius-lg);font:.95rem/1.6 var(--font-body);resize:vertical;min-height:80px}.detail__notes-input[_ngcontent-%COMP%]:focus{border-color:var(--accent-gold);outline:none}.detail__user-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-md);margin-bottom:var(--space-xl);padding:var(--space-md) var(--space-lg);background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg)}.detail__user-rating-label[_ngcontent-%COMP%]{font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary);font-weight:600}.detail__section-header[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;margin-bottom:var(--space-sm)}.detail__section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.detail__section-link[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}.detail__section-note[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:var(--text-tertiary)}.detail__similar[_ngcontent-%COMP%]{margin-top:var(--space-2xl);padding-top:var(--space-xl);border-top:1px solid var(--border)}.detail__carousel-card[_ngcontent-%COMP%]{flex:0 0 140px;scroll-snap-align:start;text-decoration:none;color:var(--text-primary)}@media(hover:hover)and (pointer:fine){.detail__carousel-card[_ngcontent-%COMP%]{transition:transform .2s}.detail__carousel-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}}.detail__carousel-poster-wrap[_ngcontent-%COMP%]{position:relative}.detail__carousel-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:2 / 3;object-fit:cover;border-radius:var(--radius);margin-bottom:var(--space-xs)}.detail__carousel-badge[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700}.detail__carousel-badge--watched[_ngcontent-%COMP%]{background:#d4af37e6;color:var(--bg-deep)}.detail__carousel-badge--watchlist[_ngcontent-%COMP%]{background:#0009;color:var(--accent-gold);border:1px solid var(--accent-gold)}.detail__carousel-placeholder[_ngcontent-%COMP%]{width:100%;aspect-ratio:2 / 3;background:var(--bg-raised);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;padding:var(--space-sm);margin-bottom:var(--space-xs);font-size:.75rem;color:var(--text-tertiary)}.detail__carousel-title[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.detail__carousel-meta[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:0}.detail__carousel-reason[_ngcontent-%COMP%]{font-size:.65rem;color:var(--accent-gold);margin:2px 0 0;opacity:.85;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.detail__context[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-xs);margin-bottom:var(--space-xl)}.detail__context-chip[_ngcontent-%COMP%]{font-size:.75rem;padding:4px 12px;border-radius:14px;background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);white-space:nowrap}.detail__not-found[_ngcontent-%COMP%]{padding:var(--space-3xl) 0;text-align:center}.detail__review[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.detail__review-display[_ngcontent-%COMP%]{background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md) var(--space-lg)}.detail__review-text[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.8;font-size:.95rem;margin:0 0 var(--space-sm);white-space:pre-wrap}.detail__review-edit[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary)}.detail__review-edit[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.detail__review-start[_ngcontent-%COMP%]{font-size:.9rem}.detail__review-input[_ngcontent-%COMP%]{min-height:120px}.detail__review-hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:var(--space-xs) 0 0}.detail__imdb-btn[_ngcontent-%COMP%]{border-color:#f5c51880;color:#f5c518}.detail__imdb-btn[_ngcontent-%COMP%]:hover{background-color:#f5c5181a;border-color:#f5c518}@media(max-width:768px){.detail__hero[_ngcontent-%COMP%]{height:220px}.detail__content[_ngcontent-%COMP%]{margin-top:-60px}.detail__layout[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--space-lg)}.detail__poster[_ngcontent-%COMP%]{max-width:200px;margin:0 auto}.detail__title[_ngcontent-%COMP%]{font-size:1.8rem}.detail__actions[_ngcontent-%COMP%]{width:100%}.detail__watch-btn[_ngcontent-%COMP%]{flex:1;text-align:center}}@media(max-width:480px){.detail__poster[_ngcontent-%COMP%]{max-width:150px}.detail__title[_ngcontent-%COMP%]{font-size:1.5rem}.detail__ratings[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-sm)}.detail__rating-card[_ngcontent-%COMP%]{flex-direction:row;gap:var(--space-md);min-width:auto;padding:var(--space-sm) var(--space-md)}.detail__overview[_ngcontent-%COMP%]{font-size:.9rem}}"],changeDetection:0})};export{fe as MovieComponent};
