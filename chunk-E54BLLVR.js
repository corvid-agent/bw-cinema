import{a as te}from"./chunk-G5CE23PJ.js";import{a as ne,b as ie}from"./chunk-RH4PY6SG.js";import{a as ee}from"./chunk-SGVJUPTJ.js";import{a as Z}from"./chunk-5BGZ6L4W.js";import"./chunk-7G6M72YL.js";import{$ as p,Ba as q,Ca as U,Da as H,F as I,Ha as y,K as W,Ka as s,Ma as J,O as a,R as j,Za as K,_ as g,ba as B,ca as w,da as E,db as Q,ea as x,fa as l,ga as r,ha as b,la as k,lb as X,na as O,pa as u,ta as A,ua as F,v as T,wa as d,x as D,xa as v,y as S,ya as h,za as M}from"./chunk-TOYJLBVG.js";var ae=n=>["/decade",n],de=n=>["/movie",n],ce=n=>["/genre",n],re=n=>["/director",n],se=(n,t)=>t.decade,le=(n,t)=>t.name;function me(n,t){n&1&&(l(0,"div",0),b(1,"app-skeleton-grid",1),r()),n&2&&(a(),x("count",6))}function _e(n,t){if(n&1&&(l(0,"p",6),d(1),r()),n&2){let e=u(2);a(),v(e.notableFact())}}function ge(n,t){if(n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Languages"),r()()),n&2){let e=u(3);a(2),v(e.languageCount())}}function pe(n,t){if(n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4),r()()),n&2){let e=t;a(2),v(e.year),a(2),h("Peak Year (",e.count,")")}}function ve(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Primary Genre"),r()()),n&2&&(a(2),v(t))}function ue(n,t){if(n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"vs Catalog Avg"),r()()),n&2){let e=t;a(),F("director__stat-value--positive",e.startsWith("+")),a(),v(e)}}function fe(n,t){if(n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Avg Year"),r()()),n&2){let e=u(3);a(2),v(e.avgYear())}}function Ce(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Longest Gap"),r()()),n&2&&(a(2),h("",t,"yr"))}function xe(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Streamable"),r()()),n&2&&(a(2),h("",t,"%"))}function he(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Rating Range"),r()()),n&2&&(a(2),v(t))}function be(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Solo Directed"),r()()),n&2&&(a(2),h("",t,"%"))}function ye(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Film Age (yrs)"),r()()),n&2&&(a(2),v(t))}function Me(n,t){if(n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Genres"),r()()),n&2){let e=u(3);a(2),v(e.uniqueGenreCount())}}function De(n,t){if(n&1&&(l(0,"a",12)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Latest Film"),r()()),n&2){let e=t;x("routerLink",y(2,ae,e.decade)),a(2),v(e.year)}}function Se(n,t){if(n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Avg Film Age (yrs)"),r()()),n&2){let e=u(3);a(2),v(e.avgFilmAge())}}function we(n,t){if(n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Co-directed"),r()()),n&2){let e=u(3);a(2),v(e.coDirectedFilmCount())}}function Ee(n,t){if(n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Non-English"),r()()),n&2){let e=u(3);a(2),v(e.nonEnglishFilmCount())}}function Pe(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Median Rating"),r()()),n&2&&(a(2),v(t))}function Te(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Silent Era"),r()()),n&2&&(a(2),v(t))}function Oe(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Median Year"),r()()),n&2&&(a(2),v(t))}function Fe(n,t){n&1&&(l(0,"div",9)(1,"span",10),d(2),r(),l(3,"span",11),d(4,"Avg Title Length"),r()()),n&2&&(a(2),v(t))}function Ie(n,t){n&1&&(l(0,"div",9)(1,"span",24),d(2),r(),l(3,"span",11),d(4,"Longest Title"),r()()),n&2&&(a(2),v(t))}function ke(n,t){if(n&1&&(l(0,"a",12)(1,"span",10),d(2),r(),l(3,"span",11),d(4),r()()),n&2){let e=t;x("routerLink",y(3,ae,e.decade)),a(2),h("",e.decade,"s"),a(2),h("Best Decade (",e.avg,")")}}function Ae(n,t){if(n&1&&b(0,"img",26),n&2){let e=u();x("src",e.posterUrl,W)("alt",e.title)}}function Ne(n,t){if(n&1&&(l(0,"div",27),d(1),r()),n&2){let e=u();a(),v(e.title[0])}}function ze(n,t){if(n&1&&(l(0,"span",32),d(1),r()),n&2){let e=u();a(),h("\u2605 ",e.voteAverage.toFixed(1))}}function Ge(n,t){if(n&1&&(l(0,"div",13)(1,"a",25),g(2,Ae,1,2,"img",26)(3,Ne,2,1,"div",27),l(4,"div",28)(5,"span",29),d(6,"Best Rated Film"),r(),l(7,"strong",30),d(8),r(),l(9,"span",31),d(10),r(),g(11,ze,2,1,"span",32),r()()()),n&2){let e=t;a(),x("routerLink",y(6,de,e.id)),a(),p(e.posterUrl?2:3),a(6),v(e.title),a(2),M("",e.year," \xB7 ",e.genres.slice(0,2).join(", ")),a(),p(e.voteAverage>0?11:-1)}}function Re(n,t){if(n&1&&(l(0,"a",33),d(1),r()),n&2){let e=t.$implicit;x("routerLink",y(2,ce,e)),a(),v(e)}}function Le(n,t){if(n&1&&(l(0,"div",14),w(1,Re,2,4,"a",33,B),r()),n&2){let e=u(3);a(),E(e.topGenres())}}function Ye(n,t){if(n&1){let e=k();l(0,"button",40),O("click",function(){D(e);let o=u(4);return S(o.addUnwatchedToWatchlist())}),d(1),r()}if(n&2){let e=u(4);a(),h(" Add ",e.unwatchedFilms().length," unwatched to watchlist ")}}function $e(n,t){if(n&1&&(l(0,"div",15)(1,"div",34)(2,"span",35),d(3),r(),l(4,"span",36),d(5),r()(),l(6,"div",37),b(7,"div",38),r(),g(8,Ye,2,1,"button",39),r()),n&2){let e=u(3);a(3),M("",e.watchedCount()," of ",e.films().length," watched"),a(2),h("",e.completionPct(),"%"),a(2),A("width",e.completionPct(),"%"),a(),p(e.unwatchedFilms().length>0?8:-1)}}function Ve(n,t){if(n&1&&b(0,"app-movie-grid",20),n&2){let e=u(3);x("movies",e.sortedFilms())}}function We(n,t){if(n&1&&b(0,"app-movie-list",20),n&2){let e=u(3);x("movies",e.sortedFilms())}}function je(n,t){if(n&1&&(l(0,"div",43),b(1,"div",45),l(2,"span",46),d(3),r(),l(4,"span",47),d(5),r()()),n&2){let e=t.$implicit;x("title",e.decade+"s: "+e.count+" film"+(e.count!==1?"s":"")+", avg "+e.avgRating.toFixed(1)),a(),A("height",e.heightPct,"%"),a(2),v(e.count),a(2),h("",e.decade,"s")}}function Be(n,t){if(n&1&&(l(0,"p",44),d(1,"Peak decade: "),l(2,"strong"),d(3),r(),d(4," \u2014 highest average rating"),r()),n&2){let e=u(4);a(3),h("",e.peakDecade(),"s")}}function qe(n,t){if(n&1&&(l(0,"div",21)(1,"h2",41),d(2,"Career Arc"),r(),l(3,"div",42),w(4,je,6,5,"div",43,se),r(),g(6,Be,5,1,"p",44),r()),n&2){let e=u(3);a(4),E(e.careerTimeline()),a(2),p(e.peakDecade()?6:-1)}}function Ue(n,t){if(n&1&&(l(0,"a",49)(1,"span",50),d(2),r(),l(3,"span",51),d(4),r()()),n&2){let e=t.$implicit;x("routerLink",y(4,re,e.name)),a(2),v(e.name),a(2),M("",e.count," shared film",e.count!==1?"s":"")}}function He(n,t){if(n&1&&(l(0,"div",22)(1,"h2",41),d(2,"Frequent Collaborators"),r(),l(3,"div",48),w(4,Ue,5,6,"a",49,le),r()()),n&2){let e=u(3);a(4),E(e.collaborators())}}function Je(n,t){if(n&1&&(l(0,"a",49)(1,"span",50),d(2),r(),l(3,"span",51),d(4),r()()),n&2){let e=t.$implicit;x("routerLink",y(4,re,e.name)),a(2),v(e.name),a(2),M("",e.sharedGenres," shared genres \xB7 ",e.count," films")}}function Ke(n,t){if(n&1&&(l(0,"div",23)(1,"h2",41),d(2,"Similar Directors"),r(),l(3,"p",52),d(4,"Directors who work in similar genres"),r(),l(5,"div",48),w(6,Je,5,6,"a",49,le),r()()),n&2){let e=u(3);a(6),E(e.relatedDirectors())}}function Qe(n,t){if(n&1){let e=k();l(0,"div",8)(1,"div",9)(2,"span",10),d(3),r(),l(4,"span",11),d(5,"Active Years"),r()(),l(6,"div",9)(7,"span",10),d(8),r(),l(9,"span",11),d(10,"Avg. Rating"),r()(),l(11,"div",9)(12,"span",10),d(13),r(),l(14,"span",11),d(15,"Free to Watch"),r()(),l(16,"div",9)(17,"span",10),d(18),r(),l(19,"span",11),d(20,"Decades"),r()(),g(21,ge,5,1,"div",9),g(22,pe,5,2,"div",9),g(23,ve,5,1,"div",9),g(24,ue,5,3,"div",9),g(25,fe,5,1,"div",9),g(26,Ce,5,1,"div",9),g(27,xe,5,1,"div",9),g(28,he,5,1,"div",9),g(29,be,5,1,"div",9),g(30,ye,5,1,"div",9),g(31,Me,5,1,"div",9),g(32,De,5,4,"a",12),g(33,Se,5,1,"div",9),g(34,we,5,1,"div",9),g(35,Ee,5,1,"div",9),g(36,Pe,5,1,"div",9),g(37,Te,5,1,"div",9),g(38,Oe,5,1,"div",9),g(39,Fe,5,1,"div",9),g(40,Ie,5,1,"div",9),g(41,ke,5,5,"a",12),r(),g(42,Ge,12,8,"div",13),g(43,Le,3,0,"div",14),g(44,$e,9,6,"div",15),l(45,"div",16)(46,"div",17)(47,"button",18),O("click",function(){D(e);let o=u(2);return S(o.sortMode.set("rating"))}),d(48,"Top Rated"),r(),l(49,"button",18),O("click",function(){D(e);let o=u(2);return S(o.sortMode.set("chronological"))}),d(50,"Chronological"),r()(),l(51,"app-view-toggle",19),H("modeChange",function(o){D(e);let c=u(2);return U(c.viewMode,o)||(c.viewMode=o),S(o)}),r()(),g(52,Ve,1,1,"app-movie-grid",20)(53,We,1,1,"app-movie-list",20),g(54,qe,7,1,"div",21),g(55,He,6,0,"div",22),g(56,Ke,8,0,"div",23)}if(n&2){let e,i,o,c,m,f,C,P,N,z,G,R,L,Y,$,V,_=u(2);a(3),v(_.yearRange()),a(5),v(_.avgRating()),a(5),v(_.streamableCount()),a(5),v(_.decadesActive()),a(3),p(_.languageCount()>1?21:-1),a(),p((e=_.prolificYear())?22:-1,e),a(),p((i=_.primaryGenre())?23:-1,i),a(),p((o=_.ratingVsCatalog())?24:-1,o),a(),p(_.avgYear()?25:-1),a(),p((c=_.longestGap())?26:-1,c),a(),p((m=_.streamablePct())?27:-1,m),a(),p((f=_.ratingsSpread())?28:-1,f),a(),p((C=_.soloDirectedPct())?29:-1,C),a(),p((P=_.filmAgeRange())?30:-1,P),a(),p(_.uniqueGenreCount()>2?31:-1),a(),p((N=_.newestFilmYear())?32:-1,N),a(),p(_.avgFilmAge()>0?33:-1),a(),p(_.coDirectedFilmCount()>0?34:-1),a(),p(_.nonEnglishFilmCount()>0?35:-1),a(),p((z=_.medianRating())?36:-1,z),a(),p((G=_.silentEraCount())?37:-1,G),a(),p((R=_.medianYear())?38:-1,R),a(),p((L=_.avgTitleLength())?39:-1,L),a(),p((Y=_.longestTitle())?40:-1,Y),a(),p(($=_.bestDecade())?41:-1,$),a(),p((V=_.bestFilm())?42:-1,V),a(),p(_.topGenres().length>0?43:-1),a(),p(_.watchedCount()>0||_.unwatchedFilms().length>0?44:-1),a(3),F("director__sort-btn--active",_.sortMode()==="rating"),a(2),F("director__sort-btn--active",_.sortMode()==="chronological"),a(2),q("mode",_.viewMode),a(),p(_.viewMode()==="grid"?52:53),a(2),p(_.careerTimeline().length>1?54:-1),a(),p(_.collaborators().length>0?55:-1),a(),p(_.relatedDirectors().length>0?56:-1)}}function Xe(n,t){n&1&&(l(0,"div",7)(1,"p"),d(2,"No films found for this director."),r()())}function Ze(n,t){if(n&1&&(l(0,"div",0)(1,"div",2)(2,"div")(3,"p",3),d(4,"Director"),r(),l(5,"h1",4),d(6),r(),l(7,"p",5),d(8),r(),g(9,_e,2,1,"p",6),r()(),g(10,Qe,57,37)(11,Xe,3,0,"div",7),r()),n&2){let e=u();a(6),v(e.name()),a(2),M("",e.films().length," film",e.films().length!==1?"s":""," in catalog"),a(),p(e.notableFact()?9:-1),a(),p(e.films().length>0?10:11)}}var oe=class n{name=J.required();catalog=T(X);collectionService=T(Z);titleService=T(K);viewMode=I("grid");sortMode=I("rating");films=s(()=>this.catalog.movies().filter(t=>t.directors.some(e=>e===this.name())));sortedFilms=s(()=>{let t=[...this.films()];return this.sortMode()==="chronological"?t.sort((e,i)=>e.year-i.year):t.sort((e,i)=>i.voteAverage-e.voteAverage)});collaborators=s(()=>{let t=new Map;for(let e of this.films())for(let i of e.directors)i!==this.name()&&t.set(i,(t.get(i)??0)+1);return[...t.entries()].filter(([,e])=>e>=1).sort((e,i)=>i[1]-e[1]).slice(0,8).map(([e,i])=>({name:e,count:i}))});yearRange=s(()=>{let t=this.films();if(t.length===0)return"\u2014";let e=t.map(c=>c.year),i=Math.min(...e),o=Math.max(...e);return i===o?`${i}`:`${i}\u2013${o}`});avgRating=s(()=>{let t=this.films().filter(e=>e.voteAverage>0);return t.length===0?"\u2014":(t.reduce((e,i)=>e+i.voteAverage,0)/t.length).toFixed(1)});streamableCount=s(()=>this.films().filter(t=>t.isStreamable).length);decadesActive=s(()=>new Set(this.films().map(e=>Math.floor(e.year/10)*10)).size);languageCount=s(()=>{let t=new Set;for(let e of this.films())e.language&&t.add(e.language);return t.size});newestFilmYear=s(()=>{let t=this.films();if(t.length<2)return null;let e=t.reduce((i,o)=>o.year>i.year?o:i);return{year:e.year,decade:Math.floor(e.year/10)*10}});uniqueGenreCount=s(()=>{let t=new Set;for(let e of this.films())for(let i of e.genres)t.add(i);return t.size});primaryGenre=s(()=>{let t=new Map;for(let i of this.films())for(let o of i.genres)t.set(o,(t.get(o)??0)+1);let e=[...t.entries()].sort((i,o)=>o[1]-i[1])[0];return!e||e[1]<2?null:e[0]});avgYear=s(()=>{let t=this.films();return t.length<2?null:Math.round(t.reduce((e,i)=>e+i.year,0)/t.length)});bestDecade=s(()=>{let t=this.films().filter(o=>o.voteAverage>0);if(t.length<4)return null;let e=new Map;for(let o of t){let c=Math.floor(o.year/10)*10,m=e.get(c)??{total:0,count:0};m.total+=o.voteAverage,m.count++,e.set(c,m)}return e.size<2?null:[...e.entries()].filter(([,o])=>o.count>=2).map(([o,c])=>({decade:o,avg:(c.total/c.count).toFixed(1)})).sort((o,c)=>parseFloat(c.avg)-parseFloat(o.avg))[0]??null});ratingVsCatalog=s(()=>{let t=this.films().filter(m=>m.voteAverage>0);if(t.length<3)return null;let e=t.reduce((m,f)=>m+f.voteAverage,0)/t.length,i=this.catalog.movies().filter(m=>m.voteAverage>0);if(i.length===0)return null;let o=i.reduce((m,f)=>m+f.voteAverage,0)/i.length,c=e-o;return Math.abs(c)<.2?null:c>0?`+${c.toFixed(1)}`:c.toFixed(1)});prolificYear=s(()=>{let t=this.films();if(t.length<3)return null;let e=new Map;for(let o of t)e.set(o.year,(e.get(o.year)??0)+1);let i=[...e.entries()].sort((o,c)=>c[1]-o[1])[0];return!i||i[1]<2?null:{year:i[0],count:i[1]}});bestFilm=s(()=>{let t=this.films().filter(e=>e.voteAverage>0);return t.length===0?null:t.reduce((e,i)=>i.voteAverage>e.voteAverage?i:e)});topGenres=s(()=>{let t=new Map;for(let e of this.films())for(let i of e.genres)t.set(i,(t.get(i)??0)+1);return[...t.entries()].sort((e,i)=>i[1]-e[1]).slice(0,6).map(([e])=>e)});notableFact=s(()=>{let t=this.films();if(t.length<2)return null;let e=t.map(C=>C.year),i=Math.max(...e)-Math.min(...e),o=t.filter(C=>C.voteAverage>0),c=o.length>0?o.reduce((C,P)=>C+P.voteAverage,0)/o.length:0,m=t.every(C=>C.isStreamable),f=new Set(t.flatMap(C=>C.genres));return m&&t.length>=3?`All ${t.length} films free to watch`:c>=8&&o.length>=3?`Exceptional average: ${c.toFixed(1)}/10 across ${o.length} rated films`:i>=30?`Career spanning ${i} years`:f.size===1?`Dedicated ${[...f][0]} filmmaker`:t.length>=15?"One of the most prolific directors in catalog":null});careerTimeline=s(()=>{let t=this.films();if(t.length===0)return[];let e=new Map;for(let c of t){let m=Math.floor(c.year/10)*10,f=e.get(m)??{count:0,totalRating:0};f.count++,f.totalRating+=c.voteAverage,e.set(m,f)}let i=[...e.entries()].sort((c,m)=>c[0]-m[0]).map(([c,{count:m,totalRating:f}])=>({decade:c,count:m,avgRating:f/m,heightPct:0})),o=Math.max(...i.map(c=>c.count));for(let c of i)c.heightPct=o>0?Math.round(c.count/o*100):0;return i});peakDecade=s(()=>{let t=this.careerTimeline();return t.length<2?null:t.reduce((i,o)=>o.avgRating>i.avgRating?o:i).decade});relatedDirectors=s(()=>{let t=new Set(this.films().flatMap(o=>o.genres));if(t.size===0)return[];let e=new Set(this.collaborators().map(o=>o.name)),i=new Map;for(let o of this.catalog.movies())for(let c of o.directors){if(c===this.name()||e.has(c))continue;let m=i.get(c)??{genres:new Set,count:0};for(let f of o.genres)m.genres.add(f);m.count++,i.set(c,m)}return[...i.entries()].filter(([,o])=>o.count>=3).map(([o,c])=>{let m=[...c.genres].filter(f=>t.has(f)).length;return{name:o,sharedGenres:m,count:c.count}}).filter(o=>o.sharedGenres>=2).sort((o,c)=>c.sharedGenres-o.sharedGenres||c.count-o.count).slice(0,6)});watchedCount=s(()=>{let t=this.collectionService.watchedIds();return this.films().filter(e=>t.has(e.id)).length});unwatchedFilms=s(()=>{let t=this.collectionService.watchedIds(),e=this.collectionService.watchlistIds();return this.films().filter(i=>!t.has(i.id)&&!e.has(i.id))});completionPct=s(()=>{let t=this.films().length;return t>0?Math.round(this.watchedCount()/t*100):0});longestGap=s(()=>{let t=this.films();if(t.length<3)return null;let e=[...new Set(t.map(o=>o.year))].sort((o,c)=>o-c);if(e.length<2)return null;let i=0;for(let o=1;o<e.length;o++)i=Math.max(i,e[o]-e[o-1]);return i<5?null:i});streamablePct=s(()=>{let t=this.films();if(t.length<2)return null;let e=Math.round(this.streamableCount()/t.length*100);return e===0||e===100?null:e});filmAgeRange=s(()=>{let t=this.films();if(t.length<2)return null;let e=new Date().getFullYear(),i=t.map(m=>m.year),o=e-Math.min(...i),c=e-Math.max(...i);return o===c||c<30?null:`${c}\u2013${o}`});avgFilmAge=s(()=>{let t=this.films();if(t.length<2)return 0;let e=new Date().getFullYear(),i=Math.round(t.reduce((o,c)=>o+(e-c.year),0)/t.length);return i>0?i:0});coDirectedFilmCount=s(()=>{let t=this.films();return t.length<2?0:t.filter(e=>e.directors.length>1).length});nonEnglishFilmCount=s(()=>{let t=this.films();return t.length<2?0:t.filter(e=>e.language&&e.language!=="English"&&e.language!=="en").length});medianRating=s(()=>{let t=this.films().filter(c=>c.voteAverage>0);if(t.length<3)return null;let e=t.map(c=>c.voteAverage).sort((c,m)=>c-m),i=Math.floor(e.length/2);return(e.length%2===0?(e[i-1]+e[i])/2:e[i]).toFixed(1)});soloDirectedPct=s(()=>{let t=this.films();if(t.length<3)return null;let e=t.filter(o=>o.directors.length===1).length,i=Math.round(e/t.length*100);return i===100||i===0?null:i});ratingsSpread=s(()=>{let t=this.films().filter(c=>c.voteAverage>0);if(t.length<3)return null;let e=t.map(c=>c.voteAverage).sort((c,m)=>c-m),i=e[0],o=e[e.length-1];return o-i<2?null:`${i.toFixed(1)}\u2013${o.toFixed(1)}`});silentEraCount=s(()=>{let t=this.films().filter(e=>e.year<1930).length;return t>0?t:null});avgTitleLength=s(()=>{let t=this.films();return t.length<3?null:Math.round(t.reduce((e,i)=>e+i.title.length,0)/t.length)});longestTitle=s(()=>{let t=this.films();if(t.length<3)return null;let e=t.reduce((i,o)=>i.title.length>=o.title.length?i:o);return e.title.length>=15?e.title:null});medianYear=s(()=>{let t=this.films();if(t.length<3)return null;let e=t.map(o=>o.year).sort((o,c)=>o-c),i=Math.floor(e.length/2);return e.length%2===0?Math.round((e[i-1]+e[i])/2):e[i]});ngOnInit(){this.catalog.load(),this.titleService.setTitle(`${this.name()} \u2014 BW Cinema`)}addUnwatchedToWatchlist(){for(let t of this.unwatchedFilms())this.collectionService.addToWatchlist(t.id)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-director"]],inputs:{name:[1,"name"]},decls:2,vars:1,consts:[[1,"director","container"],[3,"count"],[1,"director__header"],[1,"director__eyebrow"],[1,"director__name"],[1,"director__meta"],[1,"director__fact"],[1,"director__empty"],[1,"director__stats"],[1,"director__stat"],[1,"director__stat-value"],[1,"director__stat-label"],[1,"director__stat","director__stat--link",3,"routerLink"],[1,"director__best-film"],[1,"director__genres"],[1,"director__completion"],[1,"director__view-bar"],[1,"director__sort-btns"],[1,"director__sort-btn",3,"click"],[3,"modeChange","mode"],[3,"movies"],[1,"director__timeline"],[1,"director__collaborators"],[1,"director__related"],[1,"director__stat-value",2,"font-size","0.7em"],[1,"director__best-film-card",3,"routerLink"],["loading","lazy",1,"director__best-film-poster",3,"src","alt"],[1,"director__best-film-placeholder"],[1,"director__best-film-info"],[1,"director__best-film-label"],[1,"director__best-film-title"],[1,"director__best-film-meta"],[1,"director__best-film-rating"],[1,"director__genre-tag",3,"routerLink"],[1,"director__completion-header"],[1,"director__completion-text"],[1,"director__completion-pct"],[1,"director__completion-track"],[1,"director__completion-fill"],[1,"director__add-unwatched"],[1,"director__add-unwatched",3,"click"],[1,"director__section-title"],[1,"director__timeline-chart"],[1,"director__timeline-bar",3,"title"],[1,"director__timeline-note"],[1,"director__timeline-fill"],[1,"director__timeline-count"],[1,"director__timeline-label"],[1,"director__collab-list"],[1,"director__collab-card",3,"routerLink"],[1,"director__collab-name"],[1,"director__collab-count"],[1,"director__related-desc"]],template:function(e,i){e&1&&g(0,me,2,1,"div",0)(1,Ze,12,5,"div",0),e&2&&p(i.catalog.loading()?0:1)},dependencies:[Q,ee,ne,ie,te],styles:[".director[_ngcontent-%COMP%]{padding:var(--space-xl) 0}.director__header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:var(--space-lg)}.director__eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;font-size:.8rem;font-weight:600;color:var(--accent-gold);margin:0 0 var(--space-xs)}.director__name[_ngcontent-%COMP%]{margin-bottom:var(--space-xs)}.director__meta[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95rem;margin:0}.director__fact[_ngcontent-%COMP%]{font-size:.85rem;font-style:italic;color:var(--accent-gold);margin:var(--space-xs) 0 0}.director__stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:var(--space-md);margin-bottom:var(--space-xl)}.director__stat[_ngcontent-%COMP%]{background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md);text-align:center}.director__stat-value[_ngcontent-%COMP%]{display:block;font-family:var(--font-heading);font-size:1.5rem;font-weight:700;color:var(--accent-gold);margin-bottom:2px}.director__stat-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary)}.director__stat-value--positive[_ngcontent-%COMP%]{color:#198754}.director__stat--link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;cursor:pointer;transition:border-color .2s}.director__stat--link[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.director__best-film[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.director__best-film-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-lg);padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-xl);text-decoration:none;color:inherit;transition:border-color .2s,box-shadow .2s}.director__best-film-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);box-shadow:var(--shadow-md);color:inherit}.director__best-film-poster[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;object-fit:cover;border-radius:var(--radius);flex-shrink:0}.director__best-film-placeholder[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;background:var(--bg-raised);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-family:var(--font-heading);color:var(--text-tertiary);font-size:1.2rem;flex-shrink:0}.director__best-film-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.director__best-film-label[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;letter-spacing:.1em;color:var(--accent-gold);font-weight:600}.director__best-film-title[_ngcontent-%COMP%]{font-size:1.1rem}.director__best-film-meta[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.director__best-film-rating[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1rem;font-weight:700;color:var(--accent-gold)}.director__genres[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-sm);margin-bottom:var(--space-xl)}.director__genre-tag[_ngcontent-%COMP%]{font-size:.85rem;padding:4px 14px;border:1px solid var(--border-bright);border-radius:16px;color:var(--text-secondary);text-decoration:none;transition:all .2s}.director__genre-tag[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold);background-color:var(--accent-gold-dim)}.director__completion[_ngcontent-%COMP%]{background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md) var(--space-lg);margin-bottom:var(--space-lg)}.director__completion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-sm)}.director__completion-text[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.director__completion-pct[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1.1rem;font-weight:700;color:var(--accent-gold)}.director__completion-track[_ngcontent-%COMP%]{height:8px;background:var(--bg-raised);border-radius:4px;overflow:hidden;margin-bottom:var(--space-sm)}.director__completion-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-gold);border-radius:4px;transition:width .4s ease}.director__add-unwatched[_ngcontent-%COMP%]{background:none;border:none;color:var(--accent-gold);font-size:.85rem;font-weight:600;padding:0;min-height:auto;min-width:auto;cursor:pointer}.director__add-unwatched[_ngcontent-%COMP%]:hover{text-decoration:underline}.director__view-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--space-md);margin-bottom:var(--space-lg)}.director__sort-btns[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap}.director__sort-btn[_ngcontent-%COMP%]{padding:6px 14px;border-radius:var(--radius-lg);background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.director__sort-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.director__sort-btn--active[_ngcontent-%COMP%]{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.director__section-title[_ngcontent-%COMP%]{font-size:1.2rem;margin:var(--space-2xl) 0 var(--space-lg)}.director__collaborators[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding-top:var(--space-lg);margin-top:var(--space-xl)}.director__collab-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-md)}.director__collab-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;transition:all .2s}.director__collab-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:inherit}.director__collab-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.director__collab-count[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);margin-top:2px}.director__timeline[_ngcontent-%COMP%]{margin-bottom:var(--space-xl);border-top:1px solid var(--border);padding-top:var(--space-lg)}.director__timeline-chart[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:var(--space-md);height:120px;padding:var(--space-md) 0}.director__timeline-bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%;position:relative;cursor:default}.director__timeline-fill[_ngcontent-%COMP%]{width:100%;max-width:48px;background:linear-gradient(to top,var(--accent-gold),var(--accent-gold-dim));border-radius:4px 4px 0 0;min-height:4px;transition:height .4s ease}.director__timeline-count[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;color:var(--accent-gold);margin-bottom:2px}.director__timeline-label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-tertiary);margin-top:var(--space-xs)}.director__timeline-note[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);margin-top:var(--space-sm)}.director__related[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding-top:var(--space-lg);margin-top:var(--space-xl)}.director__related-desc[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-tertiary);margin:0 0 var(--space-md)}.director__empty[_ngcontent-%COMP%]{text-align:center;padding:var(--space-3xl);color:var(--text-tertiary)}@media(max-width:768px){.director__stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:480px){.director__stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.director__header[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-md)}.director__sort-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem}.director__collab-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.director__view-bar[_ngcontent-%COMP%]{flex-wrap:wrap}}"],changeDetection:0})};export{oe as DirectorComponent};
