import{a as Ce}from"./chunk-G5CE23PJ.js";import{a as xe,b as he}from"./chunk-RH4PY6SG.js";import{a as fe}from"./chunk-SGVJUPTJ.js";import{a as ve}from"./chunk-5BGZ6L4W.js";import"./chunk-7G6M72YL.js";import{$ as g,Ba as ce,Ca as se,Da as me,F as N,Ha as y,K as re,Ka as s,Ma as _e,O as o,R as le,Za as ge,_,ba as de,ca as E,da as w,db as pe,ea as h,fa as r,ga as a,ha as b,la as O,lb as ue,na as F,pa as v,ta as k,ua as I,v as P,wa as l,x as S,xa as u,y as D,ya as C,za as M}from"./chunk-TOYJLBVG.js";var ye=n=>["/decade",n],De=n=>["/movie",n],Ee=n=>["/genre",n],Me=n=>["/director",n],we=(n,e)=>e.decade,Se=(n,e)=>e.name;function Te(n,e){n&1&&(r(0,"div",0),b(1,"app-skeleton-grid",1),a()),n&2&&(o(),h("count",6))}function Pe(n,e){if(n&1&&(r(0,"p",6),l(1),a()),n&2){let t=v(2);o(),u(t.notableFact())}}function Fe(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Languages"),a()()),n&2){let t=v(3);o(2),u(t.languageCount())}}function Ie(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4),a()()),n&2){let t=e;o(2),u(t.year),o(2),C("Peak Year (",t.count,")")}}function Ne(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Primary Genre"),a()()),n&2&&(o(2),u(e))}function Oe(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"vs Catalog Avg"),a()()),n&2){let t=e;o(),I("director__stat-value--positive",t.startsWith("+")),o(),u(t)}}function ke(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Avg Year"),a()()),n&2){let t=v(3);o(2),u(t.avgYear())}}function Ae(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Longest Gap"),a()()),n&2&&(o(2),C("",e,"yr"))}function Re(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Streamable"),a()()),n&2&&(o(2),C("",e,"%"))}function ze(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Rating Range"),a()()),n&2&&(o(2),u(e))}function Ge(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Solo Directed"),a()()),n&2&&(o(2),C("",e,"%"))}function Le(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Film Age (yrs)"),a()()),n&2&&(o(2),u(e))}function Ye(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Genres"),a()()),n&2){let t=v(3);o(2),u(t.uniqueGenreCount())}}function $e(n,e){if(n&1&&(r(0,"a",12)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Latest Film"),a()()),n&2){let t=e;h("routerLink",y(2,ye,t.decade)),o(2),u(t.year)}}function Ve(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Avg Film Age (yrs)"),a()()),n&2){let t=v(3);o(2),u(t.avgFilmAge())}}function We(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Co-directed"),a()()),n&2){let t=v(3);o(2),u(t.coDirectedFilmCount())}}function qe(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Non-English"),a()()),n&2){let t=v(3);o(2),u(t.nonEnglishFilmCount())}}function je(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Median Rating"),a()()),n&2&&(o(2),u(e))}function Be(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Silent Era"),a()()),n&2&&(o(2),u(e))}function He(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Median Year"),a()()),n&2&&(o(2),u(e))}function Ue(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Avg Title Length"),a()()),n&2&&(o(2),u(e))}function Je(n,e){n&1&&(r(0,"div",9)(1,"span",24),l(2),a(),r(3,"span",11),l(4,"Longest Title"),a()()),n&2&&(o(2),u(e))}function Ke(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Rated 7.0+"),a()()),n&2&&(o(2),u(e))}function Qe(n,e){n&1&&(r(0,"div",9)(1,"span",24),l(2),a(),r(3,"span",11),l(4,"Shortest Title"),a()()),n&2&&(o(2),u(e))}function Xe(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Free & Rated 7+"),a()()),n&2){let t=v(3);o(2),u(t.streamableHighRatedCount())}}function Ze(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Avg Films/Decade"),a()()),n&2&&(o(2),u(e))}function et(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Top Genre"),a()()),n&2&&(o(2),C("",e,"%"))}function tt(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Avg Genres/Film"),a()()),n&2&&(o(2),u(e))}function nt(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"IMDb Linked"),a()()),n&2&&(o(2),C("",e,"%"))}function it(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"On YouTube"),a()()),n&2&&(o(2),u(e))}function ot(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Non-English"),a()()),n&2&&(o(2),C("",e,"%"))}function at(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"On IA"),a()()),n&2&&(o(2),u(e))}function rt(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Newest Free"),a()()),n&2&&(o(2),u(e))}function lt(n,e){n&1&&(r(0,"div",9)(1,"span",25),l(2),a(),r(3,"span",11),l(4,"Earliest Film"),a()()),n&2&&(o(2),u(e))}function dt(n,e){n&1&&(r(0,"div",9)(1,"span",25),l(2),a(),r(3,"span",11),l(4,"Latest Film"),a()()),n&2&&(o(2),u(e))}function ct(n,e){if(n&1&&(r(0,"a",12)(1,"span",10),l(2),a(),r(3,"span",11),l(4),a()()),n&2){let t=e;h("routerLink",y(3,ye,t.decade)),o(2),C("",t.decade,"s"),o(2),C("Best Decade (",t.avg,")")}}function st(n,e){n&1&&(r(0,"div",9)(1,"span",25),l(2),a(),r(3,"span",11),l(4,"Highest Rated"),a()()),n&2&&(o(2),u(e))}function mt(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Avg Gap Between Films"),a()()),n&2&&(o(2),C("",e," yr"))}function _t(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Languages"),a()()),n&2&&(o(2),u(e))}function gt(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Pre-1940"),a()()),n&2){let t=v(3);o(2),u(t.preWarFilmCount())}}function pt(n,e){if(n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"IMDb Linked"),a()()),n&2){let t=v(3);o(2),u(t.imdbLinkedCount())}}function ut(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Median \u2605"),a()()),n&2&&(o(2),u(e))}function vt(n,e){n&1&&(r(0,"div",9)(1,"span",10),l(2),a(),r(3,"span",11),l(4,"Have Posters"),a()()),n&2&&(o(2),C("",e,"%"))}function ft(n,e){if(n&1&&b(0,"img",27),n&2){let t=v();h("src",t.posterUrl,re)("alt",t.title)}}function Ct(n,e){if(n&1&&(r(0,"div",28),l(1),a()),n&2){let t=v();o(),u(t.title[0])}}function xt(n,e){if(n&1&&(r(0,"span",33),l(1),a()),n&2){let t=v();o(),C("\u2605 ",t.voteAverage.toFixed(1))}}function ht(n,e){if(n&1&&(r(0,"div",13)(1,"a",26),_(2,ft,1,2,"img",27)(3,Ct,2,1,"div",28),r(4,"div",29)(5,"span",30),l(6,"Best Rated Film"),a(),r(7,"strong",31),l(8),a(),r(9,"span",32),l(10),a(),_(11,xt,2,1,"span",33),a()()()),n&2){let t=e;o(),h("routerLink",y(6,De,t.id)),o(),g(t.posterUrl?2:3),o(6),u(t.title),o(2),M("",t.year," \xB7 ",t.genres.slice(0,2).join(", ")),o(),g(t.voteAverage>0?11:-1)}}function bt(n,e){if(n&1&&(r(0,"a",34),l(1),a()),n&2){let t=e.$implicit;h("routerLink",y(2,Ee,t)),o(),u(t)}}function yt(n,e){if(n&1&&(r(0,"div",14),E(1,bt,2,4,"a",34,de),a()),n&2){let t=v(3);o(),w(t.topGenres())}}function Mt(n,e){if(n&1){let t=O();r(0,"button",41),F("click",function(){S(t);let d=v(4);return D(d.addUnwatchedToWatchlist())}),l(1),a()}if(n&2){let t=v(4);o(),C(" Add ",t.unwatchedFilms().length," unwatched to watchlist ")}}function St(n,e){if(n&1&&(r(0,"div",15)(1,"div",35)(2,"span",36),l(3),a(),r(4,"span",37),l(5),a()(),r(6,"div",38),b(7,"div",39),a(),_(8,Mt,2,1,"button",40),a()),n&2){let t=v(3);o(3),M("",t.watchedCount()," of ",t.films().length," watched"),o(2),C("",t.completionPct(),"%"),o(2),k("width",t.completionPct(),"%"),o(),g(t.unwatchedFilms().length>0?8:-1)}}function Dt(n,e){if(n&1&&b(0,"app-movie-grid",20),n&2){let t=v(3);h("movies",t.sortedFilms())}}function Et(n,e){if(n&1&&b(0,"app-movie-list",20),n&2){let t=v(3);h("movies",t.sortedFilms())}}function wt(n,e){if(n&1&&(r(0,"div",44),b(1,"div",46),r(2,"span",47),l(3),a(),r(4,"span",48),l(5),a()()),n&2){let t=e.$implicit;h("title",t.decade+"s: "+t.count+" film"+(t.count!==1?"s":"")+", avg "+t.avgRating.toFixed(1)),o(),k("height",t.heightPct,"%"),o(2),u(t.count),o(2),C("",t.decade,"s")}}function Tt(n,e){if(n&1&&(r(0,"p",45),l(1,"Peak decade: "),r(2,"strong"),l(3),a(),l(4," \u2014 highest average rating"),a()),n&2){let t=v(4);o(3),C("",t.peakDecade(),"s")}}function Pt(n,e){if(n&1&&(r(0,"div",21)(1,"h2",42),l(2,"Career Arc"),a(),r(3,"div",43),E(4,wt,6,5,"div",44,we),a(),_(6,Tt,5,1,"p",45),a()),n&2){let t=v(3);o(4),w(t.careerTimeline()),o(2),g(t.peakDecade()?6:-1)}}function Ft(n,e){if(n&1&&(r(0,"a",50)(1,"span",51),l(2),a(),r(3,"span",52),l(4),a()()),n&2){let t=e.$implicit;h("routerLink",y(4,Me,t.name)),o(2),u(t.name),o(2),M("",t.count," shared film",t.count!==1?"s":"")}}function It(n,e){if(n&1&&(r(0,"div",22)(1,"h2",42),l(2,"Frequent Collaborators"),a(),r(3,"div",49),E(4,Ft,5,6,"a",50,Se),a()()),n&2){let t=v(3);o(4),w(t.collaborators())}}function Nt(n,e){if(n&1&&(r(0,"a",50)(1,"span",51),l(2),a(),r(3,"span",52),l(4),a()()),n&2){let t=e.$implicit;h("routerLink",y(4,Me,t.name)),o(2),u(t.name),o(2),M("",t.sharedGenres," shared genres \xB7 ",t.count," films")}}function Ot(n,e){if(n&1&&(r(0,"div",23)(1,"h2",42),l(2,"Similar Directors"),a(),r(3,"p",53),l(4,"Directors who work in similar genres"),a(),r(5,"div",49),E(6,Nt,5,6,"a",50,Se),a()()),n&2){let t=v(3);o(6),w(t.relatedDirectors())}}function kt(n,e){if(n&1){let t=O();r(0,"div",8)(1,"div",9)(2,"span",10),l(3),a(),r(4,"span",11),l(5,"Active Years"),a()(),r(6,"div",9)(7,"span",10),l(8),a(),r(9,"span",11),l(10,"Avg. Rating"),a()(),r(11,"div",9)(12,"span",10),l(13),a(),r(14,"span",11),l(15,"Free to Watch"),a()(),r(16,"div",9)(17,"span",10),l(18),a(),r(19,"span",11),l(20,"Decades"),a()(),_(21,Fe,5,1,"div",9),_(22,Ie,5,2,"div",9),_(23,Ne,5,1,"div",9),_(24,Oe,5,3,"div",9),_(25,ke,5,1,"div",9),_(26,Ae,5,1,"div",9),_(27,Re,5,1,"div",9),_(28,ze,5,1,"div",9),_(29,Ge,5,1,"div",9),_(30,Le,5,1,"div",9),_(31,Ye,5,1,"div",9),_(32,$e,5,4,"a",12),_(33,Ve,5,1,"div",9),_(34,We,5,1,"div",9),_(35,qe,5,1,"div",9),_(36,je,5,1,"div",9),_(37,Be,5,1,"div",9),_(38,He,5,1,"div",9),_(39,Ue,5,1,"div",9),_(40,Je,5,1,"div",9),_(41,Ke,5,1,"div",9),_(42,Qe,5,1,"div",9),_(43,Xe,5,1,"div",9),_(44,Ze,5,1,"div",9),_(45,et,5,1,"div",9),_(46,tt,5,1,"div",9),_(47,nt,5,1,"div",9),_(48,it,5,1,"div",9),_(49,ot,5,1,"div",9),_(50,at,5,1,"div",9),_(51,rt,5,1,"div",9),_(52,lt,5,1,"div",9),_(53,dt,5,1,"div",9),_(54,ct,5,5,"a",12),_(55,st,5,1,"div",9),_(56,mt,5,1,"div",9),_(57,_t,5,1,"div",9),_(58,gt,5,1,"div",9),_(59,pt,5,1,"div",9),_(60,ut,5,1,"div",9),_(61,vt,5,1,"div",9),a(),_(62,ht,12,8,"div",13),_(63,yt,3,0,"div",14),_(64,St,9,6,"div",15),r(65,"div",16)(66,"div",17)(67,"button",18),F("click",function(){S(t);let d=v(2);return D(d.sortMode.set("rating"))}),l(68,"Top Rated"),a(),r(69,"button",18),F("click",function(){S(t);let d=v(2);return D(d.sortMode.set("chronological"))}),l(70,"Chronological"),a()(),r(71,"app-view-toggle",19),me("modeChange",function(d){S(t);let c=v(2);return se(c.viewMode,d)||(c.viewMode=d),D(d)}),a()(),_(72,Dt,1,1,"app-movie-grid",20)(73,Et,1,1,"app-movie-list",20),_(74,Pt,7,1,"div",21),_(75,It,6,0,"div",22),_(76,Ot,8,0,"div",23)}if(n&2){let t,i,d,c,p,f,x,T,A,R,z,G,L,Y,$,V,W,q,j,B,H,U,J,K,Q,X,Z,ee,te,ne,ie,oe,ae,m=v(2);o(3),u(m.yearRange()),o(5),u(m.avgRating()),o(5),u(m.streamableCount()),o(5),u(m.decadesActive()),o(3),g(m.languageCount()>1?21:-1),o(),g((t=m.prolificYear())?22:-1,t),o(),g((i=m.primaryGenre())?23:-1,i),o(),g((d=m.ratingVsCatalog())?24:-1,d),o(),g(m.avgYear()?25:-1),o(),g((c=m.longestGap())?26:-1,c),o(),g((p=m.streamablePct())?27:-1,p),o(),g((f=m.ratingsSpread())?28:-1,f),o(),g((x=m.soloDirectedPct())?29:-1,x),o(),g((T=m.filmAgeRange())?30:-1,T),o(),g(m.uniqueGenreCount()>2?31:-1),o(),g((A=m.newestFilmYear())?32:-1,A),o(),g(m.avgFilmAge()>0?33:-1),o(),g(m.coDirectedFilmCount()>0?34:-1),o(),g(m.nonEnglishFilmCount()>0?35:-1),o(),g((R=m.medianRating())?36:-1,R),o(),g((z=m.silentEraCount())?37:-1,z),o(),g((G=m.medianYear())?38:-1,G),o(),g((L=m.avgTitleLength())?39:-1,L),o(),g((Y=m.longestTitle())?40:-1,Y),o(),g(($=m.highlyRatedCount())?41:-1,$),o(),g((V=m.shortestTitle())?42:-1,V),o(),g(m.streamableHighRatedCount()>0?43:-1),o(),g((W=m.avgFilmsPerDecade())?44:-1,W),o(),g((q=m.genreConsistencyPct())?45:-1,q),o(),g((j=m.avgGenreCount())?46:-1,j),o(),g((B=m.imdbLinkedPct())?47:-1,B),o(),g((H=m.ytStreamableCount())?48:-1,H),o(),g((U=m.nonEnglishPct())?49:-1,U),o(),g((J=m.iaStreamableCount())?50:-1,J),o(),g((K=m.streamableNewestYear())?51:-1,K),o(),g((Q=m.earliestFilmTitle())?52:-1,Q),o(),g((X=m.latestFilmTitle())?53:-1,X),o(),g((Z=m.bestDecade())?54:-1,Z),o(),g((ee=m.highestRatedTitle())?55:-1,ee),o(),g((te=m.avgFilmGap())?56:-1,te),o(),g((ne=m.uniqueLanguageCount())?57:-1,ne),o(),g(m.preWarFilmCount()>0?58:-1),o(),g(m.imdbLinkedCount()>0?59:-1),o(),g((ie=m.directorMedianRating())?60:-1,ie),o(),g((oe=m.posterCoveragePct())?61:-1,oe),o(),g((ae=m.bestFilm())?62:-1,ae),o(),g(m.topGenres().length>0?63:-1),o(),g(m.watchedCount()>0||m.unwatchedFilms().length>0?64:-1),o(3),I("director__sort-btn--active",m.sortMode()==="rating"),o(2),I("director__sort-btn--active",m.sortMode()==="chronological"),o(2),ce("mode",m.viewMode),o(),g(m.viewMode()==="grid"?72:73),o(2),g(m.careerTimeline().length>1?74:-1),o(),g(m.collaborators().length>0?75:-1),o(),g(m.relatedDirectors().length>0?76:-1)}}function At(n,e){n&1&&(r(0,"div",7)(1,"p"),l(2,"No films found for this director."),a()())}function Rt(n,e){if(n&1&&(r(0,"div",0)(1,"div",2)(2,"div")(3,"p",3),l(4,"Director"),a(),r(5,"h1",4),l(6),a(),r(7,"p",5),l(8),a(),_(9,Pe,2,1,"p",6),a()(),_(10,kt,77,57)(11,At,3,0,"div",7),a()),n&2){let t=v();o(6),u(t.name()),o(2),M("",t.films().length," film",t.films().length!==1?"s":""," in catalog"),o(),g(t.notableFact()?9:-1),o(),g(t.films().length>0?10:11)}}var be=class n{name=_e.required();catalog=P(ue);collectionService=P(ve);titleService=P(ge);viewMode=N("grid");sortMode=N("rating");films=s(()=>this.catalog.movies().filter(e=>e.directors.some(t=>t===this.name())));sortedFilms=s(()=>{let e=[...this.films()];return this.sortMode()==="chronological"?e.sort((t,i)=>t.year-i.year):e.sort((t,i)=>i.voteAverage-t.voteAverage)});collaborators=s(()=>{let e=new Map;for(let t of this.films())for(let i of t.directors)i!==this.name()&&e.set(i,(e.get(i)??0)+1);return[...e.entries()].filter(([,t])=>t>=1).sort((t,i)=>i[1]-t[1]).slice(0,8).map(([t,i])=>({name:t,count:i}))});yearRange=s(()=>{let e=this.films();if(e.length===0)return"\u2014";let t=e.map(c=>c.year),i=Math.min(...t),d=Math.max(...t);return i===d?`${i}`:`${i}\u2013${d}`});avgRating=s(()=>{let e=this.films().filter(t=>t.voteAverage>0);return e.length===0?"\u2014":(e.reduce((t,i)=>t+i.voteAverage,0)/e.length).toFixed(1)});streamableCount=s(()=>this.films().filter(e=>e.isStreamable).length);decadesActive=s(()=>new Set(this.films().map(t=>Math.floor(t.year/10)*10)).size);languageCount=s(()=>{let e=new Set;for(let t of this.films())t.language&&e.add(t.language);return e.size});newestFilmYear=s(()=>{let e=this.films();if(e.length<2)return null;let t=e.reduce((i,d)=>d.year>i.year?d:i);return{year:t.year,decade:Math.floor(t.year/10)*10}});uniqueGenreCount=s(()=>{let e=new Set;for(let t of this.films())for(let i of t.genres)e.add(i);return e.size});primaryGenre=s(()=>{let e=new Map;for(let i of this.films())for(let d of i.genres)e.set(d,(e.get(d)??0)+1);let t=[...e.entries()].sort((i,d)=>d[1]-i[1])[0];return!t||t[1]<2?null:t[0]});avgYear=s(()=>{let e=this.films();return e.length<2?null:Math.round(e.reduce((t,i)=>t+i.year,0)/e.length)});bestDecade=s(()=>{let e=this.films().filter(d=>d.voteAverage>0);if(e.length<4)return null;let t=new Map;for(let d of e){let c=Math.floor(d.year/10)*10,p=t.get(c)??{total:0,count:0};p.total+=d.voteAverage,p.count++,t.set(c,p)}return t.size<2?null:[...t.entries()].filter(([,d])=>d.count>=2).map(([d,c])=>({decade:d,avg:(c.total/c.count).toFixed(1)})).sort((d,c)=>parseFloat(c.avg)-parseFloat(d.avg))[0]??null});ratingVsCatalog=s(()=>{let e=this.films().filter(p=>p.voteAverage>0);if(e.length<3)return null;let t=e.reduce((p,f)=>p+f.voteAverage,0)/e.length,i=this.catalog.movies().filter(p=>p.voteAverage>0);if(i.length===0)return null;let d=i.reduce((p,f)=>p+f.voteAverage,0)/i.length,c=t-d;return Math.abs(c)<.2?null:c>0?`+${c.toFixed(1)}`:c.toFixed(1)});prolificYear=s(()=>{let e=this.films();if(e.length<3)return null;let t=new Map;for(let d of e)t.set(d.year,(t.get(d.year)??0)+1);let i=[...t.entries()].sort((d,c)=>c[1]-d[1])[0];return!i||i[1]<2?null:{year:i[0],count:i[1]}});bestFilm=s(()=>{let e=this.films().filter(t=>t.voteAverage>0);return e.length===0?null:e.reduce((t,i)=>i.voteAverage>t.voteAverage?i:t)});topGenres=s(()=>{let e=new Map;for(let t of this.films())for(let i of t.genres)e.set(i,(e.get(i)??0)+1);return[...e.entries()].sort((t,i)=>i[1]-t[1]).slice(0,6).map(([t])=>t)});notableFact=s(()=>{let e=this.films();if(e.length<2)return null;let t=e.map(x=>x.year),i=Math.max(...t)-Math.min(...t),d=e.filter(x=>x.voteAverage>0),c=d.length>0?d.reduce((x,T)=>x+T.voteAverage,0)/d.length:0,p=e.every(x=>x.isStreamable),f=new Set(e.flatMap(x=>x.genres));return p&&e.length>=3?`All ${e.length} films free to watch`:c>=8&&d.length>=3?`Exceptional average: ${c.toFixed(1)}/10 across ${d.length} rated films`:i>=30?`Career spanning ${i} years`:f.size===1?`Dedicated ${[...f][0]} filmmaker`:e.length>=15?"One of the most prolific directors in catalog":null});careerTimeline=s(()=>{let e=this.films();if(e.length===0)return[];let t=new Map;for(let c of e){let p=Math.floor(c.year/10)*10,f=t.get(p)??{count:0,totalRating:0};f.count++,f.totalRating+=c.voteAverage,t.set(p,f)}let i=[...t.entries()].sort((c,p)=>c[0]-p[0]).map(([c,{count:p,totalRating:f}])=>({decade:c,count:p,avgRating:f/p,heightPct:0})),d=Math.max(...i.map(c=>c.count));for(let c of i)c.heightPct=d>0?Math.round(c.count/d*100):0;return i});peakDecade=s(()=>{let e=this.careerTimeline();return e.length<2?null:e.reduce((i,d)=>d.avgRating>i.avgRating?d:i).decade});relatedDirectors=s(()=>{let e=new Set(this.films().flatMap(d=>d.genres));if(e.size===0)return[];let t=new Set(this.collaborators().map(d=>d.name)),i=new Map;for(let d of this.catalog.movies())for(let c of d.directors){if(c===this.name()||t.has(c))continue;let p=i.get(c)??{genres:new Set,count:0};for(let f of d.genres)p.genres.add(f);p.count++,i.set(c,p)}return[...i.entries()].filter(([,d])=>d.count>=3).map(([d,c])=>{let p=[...c.genres].filter(f=>e.has(f)).length;return{name:d,sharedGenres:p,count:c.count}}).filter(d=>d.sharedGenres>=2).sort((d,c)=>c.sharedGenres-d.sharedGenres||c.count-d.count).slice(0,6)});watchedCount=s(()=>{let e=this.collectionService.watchedIds();return this.films().filter(t=>e.has(t.id)).length});unwatchedFilms=s(()=>{let e=this.collectionService.watchedIds(),t=this.collectionService.watchlistIds();return this.films().filter(i=>!e.has(i.id)&&!t.has(i.id))});completionPct=s(()=>{let e=this.films().length;return e>0?Math.round(this.watchedCount()/e*100):0});longestGap=s(()=>{let e=this.films();if(e.length<3)return null;let t=[...new Set(e.map(d=>d.year))].sort((d,c)=>d-c);if(t.length<2)return null;let i=0;for(let d=1;d<t.length;d++)i=Math.max(i,t[d]-t[d-1]);return i<5?null:i});streamablePct=s(()=>{let e=this.films();if(e.length<2)return null;let t=Math.round(this.streamableCount()/e.length*100);return t===0||t===100?null:t});filmAgeRange=s(()=>{let e=this.films();if(e.length<2)return null;let t=new Date().getFullYear(),i=e.map(p=>p.year),d=t-Math.min(...i),c=t-Math.max(...i);return d===c||c<30?null:`${c}\u2013${d}`});avgFilmAge=s(()=>{let e=this.films();if(e.length<2)return 0;let t=new Date().getFullYear(),i=Math.round(e.reduce((d,c)=>d+(t-c.year),0)/e.length);return i>0?i:0});coDirectedFilmCount=s(()=>{let e=this.films();return e.length<2?0:e.filter(t=>t.directors.length>1).length});nonEnglishFilmCount=s(()=>{let e=this.films();return e.length<2?0:e.filter(t=>t.language&&t.language!=="English"&&t.language!=="en").length});medianRating=s(()=>{let e=this.films().filter(c=>c.voteAverage>0);if(e.length<3)return null;let t=e.map(c=>c.voteAverage).sort((c,p)=>c-p),i=Math.floor(t.length/2);return(t.length%2===0?(t[i-1]+t[i])/2:t[i]).toFixed(1)});soloDirectedPct=s(()=>{let e=this.films();if(e.length<3)return null;let t=e.filter(d=>d.directors.length===1).length,i=Math.round(t/e.length*100);return i===100||i===0?null:i});ratingsSpread=s(()=>{let e=this.films().filter(c=>c.voteAverage>0);if(e.length<3)return null;let t=e.map(c=>c.voteAverage).sort((c,p)=>c-p),i=t[0],d=t[t.length-1];return d-i<2?null:`${i.toFixed(1)}\u2013${d.toFixed(1)}`});silentEraCount=s(()=>{let e=this.films().filter(t=>t.year<1930).length;return e>0?e:null});avgTitleLength=s(()=>{let e=this.films();return e.length<3?null:Math.round(e.reduce((t,i)=>t+i.title.length,0)/e.length)});longestTitle=s(()=>{let e=this.films();if(e.length<3)return null;let t=e.reduce((i,d)=>i.title.length>=d.title.length?i:d);return t.title.length>=15?t.title:null});medianYear=s(()=>{let e=this.films();if(e.length<3)return null;let t=e.map(d=>d.year).sort((d,c)=>d-c),i=Math.floor(t.length/2);return t.length%2===0?Math.round((t[i-1]+t[i])/2):t[i]});highlyRatedCount=s(()=>{let e=this.films();if(e.length<3)return null;let t=e.filter(i=>i.voteAverage>=7).length;return t>0&&t<e.length?t:null});shortestTitle=s(()=>{let e=this.films();if(e.length<3)return null;let t=e.reduce((i,d)=>i.title.length<=d.title.length?i:d);return t.title.length<=15?t.title:null});streamableHighRatedCount=s(()=>this.films().filter(e=>e.isStreamable&&e.voteAverage>=7).length);avgFilmsPerDecade=s(()=>{let e=this.films();if(e.length<4)return null;let t=new Set(e.map(i=>Math.floor(i.year/10)*10));return t.size<2?null:(e.length/t.size).toFixed(1)});highestRatedTitle=s(()=>{let e=this.films().filter(i=>i.voteAverage>0);return e.length<2?null:e.reduce((i,d)=>i.voteAverage>=d.voteAverage?i:d).title});latestFilmTitle=s(()=>{let e=this.films();return e.length<2?null:e.reduce((i,d)=>i.year>=d.year?i:d).title});posterCoveragePct=s(()=>{let e=this.films();if(e.length<3)return null;let t=Math.round(e.filter(i=>i.posterUrl).length/e.length*100);return t>0&&t<100?t:null});directorMedianRating=s(()=>{let e=this.films().filter(c=>c.voteAverage>0);if(e.length<3)return null;let t=e.map(c=>c.voteAverage).sort((c,p)=>c-p),i=Math.floor(t.length/2);return(t.length%2===0?(t[i-1]+t[i])/2:t[i]).toFixed(1)});imdbLinkedCount=s(()=>{let e=this.films();if(e.length<3)return 0;let t=e.filter(i=>i.imdbId).length;return t>=2?t:0});preWarFilmCount=s(()=>{let e=this.films();if(e.length<3)return 0;let t=e.filter(i=>i.year<1940).length;return t>=2?t:0});uniqueLanguageCount=s(()=>{let e=this.films();if(e.length<3)return null;let t=new Set(e.filter(i=>i.language).map(i=>i.language));return t.size>=2?t.size:null});avgFilmGap=s(()=>{let e=this.films();if(e.length<3)return null;let t=e.map(c=>c.year).sort((c,p)=>c-p),i=[];for(let c=1;c<t.length;c++)i.push(t[c]-t[c-1]);let d=i.reduce((c,p)=>c+p,0)/i.length;return d>=1?d.toFixed(1):null});earliestFilmTitle=s(()=>{let e=this.films();return e.length<2?null:e.reduce((i,d)=>i.year<=d.year?i:d).title});streamableNewestYear=s(()=>{let e=this.films().filter(t=>t.isStreamable);return e.length<2?null:e.reduce((t,i)=>t.year>=i.year?t:i).year});avgGenreCount=s(()=>{let e=this.films();if(e.length<3)return null;let t=e.reduce((i,d)=>i+d.genres.length,0)/e.length;return t>=1.3?t.toFixed(1):null});imdbLinkedPct=s(()=>{let e=this.films();if(e.length<3)return null;let t=Math.round(e.filter(i=>i.imdbId).length/e.length*100);return t>0&&t<100?t:null});ytStreamableCount=s(()=>{let e=this.films();if(e.length<3)return null;let t=e.filter(i=>i.youtubeId).length;return t>0?t:null});nonEnglishPct=s(()=>{let e=this.films();if(e.length<3)return null;let t=Math.round(e.filter(i=>i.language&&i.language!=="en").length/e.length*100);return t>0&&t<100?t:null});iaStreamableCount=s(()=>{let e=this.films();if(e.length<3)return null;let t=e.filter(i=>i.internetArchiveId).length;return t>0?t:null});genreConsistencyPct=s(()=>{let e=this.films();if(e.length<3)return null;let t=new Map;for(let c of e)for(let p of c.genres)t.set(p,(t.get(p)??0)+1);let i=[...t.entries()].sort((c,p)=>p[1]-c[1])[0];if(!i)return null;let d=Math.round(i[1]/e.length*100);return d>=30&&d<100?d:null});ngOnInit(){this.catalog.load(),this.titleService.setTitle(`${this.name()} \u2014 BW Cinema`)}addUnwatchedToWatchlist(){for(let e of this.unwatchedFilms())this.collectionService.addToWatchlist(e.id)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=le({type:n,selectors:[["app-director"]],inputs:{name:[1,"name"]},decls:2,vars:1,consts:[[1,"director","container"],[3,"count"],[1,"director__header"],[1,"director__eyebrow"],[1,"director__name"],[1,"director__meta"],[1,"director__fact"],[1,"director__empty"],[1,"director__stats"],[1,"director__stat"],[1,"director__stat-value"],[1,"director__stat-label"],[1,"director__stat","director__stat--link",3,"routerLink"],[1,"director__best-film"],[1,"director__genres"],[1,"director__completion"],[1,"director__view-bar"],[1,"director__sort-btns"],[1,"director__sort-btn",3,"click"],[3,"modeChange","mode"],[3,"movies"],[1,"director__timeline"],[1,"director__collaborators"],[1,"director__related"],[1,"director__stat-value",2,"font-size","0.7em"],[1,"director__stat-value",2,"font-size","0.75em"],[1,"director__best-film-card",3,"routerLink"],["loading","lazy",1,"director__best-film-poster",3,"src","alt"],[1,"director__best-film-placeholder"],[1,"director__best-film-info"],[1,"director__best-film-label"],[1,"director__best-film-title"],[1,"director__best-film-meta"],[1,"director__best-film-rating"],[1,"director__genre-tag",3,"routerLink"],[1,"director__completion-header"],[1,"director__completion-text"],[1,"director__completion-pct"],[1,"director__completion-track"],[1,"director__completion-fill"],[1,"director__add-unwatched"],[1,"director__add-unwatched",3,"click"],[1,"director__section-title"],[1,"director__timeline-chart"],[1,"director__timeline-bar",3,"title"],[1,"director__timeline-note"],[1,"director__timeline-fill"],[1,"director__timeline-count"],[1,"director__timeline-label"],[1,"director__collab-list"],[1,"director__collab-card",3,"routerLink"],[1,"director__collab-name"],[1,"director__collab-count"],[1,"director__related-desc"]],template:function(t,i){t&1&&_(0,Te,2,1,"div",0)(1,Rt,12,5,"div",0),t&2&&g(i.catalog.loading()?0:1)},dependencies:[pe,fe,xe,he,Ce],styles:[".director[_ngcontent-%COMP%]{padding:var(--space-xl) 0}.director__header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:var(--space-lg)}.director__eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;font-size:.8rem;font-weight:600;color:var(--accent-gold);margin:0 0 var(--space-xs)}.director__name[_ngcontent-%COMP%]{margin-bottom:var(--space-xs)}.director__meta[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95rem;margin:0}.director__fact[_ngcontent-%COMP%]{font-size:.85rem;font-style:italic;color:var(--accent-gold);margin:var(--space-xs) 0 0}.director__stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:var(--space-md);margin-bottom:var(--space-xl)}.director__stat[_ngcontent-%COMP%]{background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md);text-align:center}.director__stat-value[_ngcontent-%COMP%]{display:block;font-family:var(--font-heading);font-size:1.5rem;font-weight:700;color:var(--accent-gold);margin-bottom:2px}.director__stat-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary)}.director__stat-value--positive[_ngcontent-%COMP%]{color:#198754}.director__stat--link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;cursor:pointer;transition:border-color .2s}.director__stat--link[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.director__best-film[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.director__best-film-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-lg);padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-xl);text-decoration:none;color:inherit;transition:border-color .2s,box-shadow .2s}.director__best-film-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);box-shadow:var(--shadow-md);color:inherit}.director__best-film-poster[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;object-fit:cover;border-radius:var(--radius);flex-shrink:0}.director__best-film-placeholder[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;background:var(--bg-raised);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-family:var(--font-heading);color:var(--text-tertiary);font-size:1.2rem;flex-shrink:0}.director__best-film-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.director__best-film-label[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;letter-spacing:.1em;color:var(--accent-gold);font-weight:600}.director__best-film-title[_ngcontent-%COMP%]{font-size:1.1rem}.director__best-film-meta[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.director__best-film-rating[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1rem;font-weight:700;color:var(--accent-gold)}.director__genres[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-sm);margin-bottom:var(--space-xl)}.director__genre-tag[_ngcontent-%COMP%]{font-size:.85rem;padding:4px 14px;border:1px solid var(--border-bright);border-radius:16px;color:var(--text-secondary);text-decoration:none;transition:all .2s}.director__genre-tag[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold);background-color:var(--accent-gold-dim)}.director__completion[_ngcontent-%COMP%]{background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md) var(--space-lg);margin-bottom:var(--space-lg)}.director__completion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-sm)}.director__completion-text[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.director__completion-pct[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1.1rem;font-weight:700;color:var(--accent-gold)}.director__completion-track[_ngcontent-%COMP%]{height:8px;background:var(--bg-raised);border-radius:4px;overflow:hidden;margin-bottom:var(--space-sm)}.director__completion-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-gold);border-radius:4px;transition:width .4s ease}.director__add-unwatched[_ngcontent-%COMP%]{background:none;border:none;color:var(--accent-gold);font-size:.85rem;font-weight:600;padding:0;min-height:auto;min-width:auto;cursor:pointer}.director__add-unwatched[_ngcontent-%COMP%]:hover{text-decoration:underline}.director__view-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--space-md);margin-bottom:var(--space-lg)}.director__sort-btns[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap}.director__sort-btn[_ngcontent-%COMP%]{padding:6px 14px;border-radius:var(--radius-lg);background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.director__sort-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.director__sort-btn--active[_ngcontent-%COMP%]{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.director__section-title[_ngcontent-%COMP%]{font-size:1.2rem;margin:var(--space-2xl) 0 var(--space-lg)}.director__collaborators[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding-top:var(--space-lg);margin-top:var(--space-xl)}.director__collab-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-md)}.director__collab-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;transition:all .2s}.director__collab-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:inherit}.director__collab-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.director__collab-count[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);margin-top:2px}.director__timeline[_ngcontent-%COMP%]{margin-bottom:var(--space-xl);border-top:1px solid var(--border);padding-top:var(--space-lg)}.director__timeline-chart[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:var(--space-md);height:120px;padding:var(--space-md) 0}.director__timeline-bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%;position:relative;cursor:default}.director__timeline-fill[_ngcontent-%COMP%]{width:100%;max-width:48px;background:linear-gradient(to top,var(--accent-gold),var(--accent-gold-dim));border-radius:4px 4px 0 0;min-height:4px;transition:height .4s ease}.director__timeline-count[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;color:var(--accent-gold);margin-bottom:2px}.director__timeline-label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-tertiary);margin-top:var(--space-xs)}.director__timeline-note[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);margin-top:var(--space-sm)}.director__related[_ngcontent-%COMP%]{border-top:1px solid var(--border);padding-top:var(--space-lg);margin-top:var(--space-xl)}.director__related-desc[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-tertiary);margin:0 0 var(--space-md)}.director__empty[_ngcontent-%COMP%]{text-align:center;padding:var(--space-3xl);color:var(--text-tertiary)}@media(max-width:768px){.director__stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:480px){.director__stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.director__header[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-md)}.director__sort-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem}.director__collab-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.director__view-bar[_ngcontent-%COMP%]{flex-wrap:wrap}}"],changeDetection:0})};export{be as DirectorComponent};
