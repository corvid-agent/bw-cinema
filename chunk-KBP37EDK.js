import{a as ue}from"./chunk-G5CE23PJ.js";import{a as ve,b as fe}from"./chunk-RH4PY6SG.js";import{a as pe}from"./chunk-SGVJUPTJ.js";import"./chunk-5BGZ6L4W.js";import"./chunk-7G6M72YL.js";import{$ as g,A as ne,Ba as re,Ca as le,Da as de,F as k,Ha as M,K as ie,Ka as m,Ma as ce,O as a,R as ae,Za as se,_,ca as I,cb as me,da as O,db as _e,ea as x,fa as r,ga as l,ha as h,la as F,lb as ge,na as D,pa as u,ta as oe,ua as S,v as P,wa as d,x as b,xa as v,y,ya as p,z as T,za as E}from"./chunk-TOYJLBVG.js";var ye=n=>({decades:n}),xe=n=>["/director",n],Me=n=>["/movie",n],De=n=>["/genre",n],he=n=>["/decade",n],be=(n,e)=>e.name,Se=(n,e)=>e.year;function Ee(n,e){n&1&&(r(0,"div",0),h(1,"app-skeleton-grid",1),l()),n&2&&(a(),x("count",12))}function we(n,e){if(n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4),l()()),n&2){let t=e;a(2),v(t.year),a(2),p("Peak Year (",t.count,")")}}function Pe(n,e){if(n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4,"vs Catalog Avg"),l()()),n&2){let t=e;a(),S("decade__stat-value--positive",t.startsWith("+")),a(),v(t)}}function Te(n,e){if(n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4,"Co-Directed"),l()()),n&2){let t=u(3);a(2),v(t.coDirectedCount())}}function ke(n,e){if(n&1&&(r(0,"a",23)(1,"span",21),d(2),l(),r(3,"span",22),d(4),l()()),n&2){let t=e;x("routerLink",M(3,xe,t.name)),a(2),v(t.count),a(2),v(t.name)}}function Ie(n,e){if(n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4,"Genres"),l()()),n&2){let t=u(3);a(2),v(t.uniqueGenreCount())}}function Oe(n,e){if(n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4,"Silent Era"),l()()),n&2){let t=u(3);a(2),v(t.silentEraFilmCount())}}function Fe(n,e){n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4,"Films/Director"),l()()),n&2&&(a(2),v(e))}function Ne(n,e){n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4,"Rated 7.0+"),l()()),n&2&&(a(2),p("",e,"%"))}function Ae(n,e){n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4,"Median Rating"),l()()),n&2&&(a(2),v(e))}function Le(n,e){if(n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4,"Avg Film Age (yrs)"),l()()),n&2){let t=u(3);a(2),v(t.avgFilmAge())}}function Re(n,e){if(n&1&&(r(0,"div",20)(1,"span",21),d(2),l(),r(3,"span",22),d(4,"Non-English"),l()()),n&2){let t=u(3);a(2),v(t.nonEnglishCount())}}function ze(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),v(e))}function Ge(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p('Longest title: "',e,'"'))}function Ve(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p('Shortest title: "',e,'"'))}function Be(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("Median rating: \u2605 ",e))}function $e(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("",e,"% non-English films"))}function Ye(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("Avg title length: ",e," characters"))}function je(n,e){if(n&1&&(r(0,"p",24),d(1),l()),n&2){let t=u(3);a(),p("",t.highlyRatedCount()," films rated 8.0+")}}function qe(n,e){if(n&1&&(r(0,"p",24),d(1),l()),n&2){let t=u(3);a(),p("",t.streamableHighRatedCount()," highly-rated free to watch")}}function He(n,e){if(n&1&&(r(0,"p",24),d(1),l()),n&2){let t=e;a(),E("Top director: ",t.name," (",t.count," films)")}}function We(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("Top genre: ",e))}function Ue(n,e){if(n&1&&(r(0,"p",24),d(1),l()),n&2){let t=u(3);a(),p("",t.singleGenreCount()," single-genre films")}}function Je(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("",e," streamable with IMDb link"))}function Ke(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("",e," streamable via YouTube"))}function Qe(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("",e," on Internet Archive"))}function Xe(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("Avg ",e," genres per film"))}function Ze(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("",e,"% co-directed"))}function et(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("",e," languages represented"))}function tt(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p('Highest rated: "',e,'"'))}function nt(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("",e," unique directors"))}function it(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("",e,"% linked to IMDb"))}function at(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("Avg ",e," films per director"))}function ot(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("Median rating: \u2605 ",e))}function rt(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("Avg title: ",e," characters"))}function lt(n,e){if(n&1&&(r(0,"p",24),d(1),l()),n&2){let t=e;a(),E("Top non-English: ",t.name," (",t.count,")")}}function dt(n,e){n&1&&(r(0,"p",24),d(1),l()),n&2&&(a(),p("",e,"% have poster images"))}function ct(n,e){if(n&1&&h(0,"img",37),n&2){let t=u();x("src",t.posterUrl,ie)("alt",t.title)}}function st(n,e){if(n&1&&(r(0,"div",38),d(1),l()),n&2){let t=u();a(),v(t.title[0])}}function mt(n,e){if(n&1&&(r(0,"span",43),d(1),l()),n&2){let t=u();a(),p("\u2605 ",t.voteAverage.toFixed(1))}}function _t(n,e){if(n&1&&(r(0,"div",25)(1,"a",36),_(2,ct,1,2,"img",37)(3,st,2,1,"div",38),r(4,"div",39)(5,"span",40),d(6),l(),r(7,"strong",41),d(8),l(),r(9,"span",42),d(10),l(),_(11,mt,2,1,"span",43),l()()()),n&2){let t=e,i=u(3);a(),x("routerLink",M(7,Me,t.id)),a(),g(t.posterUrl?2:3),a(4),p("Best of the ",i.decadeLabel()),a(2),v(t.title),a(2),E("",t.year," \xB7 ",t.directors.join(", ")),a(),g(t.voteAverage>0?11:-1)}}function gt(n,e){if(n&1&&h(0,"app-movie-grid",32),n&2){let t=u(3);x("movies",t.sortedFilms())}}function pt(n,e){if(n&1&&h(0,"app-movie-list",32),n&2){let t=u(3);x("movies",t.sortedFilms())}}function ut(n,e){if(n&1&&(r(0,"a",46),d(1),r(2,"span",47),d(3),l()()),n&2){let t=e.$implicit;x("routerLink",M(3,De,t.name)),a(),p(" ",t.name," "),a(2),v(t.count)}}function vt(n,e){if(n&1&&(r(0,"div",33)(1,"h2",44),d(2),l(),r(3,"div",45),I(4,ut,4,5,"a",46,be),l()()),n&2){let t=u(3);a(2),p("Genres of the ",t.decadeLabel()),a(2),O(t.genreBreakdown())}}function ft(n,e){if(n&1&&(r(0,"a",49)(1,"span",50),d(2),l(),r(3,"span",51),d(4),l(),r(5,"span",52),d(6),l()()),n&2){let t=e.$implicit;x("routerLink",M(5,xe,t.name)),a(2),v(t.name),a(2),E("",t.count," film",t.count!==1?"s":""),a(2),v(t.avgRating)}}function Ct(n,e){if(n&1&&(r(0,"div",34)(1,"h2",44),d(2,"Notable Directors"),l(),r(3,"div",48),I(4,ft,7,7,"a",49,be),l()()),n&2){let t=u(3);a(4),O(t.topDirectors())}}function xt(n,e){if(n&1&&(r(0,"div",54),h(1,"div",55),r(2,"span",56),d(3),l(),r(4,"span",57),d(5),l()()),n&2){let t=e.$implicit;x("title",t.year+": "+t.count+" films"),a(),oe("height",t.heightPct,"%"),a(2),v(t.count),a(2),v(t.year)}}function ht(n,e){if(n&1&&(r(0,"div",35)(1,"h2",44),d(2,"Year by Year"),l(),r(3,"div",53),I(4,xt,6,5,"div",54,Se),l()()),n&2){let t=u(3);a(4),O(t.yearByYear())}}function bt(n,e){if(n&1){let t=F();r(0,"div",19)(1,"div",20)(2,"span",21),d(3),l(),r(4,"span",22),d(5,"Avg. Rating"),l()(),r(6,"div",20)(7,"span",21),d(8),l(),r(9,"span",22),d(10,"Free to Watch"),l()(),r(11,"div",20)(12,"span",21),d(13),l(),r(14,"span",22),d(15,"Top Genre"),l()(),r(16,"div",20)(17,"span",21),d(18),l(),r(19,"span",22),d(20,"Languages"),l()(),r(21,"div",20)(22,"span",21),d(23),l(),r(24,"span",22),d(25,"Streamable"),l()(),r(26,"div",20)(27,"span",21),d(28),l(),r(29,"span",22),d(30,"Directors"),l()(),_(31,we,5,2,"div",20),_(32,Pe,5,3,"div",20),_(33,Te,5,1,"div",20),_(34,ke,5,5,"a",23),_(35,Ie,5,1,"div",20),_(36,Oe,5,1,"div",20),_(37,Fe,5,1,"div",20),_(38,Ne,5,1,"div",20),_(39,Ae,5,1,"div",20),_(40,Le,5,1,"div",20),_(41,Re,5,1,"div",20),l(),_(42,ze,2,1,"p",24),_(43,Ge,2,1,"p",24),_(44,Ve,2,1,"p",24),_(45,Be,2,1,"p",24),_(46,$e,2,1,"p",24),_(47,Ye,2,1,"p",24),_(48,je,2,1,"p",24),_(49,qe,2,1,"p",24),_(50,He,2,2,"p",24),_(51,We,2,1,"p",24),_(52,Ue,2,1,"p",24),_(53,Je,2,1,"p",24),_(54,Ke,2,1,"p",24),_(55,Qe,2,1,"p",24),_(56,Xe,2,1,"p",24),_(57,Ze,2,1,"p",24),_(58,et,2,1,"p",24),_(59,tt,2,1,"p",24),_(60,nt,2,1,"p",24),_(61,it,2,1,"p",24),_(62,at,2,1,"p",24),_(63,ot,2,1,"p",24),_(64,rt,2,1,"p",24),_(65,lt,2,2,"p",24),_(66,dt,2,1,"p",24),_(67,_t,12,9,"div",25),r(68,"div",26)(69,"div",27)(70,"button",28),D("click",function(){b(t);let o=u(2);return y(o.sortMode.set("rating"))}),d(71,"Top Rated"),l(),r(72,"button",28),D("click",function(){b(t);let o=u(2);return y(o.sortMode.set("newest"))}),d(73,"Newest"),l(),r(74,"button",28),D("click",function(){b(t);let o=u(2);return y(o.sortMode.set("oldest"))}),d(75,"Oldest"),l(),r(76,"button",28),D("click",function(){b(t);let o=u(2);return y(o.sortMode.set("title"))}),d(77,"Title"),l()(),r(78,"div",29)(79,"button",30),D("click",function(){b(t);let o=u(2);return y(o.streamableOnly.set(!o.streamableOnly()))}),d(80),l(),r(81,"app-view-toggle",31),de("modeChange",function(o){b(t);let c=u(2);return le(c.viewMode,o)||(c.viewMode=o),y(o)}),l()()(),_(82,gt,1,1,"app-movie-grid",32)(83,pt,1,1,"app-movie-list",32),_(84,vt,6,1,"div",33),_(85,Ct,6,0,"div",34),_(86,ht,6,0,"div",35)}if(n&2){let t,i,o,c,C,f,w,N,A,L,R,z,G,V,B,$,Y,j,q,H,W,U,J,K,Q,X,Z,ee,te,s=u(2);a(3),v(s.avgRating()),a(5),v(s.streamableCount()),a(5),v(s.topGenre()),a(5),v(s.languageCount()),a(5),p("",s.streamablePct(),"%"),a(5),v(s.directorCount()),a(3),g((t=s.peakYear())?31:-1,t),a(),g((i=s.ratingVsCatalog())?32:-1,i),a(),g(s.coDirectedCount()>0?33:-1),a(),g((o=s.mostProlificDirector())?34:-1,o),a(),g(s.uniqueGenreCount()>1?35:-1),a(),g(s.silentEraFilmCount()>0?36:-1),a(),g((c=s.avgFilmsPerDirector())?37:-1,c),a(),g((C=s.highRatedPct())?38:-1,C),a(),g((f=s.medianRating())?39:-1,f),a(),g(s.avgFilmAge()>0?40:-1),a(),g(s.nonEnglishCount()>0?41:-1),a(),g((w=s.decadeFact())?42:-1,w),a(),g((N=s.longestTitle())?43:-1,N),a(),g((A=s.shortestTitle())?44:-1,A),a(),g((L=s.medianRating())?45:-1,L),a(),g((R=s.nonEnglishPct())?46:-1,R),a(),g((z=s.avgTitleLength())?47:-1,z),a(),g(s.highlyRatedCount()>0?48:-1),a(),g(s.streamableHighRatedCount()>0?49:-1),a(),g((G=s.topDirectorFilmCount())?50:-1,G),a(),g((V=s.decadeTopGenre())?51:-1,V),a(),g(s.singleGenreCount()?52:-1),a(),g((B=s.streamableImdbLinkedCount())?53:-1,B),a(),g(($=s.ytStreamableCount())?54:-1,$),a(),g((Y=s.iaStreamableCount())?55:-1,Y),a(),g((j=s.avgGenresPerFilm())?56:-1,j),a(),g((q=s.coDirectedPct())?57:-1,q),a(),g((H=s.uniqueLanguageCount())?58:-1,H),a(),g((W=s.bestRatedTitle())?59:-1,W),a(),g((U=s.decadeDirectorCount())?60:-1,U),a(),g((J=s.decadeImdbLinkedPct())?61:-1,J),a(),g((K=s.avgDirectorFilmCount())?62:-1,K),a(),g((Q=s.decadeMedianRating())?63:-1,Q),a(),g((X=s.decadeAvgTitleLength())?64:-1,X),a(),g((Z=s.mostCommonLanguage())?65:-1,Z),a(),g((ee=s.posterCoveragePct())?66:-1,ee),a(),g((te=s.bestFilm())?67:-1,te),a(3),S("decade__sort-btn--active",s.sortMode()==="rating"),a(2),S("decade__sort-btn--active",s.sortMode()==="newest"),a(2),S("decade__sort-btn--active",s.sortMode()==="oldest"),a(2),S("decade__sort-btn--active",s.sortMode()==="title"),a(3),S("decade__streamable-btn--active",s.streamableOnly()),a(),p(" ",s.streamableOnly()?"Free only":"All films"," "),a(),re("mode",s.viewMode),a(),g(s.viewMode()==="grid"?82:83),a(2),g(s.genreBreakdown().length>0?84:-1),a(),g(s.topDirectors().length>0?85:-1),a(),g(s.yearByYear().length>1?86:-1)}}function yt(n,e){n&1&&(r(0,"div",16)(1,"p"),d(2,"No films found for this decade."),l(),r(3,"a",58),d(4,"Browse All Films"),l()())}function Mt(n,e){if(n&1&&(r(0,"a",18),T(),r(1,"svg",59),h(2,"polyline",60),l(),d(3),l()),n&2){let t=u(2);x("routerLink",M(2,he,t.prevDecade())),a(3),p(" ",t.prevDecade(),"s ")}}function Dt(n,e){n&1&&h(0,"span")}function St(n,e){if(n&1&&(r(0,"a",18),d(1),T(),r(2,"svg",59),h(3,"polyline",61),l()()),n&2){let t=u(2);x("routerLink",M(2,he,t.nextDecade())),a(),p(" ",t.nextDecade(),"s ")}}function Et(n,e){if(n&1){let t=F();r(0,"div",0)(1,"div",2)(2,"div")(3,"p",3),d(4,"Decade"),l(),r(5,"h1",4),d(6),l(),r(7,"p",5),d(8),l()(),r(9,"div",6)(10,"a",7),d(11,"Browse with filters"),l(),r(12,"button",8),D("click",function(){b(t);let o=u();return y(o.surpriseMe())}),T(),r(13,"svg",9),h(14,"rect",10)(15,"circle",11)(16,"circle",12)(17,"circle",13)(18,"circle",14)(19,"circle",15),l()()()(),_(20,bt,87,59)(21,yt,5,0,"div",16),ne(),r(22,"div",17),_(23,Mt,4,4,"a",18)(24,Dt,1,0,"span"),_(25,St,4,4,"a",18),l()()}if(n&2){let t=u();a(6),p("The ",t.decadeLabel()),a(2),E("",t.films().length," film",t.films().length!==1?"s":""," in catalog"),a(2),x("queryParams",M(7,ye,t.year())),a(10),g(t.films().length>0?20:21),a(3),g(t.prevDecade()?23:24),a(2),g(t.nextDecade()?25:-1)}}var Ce=class n{year=ce.required();catalog=P(ge);titleService=P(se);router=P(me);viewMode=k("grid");sortMode=k("rating");streamableOnly=k(!0);decadeLabel=m(()=>`${this.year()}s`);films=m(()=>{let e=parseInt(this.year(),10);return this.catalog.movies().filter(t=>t.year>=e&&t.year<e+10)});sortedFilms=m(()=>{let e=this.films();this.streamableOnly()&&(e=e.filter(i=>i.isStreamable));let t=[...e];switch(this.sortMode()){case"rating":return t.sort((i,o)=>o.voteAverage-i.voteAverage);case"newest":return t.sort((i,o)=>o.year-i.year);case"oldest":return t.sort((i,o)=>i.year-o.year);case"title":return t.sort((i,o)=>i.title.localeCompare(o.title))}});avgRating=m(()=>{let e=this.films().filter(t=>t.voteAverage>0);return e.length===0?"\u2014":(e.reduce((t,i)=>t+i.voteAverage,0)/e.length).toFixed(1)});streamableCount=m(()=>this.films().filter(e=>e.isStreamable).length);bestFilm=m(()=>{let e=this.films().filter(t=>t.voteAverage>0);return e.length===0?null:e.reduce((t,i)=>i.voteAverage>t.voteAverage?i:t)});languageCount=m(()=>{let e=new Set;for(let t of this.films())t.language&&e.add(t.language);return e.size});topGenre=m(()=>{let e=new Map;for(let i of this.films())for(let o of i.genres)e.set(o,(e.get(o)??0)+1);return[...e.entries()].sort((i,o)=>o[1]-i[1])[0]?.[0]??"\u2014"});directorCount=m(()=>{let e=new Set;for(let t of this.films())for(let i of t.directors)e.add(i);return e.size});peakYear=m(()=>{let e=this.films();if(e.length<5)return null;let t=new Map;for(let o of e)t.set(o.year,(t.get(o.year)??0)+1);let i=[...t.entries()].sort((o,c)=>c[1]-o[1])[0];return!i||i[1]<2?null:{year:i[0],count:i[1]}});ratingVsCatalog=m(()=>{let e=this.films().filter(C=>C.voteAverage>0);if(e.length<5)return null;let t=e.reduce((C,f)=>C+f.voteAverage,0)/e.length,i=this.catalog.movies().filter(C=>C.voteAverage>0);if(i.length===0)return null;let o=i.reduce((C,f)=>C+f.voteAverage,0)/i.length,c=t-o;return Math.abs(c)<.2?null:c>0?`+${c.toFixed(1)}`:c.toFixed(1)});streamablePct=m(()=>{let e=this.films();return e.length===0?0:Math.round(e.filter(t=>t.isStreamable).length/e.length*100)});highRatedPct=m(()=>{let e=this.films().filter(o=>o.voteAverage>0);if(e.length<10)return null;let t=e.filter(o=>o.voteAverage>=7).length,i=Math.round(t/e.length*100);return i>0&&i<100?i:null});medianRating=m(()=>{let e=this.films().filter(o=>o.voteAverage>0).map(o=>o.voteAverage).sort((o,c)=>o-c);if(e.length<10)return null;let t=Math.floor(e.length/2);return(e.length%2===0?(e[t-1]+e[t])/2:e[t]).toFixed(1)});avgFilmAge=m(()=>{let e=this.films();if(e.length<2)return 0;let t=new Date().getFullYear();return Math.round(e.reduce((i,o)=>i+(t-o.year),0)/e.length)});coDirectedCount=m(()=>this.films().filter(e=>e.directors.length>1).length);nonEnglishCount=m(()=>{let e=this.films();return e.length<5?0:e.filter(t=>t.language&&t.language!=="English"&&t.language!=="en").length});uniqueGenreCount=m(()=>{let e=new Set;for(let t of this.films())for(let i of t.genres)e.add(i);return e.size});longestTitle=m(()=>{let e=this.films();if(e.length<10)return null;let t=e.reduce((i,o)=>o.title.length>i.title.length?o:i,e[0]);return t.title.length>=25?t.title:null});shortestTitle=m(()=>{let e=this.films();if(e.length<10)return null;let t=e.reduce((i,o)=>o.title.length<i.title.length?o:i,e[0]);return t.title.length<=10?t.title:null});mostProlificDirector=m(()=>{let e=this.films();if(e.length<5)return null;let t=new Map;for(let o of e)for(let c of o.directors)t.set(c,(t.get(c)??0)+1);let i=[...t.entries()].sort((o,c)=>c[1]-o[1])[0];return!i||i[1]<3?null:{name:i[0],count:i[1]}});avgFilmsPerDirector=m(()=>{let e=this.films();if(e.length<10)return null;let t=new Set;for(let o of e)for(let c of o.directors)t.add(c);if(t.size===0)return null;let i=e.length/t.size;return i<1.2?null:i.toFixed(1)});silentEraFilmCount=m(()=>parseInt(this.year(),10)>=1930?0:this.films().filter(t=>t.year<1930).length);decadeFact=m(()=>{let e=this.films();if(e.length<5)return null;let t=e.filter(f=>f.isStreamable),i=new Set(e.flatMap(f=>f.directors)),o=new Set(e.map(f=>f.language).filter(Boolean)),c=e.filter(f=>f.voteAverage>0),C=c.length>0?c.reduce((f,w)=>f+w.voteAverage,0)/c.length:0;return t.length===e.length?`Every film from the ${this.decadeLabel()} is free to watch.`:C>=7.5&&c.length>=10?`An exceptional decade \u2014 ${C.toFixed(1)} average rating across ${c.length} rated films.`:o.size>=8?`A truly global decade with films in ${o.size} languages.`:i.size>=e.length*.85&&e.length>=20?`Remarkably diverse \u2014 ${i.size} directors across ${e.length} films.`:t.length>=100?`${t.length} films from this decade available to watch for free.`:null});genreBreakdown=m(()=>{let e=new Map;for(let t of this.films())for(let i of t.genres)e.set(i,(e.get(i)??0)+1);return[...e.entries()].sort((t,i)=>i[1]-t[1]).slice(0,10).map(([t,i])=>({name:t,count:i}))});topDirectors=m(()=>{let e=new Map;for(let t of this.films())for(let i of t.directors){let o=e.get(i)??{count:0,totalRating:0};o.count++,o.totalRating+=t.voteAverage,e.set(i,o)}return[...e.entries()].filter(([,t])=>t.count>=2).sort((t,i)=>i[1].count-t[1].count).slice(0,8).map(([t,i])=>({name:t,count:i.count,avgRating:(i.totalRating/i.count).toFixed(1)}))});yearByYear=m(()=>{let e=parseInt(this.year(),10),t=new Map;for(let c of this.films())t.set(c.year,(t.get(c.year)??0)+1);let i=[];for(let c=e;c<e+10;c++)i.push({year:c,count:t.get(c)??0,heightPct:0});let o=Math.max(...i.map(c=>c.count));for(let c of i)c.heightPct=o>0?Math.round(c.count/o*100):0;return i});prevDecade=m(()=>{let t=parseInt(this.year(),10)-10;return this.catalog.movies().some(o=>o.year>=t&&o.year<t+10)?t:null});nextDecade=m(()=>{let t=parseInt(this.year(),10)+10;return this.catalog.movies().some(o=>o.year>=t&&o.year<t+10)?t:null});nonEnglishPct=m(()=>{let e=this.films();if(e.length<10)return null;let t=e.filter(o=>o.language&&o.language!=="English"&&o.language!=="en").length,i=Math.round(t/e.length*100);return i>0&&i<100?i:null});highlyRatedCount=m(()=>this.films().filter(e=>e.voteAverage>=8).length);avgTitleLength=m(()=>{let e=this.films();return e.length<5?null:Math.round(e.reduce((t,i)=>t+i.title.length,0)/e.length)});streamableHighRatedCount=m(()=>this.films().filter(e=>e.isStreamable&&e.voteAverage>=7).length);topDirectorFilmCount=m(()=>{let e=this.films();if(e.length<5)return null;let t=new Map;for(let o of e)for(let c of o.directors)t.set(c,(t.get(c)??0)+1);let i=[...t.entries()].sort((o,c)=>c[1]-o[1])[0];return i&&i[1]>=3?{name:i[0],count:i[1]}:null});decadeTopGenre=m(()=>{let e=this.films();if(e.length<10)return null;let t=new Map;for(let o of e)for(let c of o.genres)t.set(c,(t.get(c)??0)+1);let i=[...t.entries()].sort((o,c)=>c[1]-o[1])[0];return i?i[0]:null});decadeImdbLinkedPct=m(()=>{let e=this.films();if(e.length<10)return null;let t=Math.round(e.filter(i=>i.imdbId).length/e.length*100);return t>0&&t<100?t:null});posterCoveragePct=m(()=>{let e=this.films();if(e.length<10)return null;let t=Math.round(e.filter(i=>i.posterUrl).length/e.length*100);return t>0&&t<100?t:null});mostCommonLanguage=m(()=>{let e=this.films();if(e.length<10)return null;let t=new Map;for(let o of e)o.language&&o.language!=="English"&&o.language!=="en"&&t.set(o.language,(t.get(o.language)??0)+1);let i=[...t.entries()].sort((o,c)=>c[1]-o[1])[0];return i&&i[1]>=3?{name:i[0],count:i[1]}:null});decadeAvgTitleLength=m(()=>{let e=this.films();if(e.length<10)return null;let t=e.reduce((i,o)=>i+o.title.length,0)/e.length;return t>=5?Math.round(t):null});decadeMedianRating=m(()=>{let e=this.films().filter(c=>c.voteAverage>0);if(e.length<5)return null;let t=e.map(c=>c.voteAverage).sort((c,C)=>c-C),i=Math.floor(t.length/2);return(t.length%2===0?(t[i-1]+t[i])/2:t[i]).toFixed(1)});avgDirectorFilmCount=m(()=>{let e=this.films();if(e.length<10)return null;let t=new Map;for(let o of e)for(let c of o.directors)t.set(c,(t.get(c)??0)+1);if(t.size<5)return null;let i=[...t.values()].reduce((o,c)=>o+c,0)/t.size;return i>=1.1?i.toFixed(1):null});decadeDirectorCount=m(()=>{let e=this.films();if(e.length<5)return null;let t=new Set;for(let i of e)for(let o of i.directors)t.add(o);return t.size>=5?t.size:null});bestRatedTitle=m(()=>{let e=this.films().filter(i=>i.voteAverage>0);return e.length<5?null:e.reduce((i,o)=>i.voteAverage>=o.voteAverage?i:o).title});uniqueLanguageCount=m(()=>{let e=this.films();if(e.length<10)return null;let t=new Set(e.filter(i=>i.language).map(i=>i.language));return t.size>=3?t.size:null});coDirectedPct=m(()=>{let e=this.films();if(e.length<10)return null;let t=Math.round(e.filter(i=>i.directors.length>1).length/e.length*100);return t>0&&t<100?t:null});singleGenreCount=m(()=>{let e=this.films();if(e.length<5)return 0;let t=e.filter(i=>i.genres.length===1).length;return t>=3?t:0});streamableImdbLinkedCount=m(()=>{let e=this.films();if(e.length<5)return null;let t=e.filter(i=>i.isStreamable&&i.imdbId).length;return t>0?t:null});ytStreamableCount=m(()=>{let e=this.films();if(e.length<5)return null;let t=e.filter(i=>i.youtubeId).length;return t>0?t:null});iaStreamableCount=m(()=>{let e=this.films();if(e.length<5)return null;let t=e.filter(i=>i.internetArchiveId).length;return t>0?t:null});avgGenresPerFilm=m(()=>{let e=this.films();if(e.length<10)return null;let t=e.reduce((i,o)=>i+o.genres.length,0)/e.length;return t>=1.3?t.toFixed(1):null});ngOnInit(){this.catalog.load(),this.titleService.setTitle(`${this.year()}s Films \u2014 BW Cinema`)}surpriseMe(){let e=this.sortedFilms();if(e.length===0)return;let t=e[Math.floor(Math.random()*e.length)];this.router.navigate(["/movie",t.id])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ae({type:n,selectors:[["app-decade"]],inputs:{year:[1,"year"]},decls:2,vars:1,consts:[[1,"decade","container"],[3,"count"],[1,"decade__header"],[1,"decade__eyebrow"],[1,"decade__name"],[1,"decade__meta"],[1,"decade__actions"],["routerLink","/browse",1,"btn-secondary","decade__browse-link",3,"queryParams"],["aria-label","Random film from this decade","title","Random film",1,"decade__surprise-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x","1","y","1","width","22","height","22","rx","4"],["cx","8","cy","8","r","1.5","fill","currentColor"],["cx","16","cy","8","r","1.5","fill","currentColor"],["cx","8","cy","16","r","1.5","fill","currentColor"],["cx","16","cy","16","r","1.5","fill","currentColor"],["cx","12","cy","12","r","1.5","fill","currentColor"],[1,"decade__empty"],[1,"decade__nav"],[1,"decade__nav-link",3,"routerLink"],[1,"decade__stats"],[1,"decade__stat"],[1,"decade__stat-value"],[1,"decade__stat-label"],[1,"decade__stat","decade__stat--link",3,"routerLink"],[1,"decade__fact"],[1,"decade__best-film"],[1,"decade__view-bar"],[1,"decade__sort-btns"],[1,"decade__sort-btn",3,"click"],[1,"decade__bar-right"],[1,"decade__streamable-btn",3,"click"],[3,"modeChange","mode"],[3,"movies"],[1,"decade__genres"],[1,"decade__directors"],[1,"decade__yearly"],[1,"decade__best-film-card",3,"routerLink"],["loading","lazy",1,"decade__best-film-poster",3,"src","alt"],[1,"decade__best-film-placeholder"],[1,"decade__best-film-info"],[1,"decade__best-film-label"],[1,"decade__best-film-title"],[1,"decade__best-film-meta"],[1,"decade__best-film-rating"],[1,"decade__section-title"],[1,"decade__genre-chips"],[1,"decade__genre-chip",3,"routerLink"],[1,"decade__genre-count"],[1,"decade__directors-grid"],[1,"decade__director-card",3,"routerLink"],[1,"decade__director-name"],[1,"decade__director-films"],[1,"decade__director-rating"],[1,"decade__yearly-chart"],[1,"decade__yearly-bar",3,"title"],[1,"decade__yearly-fill"],[1,"decade__yearly-count"],[1,"decade__yearly-label"],["routerLink","/browse",1,"btn-primary"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","15 18 9 12 15 6"],["points","9 18 15 12 9 6"]],template:function(t,i){t&1&&_(0,Ee,2,1,"div",0)(1,Et,26,9,"div",0),t&2&&g(i.catalog.loading()?0:1)},dependencies:[_e,pe,ve,fe,ue],styles:[".decade[_ngcontent-%COMP%]{padding:var(--space-xl) 0}.decade__header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:var(--space-lg)}.decade__eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.15em;font-size:.8rem;font-weight:600;color:var(--accent-gold);margin:0 0 var(--space-xs)}.decade__name[_ngcontent-%COMP%]{margin-bottom:var(--space-xs)}.decade__meta[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95rem;margin:0}.decade__actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.decade__browse-link[_ngcontent-%COMP%]{display:inline-block;font-size:.85rem;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-lg)}.decade__stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:var(--space-md);margin-bottom:var(--space-xl)}.decade__stat[_ngcontent-%COMP%]{background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md);text-align:center}.decade__stat-value[_ngcontent-%COMP%]{display:block;font-family:var(--font-heading);font-size:1.5rem;font-weight:700;color:var(--accent-gold);margin-bottom:2px}.decade__stat-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-tertiary)}.decade__stat-value--positive[_ngcontent-%COMP%]{color:#198754}.decade__stat--link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;cursor:pointer;transition:border-color .2s}.decade__stat--link[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.decade__fact[_ngcontent-%COMP%]{font-style:italic;color:var(--accent-gold);font-size:.95rem;margin:0 0 var(--space-xl);padding:var(--space-sm) 0}.decade__best-film[_ngcontent-%COMP%]{margin-bottom:var(--space-xl)}.decade__best-film-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-lg);padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-xl);text-decoration:none;color:inherit;transition:border-color .2s,box-shadow .2s}.decade__best-film-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);box-shadow:var(--shadow-md);color:inherit}.decade__best-film-poster[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;object-fit:cover;border-radius:var(--radius);flex-shrink:0}.decade__best-film-placeholder[_ngcontent-%COMP%]{width:60px;aspect-ratio:2 / 3;background:var(--bg-raised);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-family:var(--font-heading);color:var(--text-tertiary);font-size:1.2rem;flex-shrink:0}.decade__best-film-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.decade__best-film-label[_ngcontent-%COMP%]{font-size:.7rem;text-transform:uppercase;letter-spacing:.1em;color:var(--accent-gold);font-weight:600}.decade__best-film-title[_ngcontent-%COMP%]{font-size:1.1rem}.decade__best-film-meta[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.decade__best-film-rating[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1rem;font-weight:700;color:var(--accent-gold)}.decade__view-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:var(--space-md);margin-bottom:var(--space-lg);flex-wrap:wrap}.decade__sort-btns[_ngcontent-%COMP%]{display:flex;gap:var(--space-xs);flex-wrap:wrap}.decade__sort-btn[_ngcontent-%COMP%]{padding:6px 14px;border-radius:var(--radius-lg);background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.decade__sort-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.decade__sort-btn--active[_ngcontent-%COMP%]{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.decade__bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.decade__streamable-btn[_ngcontent-%COMP%]{padding:6px 12px;border-radius:var(--radius-lg);background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);font-size:.8rem;font-weight:600;cursor:pointer;transition:all .2s}.decade__streamable-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.decade__streamable-btn--active[_ngcontent-%COMP%]{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.decade__surprise-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--bg-hover);border:1px solid var(--border);color:var(--text-tertiary);cursor:pointer;transition:all .2s}.decade__surprise-btn[_ngcontent-%COMP%]:hover{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.decade__section-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:var(--space-md)}.decade__genres[_ngcontent-%COMP%]{margin-top:var(--space-2xl);padding-top:var(--space-lg);border-top:1px solid var(--border)}.decade__genre-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-sm)}.decade__genre-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-xs);padding:6px 14px;background:var(--bg-surface);border:1px solid var(--border);border-radius:20px;font-size:.85rem;font-weight:600;color:var(--text-secondary);text-decoration:none;transition:all .2s}.decade__genre-chip[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.decade__genre-count[_ngcontent-%COMP%]{font-size:.7rem;background:var(--bg-raised);padding:1px 6px;border-radius:8px;color:var(--text-tertiary)}.decade__directors[_ngcontent-%COMP%]{margin-top:var(--space-xl);padding-top:var(--space-lg);border-top:1px solid var(--border)}.decade__directors-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-md)}.decade__director-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;transition:all .2s}.decade__director-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:inherit}.decade__director-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);margin-bottom:2px}.decade__director-films[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary)}.decade__director-rating[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:1.1rem;font-weight:700;color:var(--accent-gold);margin-top:var(--space-xs)}.decade__yearly[_ngcontent-%COMP%]{margin-top:var(--space-xl);padding-top:var(--space-lg);border-top:1px solid var(--border)}.decade__yearly-chart[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:var(--space-sm);height:120px;padding:var(--space-md) 0}.decade__yearly-bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%;cursor:default}.decade__yearly-fill[_ngcontent-%COMP%]{width:100%;max-width:40px;background:linear-gradient(to top,var(--accent-gold),var(--accent-gold-dim));border-radius:4px 4px 0 0;min-height:4px;transition:height .4s ease}.decade__yearly-count[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;color:var(--accent-gold);margin-bottom:2px}.decade__yearly-label[_ngcontent-%COMP%]{font-size:.65rem;color:var(--text-tertiary);margin-top:var(--space-xs)}.decade__empty[_ngcontent-%COMP%]{text-align:center;padding:var(--space-3xl);color:var(--text-tertiary)}.decade__nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:var(--space-2xl);padding-top:var(--space-lg);border-top:1px solid var(--border)}.decade__nav-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--space-xs);font-size:.9rem;font-weight:600;color:var(--text-secondary);text-decoration:none;transition:color .2s}.decade__nav-link[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}@media(max-width:768px){.decade__header[_ngcontent-%COMP%]{flex-direction:column;gap:var(--space-md)}}@media(max-width:480px){.decade__stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.decade__sort-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem}.decade__streamable-btn[_ngcontent-%COMP%]{padding:8px 12px}}"],changeDetection:0})};export{Ce as DecadeComponent};
