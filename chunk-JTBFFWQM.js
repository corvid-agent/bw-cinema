import{a as Le,b as Ne}from"./chunk-2EQFZJUE.js";import{a as Ve}from"./chunk-GCTFJCDK.js";import{a as Re}from"./chunk-M7JVISF6.js";import{a as qe,b as Ae}from"./chunk-TWPBZPC6.js";import{a as Fe}from"./chunk-HAGFLECC.js";import{a as Be}from"./chunk-VYUST5ET.js";import"./chunk-JVUEOQ2T.js";import{a as Te}from"./chunk-U6UKIARX.js";import{$ as v,$a as Oe,A as U,Aa as f,Ba as Y,Ca as j,Da as we,Ea as Me,F as x,Fa as Se,Ia as W,J as be,Ja as re,K as he,Ma as g,Na as Ee,O as r,Oa as A,R as Q,Z as Ce,_,_a as Pe,a as y,b as E,ba as z,ca as F,cb as ke,da as L,ea as R,eb as De,fa as l,fb as Ie,ga as c,ha as D,ia as u,ja as m,la as w,ma as I,na as P,oa as M,pa as d,sa as fe,ta as xe,ua as ye,v as N,wa as V,x as h,y as C,ya as a,z as q,za as S}from"./chunk-SA65F7OW.js";var Ge=(i,e)=>e.name;function Ue(i,e){if(i&1){let t=w();u(0,"label",17)(1,"input",15),M("change",function(){let o=h(t).$implicit,s=d(2);return C(s.toggleDecade(o))}),m(),u(2,"span"),a(3),m()()}if(i&2){let t=e.$implicit,n=d(2);r(),I("checked",n.selectedDecades().has(t)),r(2),f("",t,"s")}}function Qe(i,e){if(i&1&&(u(0,"div",7),F(1,Ue,4,2,"label",17,z),m()),i&2){let t=d();r(),L(t.availableDecades())}}function je(i,e){if(i&1){let t=w();u(0,"label",17)(1,"input",15),M("change",function(){let o=h(t).$implicit,s=d(2);return C(s.toggleGenre(o))}),m(),u(2,"span"),a(3),m()()}if(i&2){let t=e.$implicit,n=d(2);r(),I("checked",n.selectedGenres().has(t)),r(2),S(t)}}function We(i,e){if(i&1&&(u(0,"div",7),F(1,je,4,2,"label",17,z),m()),i&2){let t=d();r(),L(t.availableGenres())}}function Je(i,e){if(i&1){let t=w();u(0,"label",17)(1,"input",15),M("change",function(){let o=h(t).$implicit,s=d(2);return C(s.toggleDirector(o.name))}),m(),u(2,"span"),a(3),m(),u(4,"span",20),a(5),m()()}if(i&2){let t=e.$implicit,n=d(2);r(),I("checked",n.selectedDirectors().has(t.name)),r(2),S(t.name),r(2),S(t.count)}}function Ke(i,e){i&1&&(u(0,"p",19),a(1,"No directors found"),m())}function Ze(i,e){if(i&1){let t=w();u(0,"div",7)(1,"input",18),M("input",function(o){h(t);let s=d();return C(s.onDirectorSearch(o))}),m(),F(2,Je,6,3,"label",17,Ge),_(4,Ke,2,0,"p",19),m()}if(i&2){let t=d();r(),I("value",t.directorQuery()),r(),L(t.filteredDirectors()),r(2),v(t.filteredDirectors().length===0&&t.directorQuery().length>0?4:-1)}}function Xe(i,e){if(i&1){let t=w();u(0,"label",17)(1,"input",15),M("change",function(){let o=h(t).$implicit,s=d(3);return C(s.toggleLanguage(o.name))}),m(),u(2,"span"),a(3),m(),u(4,"span",20),a(5),m()()}if(i&2){let t=e.$implicit,n=d(3);r(),I("checked",n.selectedLanguages().has(t.name)),r(2),S(t.name),r(2),S(t.count)}}function et(i,e){i&1&&(u(0,"p",19),a(1,"No languages found"),m())}function tt(i,e){if(i&1){let t=w();u(0,"div",7)(1,"input",21),M("input",function(o){h(t);let s=d(2);return C(s.onLanguageSearch(o))}),m(),F(2,Xe,6,3,"label",17,Ge),_(4,et,2,0,"p",19),m()}if(i&2){let t=d(2);r(),I("value",t.languageQuery()),r(),L(t.filteredLanguages()),r(2),v(t.filteredLanguages().length===0&&t.languageQuery().length>0?4:-1)}}function nt(i,e){if(i&1){let t=w();u(0,"div",4)(1,"button",5),M("click",function(){h(t);let o=d();return C(o.languagesOpen.set(!o.languagesOpen()))}),u(2,"span"),a(3,"Language"),m(),u(4,"span",6),a(5,"\u25BE"),m()(),_(6,tt,5,2,"div",7),m()}if(i&2){let t=d();r(4),V("open",t.languagesOpen()),r(2),v(t.languagesOpen()?6:-1)}}var J=class i{availableDecades=A([]);availableGenres=A([]);availableDirectors=A([]);availableLanguages=A([]);languageCountsInput=A([],{alias:"languageCounts"});selectedDecades=x(new Set);selectedGenres=x(new Set);selectedDirectors=x(new Set);selectedLanguages=x(i.loadLanguagePref());streamableOnly=x(!0);minRating=x(0);directorQuery=x("");languageQuery=x("");yearMin=x(1890);yearMax=x(1970);yearBounds=g(()=>{let e=this.availableDecades();return e.length===0?[1890,1970]:[e[0],e[e.length-1]+9]});static LANG_PREF_KEY="bw-cinema-lang-pref";decadesOpen=x(!1);genresOpen=x(!1);directorsOpen=x(!1);languagesOpen=x(this.selectedLanguages().size>0);static loadLanguagePref(){try{let e=localStorage.getItem("bw-cinema-lang-pref");if(e){let t=JSON.parse(e);if(Array.isArray(t))return new Set(t)}}catch{}return new Set}saveLanguagePref(){try{localStorage.setItem(i.LANG_PREF_KEY,JSON.stringify([...this.selectedLanguages()]))}catch{}}filteredDirectors=g(()=>{let e=this.directorQuery().toLowerCase(),t=this.availableDirectors();return e?t.filter(n=>n.name.toLowerCase().includes(e)).slice(0,20):t.slice(0,20)});filteredLanguages=g(()=>{let e=this.languageQuery().toLowerCase(),t=this.languageCountsInput();if(t.length===0){let n=this.availableLanguages();return(e?n.filter(s=>s.toLowerCase().includes(e)):n).slice(0,30).map(s=>({name:s,count:0}))}return e?t.filter(n=>n.name.toLowerCase().includes(e)).slice(0,30):t.slice(0,30)});filterChanged=Ee();toggleDecade(e){this.selectedDecades.update(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}),this.emitFilter()}toggleGenre(e){this.selectedGenres.update(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}),this.emitFilter()}toggleLanguage(e){this.selectedLanguages.update(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}),this.saveLanguagePref(),this.emitFilter()}onRatingChange(e){this.minRating.set(parseFloat(e.target.value)),this.emitFilter()}toggleDirector(e){this.selectedDirectors.update(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}),this.emitFilter()}onYearMinChange(e){let t=parseInt(e.target.value,10);this.yearMin.set(Math.min(t,this.yearMax())),this.emitFilter()}onYearMaxChange(e){let t=parseInt(e.target.value,10);this.yearMax.set(Math.max(t,this.yearMin())),this.emitFilter()}onDirectorSearch(e){this.directorQuery.set(e.target.value)}onLanguageSearch(e){this.languageQuery.set(e.target.value)}clearFilters(){this.selectedDecades.set(new Set),this.selectedGenres.set(new Set),this.selectedDirectors.set(new Set),this.selectedLanguages.set(new Set),this.saveLanguagePref(),this.streamableOnly.set(!0),this.minRating.set(0),this.directorQuery.set("");let[e,t]=this.yearBounds();this.yearMin.set(e),this.yearMax.set(t),this.emitFilter()}emitFilter(){let[e,t]=this.yearBounds(),n=this.yearMin()!==e||this.yearMax()!==t?[this.yearMin(),this.yearMax()]:null;this.filterChanged.emit({decades:[...this.selectedDecades()],genres:[...this.selectedGenres()],directors:[...this.selectedDirectors()],languages:[...this.selectedLanguages()],streamableOnly:this.streamableOnly(),minRating:this.minRating(),yearRange:n})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Q({type:i,selectors:[["app-filter-panel"]],inputs:{availableDecades:[1,"availableDecades"],availableGenres:[1,"availableGenres"],availableDirectors:[1,"availableDirectors"],availableLanguages:[1,"availableLanguages"],languageCountsInput:[1,"languageCounts","languageCountsInput"]},outputs:{filterChanged:"filterChanged"},decls:47,vars:21,consts:[["aria-label","Filter options",1,"filters"],[1,"filters__header"],[1,"filters__title"],[1,"filters__clear-btn",3,"click"],[1,"filters__group"],[1,"filters__toggle",3,"click"],[1,"filters__chevron"],[1,"filters__options"],[1,"filters__range-label"],[1,"filters__range-value"],[1,"filters__year-range"],["type","range","step","1","aria-label","Minimum year",1,"filters__range",3,"input","min","max","value"],["type","range","step","1","aria-label","Maximum year",1,"filters__range",3,"input","min","max","value"],[1,"filters__group","filters__group--inline"],[1,"filters__checkbox","filters__checkbox--toggle"],["type","checkbox",3,"change","checked"],["type","range","min","0","max","10","step","0.5",1,"filters__range",3,"input","value"],[1,"filters__checkbox"],["type","search","placeholder","Search directors...","autocomplete","off",1,"filters__director-search",3,"input","value"],[1,"filters__empty"],[1,"filters__director-count"],["type","search","placeholder","Search languages...","autocomplete","off",1,"filters__director-search",3,"input","value"]],template:function(t,n){t&1&&(u(0,"aside",0)(1,"div",1)(2,"h3",2),a(3,"Filters"),m(),u(4,"button",3),M("click",function(){return n.clearFilters()}),a(5,"Reset"),m()(),u(6,"div",4)(7,"button",5),M("click",function(){return n.decadesOpen.set(!n.decadesOpen())}),u(8,"span"),a(9,"Decades"),m(),u(10,"span",6),a(11,"\u25BE"),m()(),_(12,Qe,3,0,"div",7),m(),u(13,"div",4)(14,"button",5),M("click",function(){return n.genresOpen.set(!n.genresOpen())}),u(15,"span"),a(16,"Genres"),m(),u(17,"span",6),a(18,"\u25BE"),m()(),_(19,We,3,0,"div",7),m(),u(20,"div",4)(21,"button",5),M("click",function(){return n.directorsOpen.set(!n.directorsOpen())}),u(22,"span"),a(23,"Directors"),m(),u(24,"span",6),a(25,"\u25BE"),m()(),_(26,Ze,5,2,"div",7),m(),u(27,"div",4)(28,"label",8),a(29," Year Range "),u(30,"span",9),a(31),m()(),u(32,"div",10)(33,"input",11),M("input",function(s){return n.onYearMinChange(s)}),m(),u(34,"input",12),M("input",function(s){return n.onYearMaxChange(s)}),m()()(),_(35,nt,7,3,"div",4),u(36,"div",13)(37,"label",14)(38,"input",15),M("change",function(){return n.streamableOnly.set(!n.streamableOnly()),n.emitFilter()}),m(),u(39,"span"),a(40,"Free to watch only"),m()()(),u(41,"div",4)(42,"label",8),a(43," Minimum rating "),u(44,"span",9),a(45),m()(),u(46,"input",16),M("input",function(s){return n.onRatingChange(s)}),m()()()),t&2&&(r(10),V("open",n.decadesOpen()),r(2),v(n.decadesOpen()?12:-1),r(5),V("open",n.genresOpen()),r(2),v(n.genresOpen()?19:-1),r(5),V("open",n.directorsOpen()),r(2),v(n.directorsOpen()?26:-1),r(5),Y("",n.yearMin(),"\u2013",n.yearMax()),r(2),I("min",n.yearBounds()[0])("max",n.yearBounds()[1])("value",n.yearMin()),r(),I("min",n.yearBounds()[0])("max",n.yearBounds()[1])("value",n.yearMax()),r(),v(n.availableLanguages().length>0?35:-1),r(3),I("checked",n.streamableOnly()),r(7),S(n.minRating()>0?n.minRating().toFixed(1):"Any"),r(),I("value",n.minRating()))},styles:[".filters[_ngcontent-%COMP%]{background-color:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-md)}.filters__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-bottom:var(--space-md);border-bottom:1px solid var(--border);margin-bottom:var(--space-xs)}.filters__title[_ngcontent-%COMP%]{font-size:.95rem;font-weight:700;color:var(--text-primary);margin:0}.filters__clear-btn[_ngcontent-%COMP%]{background:none;border:1px solid var(--border);border-radius:12px;color:var(--text-tertiary);font-size:.75rem;font-weight:600;padding:3px 10px;min-height:auto;min-width:auto;cursor:pointer;transition:all .2s}.filters__clear-btn[_ngcontent-%COMP%]:hover{color:var(--accent-gold);border-color:var(--accent-gold)}.filters__group[_ngcontent-%COMP%]{border-bottom:1px solid var(--border);padding:var(--space-xs) 0}.filters__group[_ngcontent-%COMP%]:last-child{border-bottom:none}.filters__group--inline[_ngcontent-%COMP%]{padding:var(--space-sm) 0}.filters__toggle[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;background:none;border:none;color:var(--text-secondary);font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.06em;padding:var(--space-sm) 2px;cursor:pointer;min-height:36px;min-width:auto;transition:color .2s}.filters__toggle[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.filters__chevron[_ngcontent-%COMP%]{font-size:.7rem;transition:transform .2s;color:var(--text-tertiary)}.filters__chevron.open[_ngcontent-%COMP%]{transform:rotate(180deg);color:var(--accent-gold)}.filters__options[_ngcontent-%COMP%]{padding:2px 0 var(--space-sm);max-height:220px;overflow-y:auto}.filters__options[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.filters__options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.filters__options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-bright);border-radius:2px}.filters__checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm);padding:5px 4px;cursor:pointer;font-size:.85rem;color:var(--text-primary);border-radius:var(--radius-sm);transition:background-color .15s}.filters__checkbox[_ngcontent-%COMP%]:hover{background-color:var(--bg-hover)}.filters__checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:15px;height:15px;accent-color:var(--accent-gold);cursor:pointer;flex-shrink:0}.filters__checkbox--toggle[_ngcontent-%COMP%]{font-weight:600;font-size:.85rem}.filters__range-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.04em;color:var(--text-secondary);margin-bottom:var(--space-sm);padding:0 2px}.filters__range-value[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700;font-size:.85rem;text-transform:none;letter-spacing:0}.filters__range[_ngcontent-%COMP%]{width:100%;accent-color:var(--accent-gold);cursor:pointer;height:4px}.filters__director-search[_ngcontent-%COMP%]{width:100%;font-size:.82rem;padding:7px 10px;margin-bottom:var(--space-xs);background-color:var(--bg-input);color:var(--text-primary);border:1px solid var(--border);border-radius:var(--radius);min-height:32px;transition:border-color .2s}.filters__director-search[_ngcontent-%COMP%]:focus{border-color:var(--accent-gold);outline:none}.filters__director-search[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.filters__director-count[_ngcontent-%COMP%]{margin-left:auto;font-size:.7rem;font-weight:600;color:var(--text-tertiary);background-color:var(--bg-raised);padding:1px 6px;border-radius:8px;flex-shrink:0}.filters__empty[_ngcontent-%COMP%]{font-size:.82rem;color:var(--text-tertiary);padding:var(--space-sm) 4px;margin:0}.filters__year-range[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}"],changeDetection:0})};var it=["loadMoreSentinel"],rt=i=>["/director",i],oe=()=>[],ot=i=>["/movie",i],at=(i,e)=>e.label,lt=(i,e)=>e.decade,st=(i,e)=>e.name;function ct(i,e){if(i&1&&(l(0,"span",4),a(1),c()),i&2){let t=d();r(),f("(",t.streamableResultCount()," free to watch)")}}function dt(i,e){if(i&1&&(l(0,"span",11),a(1,"\xB7"),c(),a(2)),i&2){let t=d();r(2),f(" Avg \u2605 ",t.avgRating," ")}}function gt(i,e){if(i&1&&(l(0,"span",11),a(1,"\xB7"),c(),a(2)),i&2){let t=d();r(2),f(" Mostly ",t.topGenre," ")}}function ut(i,e){if(i&1&&(l(0,"span",11),a(1,"\xB7"),c(),a(2)),i&2){let t=d();r(2),f(" ",t.langCount," languages ")}}function mt(i,e){if(i&1&&(l(0,"span",11),a(1,"\xB7"),c(),a(2)),i&2){let t=d();r(2),f(" ",t.dirCount," directors ")}}function pt(i,e){if(i&1&&(l(0,"p",5),a(1),_(2,dt,3,1),_(3,gt,3,1),_(4,ut,3,1),_(5,mt,3,1),c()),i&2){let t=e;r(),Y(" ",t.minYear,"\u2013",t.maxYear," "),r(),v(t.avgRating?2:-1),r(),v(t.topGenre?3:-1),r(),v(t.langCount?4:-1),r(),v(t.dirCount?5:-1)}}function _t(i,e){i&1&&a(0),i&2&&f(" \xB7 ",e)}function vt(i,e){i&1&&a(0),i&2&&f(" \xB7 ",e," languages")}function bt(i,e){if(i&1&&(l(0,"p",6),a(1),_(2,_t,1,1),_(3,vt,1,1),c()),i&2){let t,n,o=d();r(),f("",e,"% streamable"),r(),v((t=o.resultYearRange())?2:-1,t),r(),v((n=o.resultLanguageCount())?3:-1,n)}}function ht(i,e){if(i&1&&(l(0,"p",6),a(1),c()),i&2){let t=d();r(),f("",t.watchedInResults()," already watched")}}function Ct(i,e){if(i&1&&(l(0,"p",6),a(1,"Top director: "),l(2,"a",12),a(3),c(),a(4),c()),i&2){let t=e;r(2),R("routerLink",re(3,rt,t.name)),r(),S(t.name),r(),f(" (",t.count,")")}}function ft(i,e){if(i&1&&(l(0,"p",6),a(1),c()),i&2){let t=d(2);r(),Y("",e," rated 7.0+ \xB7 median \u2605 ",t.resultMedianRating())}}function xt(i,e){if(i&1&&(l(0,"p",6),a(1),c()),i&2){let t=d(2);r(),j("",e," directors \xB7 ",t.resultGenreCount()," genres \xB7 ",t.resultDecadeCount()," decades")}}function yt(i,e){if(i&1&&(l(0,"p",6),a(1),c()),i&2){let t=d(2);r(),j("",e," non-English \xB7 ",t.resultCoDirectedCount()," co-directed \xB7 ",t.resultSilentEraCount()," silent-era")}}function wt(i,e){if(i&1&&(l(0,"p",6),a(1),c()),i&2){let t=d(2);r(),j("",e,"% YouTube \xB7 ",t.resultIaStreamablePct(),"% IA \xB7 ",t.resultImdbLinkedPct(),"% IMDb")}}function Mt(i,e){if(i&1&&(_(0,ft,2,2,"p",6),_(1,xt,2,3,"p",6),_(2,yt,2,3,"p",6),_(3,wt,2,3,"p",6)),i&2){let t,n,o,s,b=d();v((t=b.resultHighRatedCount())?0:-1,t),r(),v((n=b.resultUniqueDirectorCount())?1:-1,n),r(),v((o=b.resultNonEnglishCount())?2:-1,o),r(),v((s=b.resultYtStreamablePct())?3:-1,s)}}function St(i,e){if(i&1){let t=w();l(0,"div",8)(1,"p"),a(2),c(),l(3,"button",13),P("click",function(){h(t);let o=d();return C(o.catalog.retry())}),a(4,"Try Again"),c()()}i&2&&(r(2),S(e))}function Et(i,e){i&1&&D(0,"app-skeleton-grid",9),i&2&&R("count",24)}function Pt(i,e){if(i&1&&(l(0,"span",17),a(1),c()),i&2){let t=d(2);r(),S(t.activeFilterCount())}}function Ot(i,e){if(i&1&&(l(0,"option",52),a(1),c()),i&2){let t=e.$implicit;R("value",t),r(),S(t)}}function kt(i,e){if(i&1){let t=w();l(0,"div",32)(1,"label",49),a(2,"Language"),c(),l(3,"select",50),P("change",function(o){h(t);let s=d(2);return C(s.onLanguageChange(o))}),l(4,"option",51),a(5,"All Languages"),c(),F(6,Ot,2,2,"option",52,z),c()()}if(i&2){let t=d(2);r(3),R("value",t.selectedLanguage()),r(3),L(t.catalog.availableLanguages())}}function Dt(i,e){if(i&1){let t=w();l(0,"button",55),P("click",function(){let o=h(t).$implicit,s=d(3);return C(s.removeChip(o))}),a(1),q(),l(2,"svg",56),D(3,"line",57)(4,"line",58),c()()}if(i&2){let t=e.$implicit;r(),f(" ",t.label," ")}}function It(i,e){if(i&1){let t=w();l(0,"div",44),F(1,Dt,5,1,"button",53,at),l(3,"button",54),P("click",function(){h(t);let o=d(2);return C(o.clearFilters())}),a(4,"Clear all"),c()()}if(i&2){let t=d(2);r(),L(t.filterChips())}}function Tt(i,e){if(i&1){let t=w();l(0,"button",61),P("click",function(){let o=h(t).$implicit,s=d(3);return C(s.quickFilterDecade(o.decade))}),a(1),l(2,"span",62),a(3),c()()}if(i&2){let t=e.$implicit;r(),f(" ",t.decade,"s "),r(2),S(t.count)}}function Bt(i,e){if(i&1){let t=w();l(0,"button",61),P("click",function(){let o=h(t).$implicit,s=d(3);return C(s.quickFilterGenre(o.name))}),a(1),l(2,"span",62),a(3),c()()}if(i&2){let t=e.$implicit;r(),f(" ",t.name," "),r(2),S(t.count)}}function Ft(i,e){if(i&1&&(l(0,"app-scroll-row",59),F(1,Tt,4,2,"button",60,lt),c(),l(3,"app-scroll-row",59),F(4,Bt,4,2,"button",60,st),c()),i&2){let t=d(2);r(),L(t.quickDecades()),r(3),L(t.quickGenres())}}function Lt(i,e){if(i&1&&D(0,"img",65),i&2){let t=d();R("src",t.film.posterUrl,he)("alt",t.film.title)}}function Rt(i,e){if(i&1&&a(0),i&2){let t=d();f(" \xB7 \u2605 ",t.film.voteAverage.toFixed(1)," ")}}function Nt(i,e){if(i&1&&(l(0,"a",45)(1,"span",63),a(2,"Because you watched "),l(3,"strong"),a(4),c()(),l(5,"span",64),_(6,Lt,1,2,"img",65),l(7,"span")(8,"strong"),a(9),c(),a(10),_(11,Rt,1,1),c()()()),i&2){let t=e;R("routerLink",re(6,ot,t.film.id)),r(4),S(t.source),r(2),v(t.film.posterUrl?6:-1),r(3),S(t.film.title),r(),f(" (",t.film.year,") "),r(),v(t.film.voteAverage>0?11:-1)}}function Vt(i,e){if(i&1){let t=w();l(0,"div",46),q(),l(1,"svg",66),D(2,"circle",67)(3,"line",68)(4,"line",69),c(),U(),l(5,"p",70),a(6,"No films found matching your criteria"),c(),l(7,"p",71),a(8,"Try adjusting your filters or search query"),c(),l(9,"button",72),P("click",function(){h(t);let o=d(2);return C(o.clearFilters())}),a(10,"Clear All Filters"),c()()}}function qt(i,e){if(i&1&&D(0,"app-movie-grid",73),i&2){let t=d(3);R("movies",t.paginatedMovies())}}function At(i,e){if(i&1&&D(0,"app-movie-list",73),i&2){let t=d(3);R("movies",t.paginatedMovies())}}function Gt(i,e){if(i&1&&(l(0,"div",47),_(1,qt,1,1,"app-movie-grid",73)(2,At,1,1,"app-movie-list",73),c()),i&2){let t=d(2);r(),v(t.viewMode()==="grid"?1:2)}}function zt(i,e){if(i&1&&(l(0,"div",48,0)(2,"div",74),D(3,"span",75),l(4,"span",76),a(5),c()()()),i&2){let t=d(2);r(5),f("",t.filteredMovies().length-t.paginatedMovies().length," more films")}}function Yt(i,e){if(i&1){let t=w();l(0,"div",10)(1,"button",14),P("click",function(){h(t);let o=d();return C(o.toggleFilter())}),q(),l(2,"svg",15),D(3,"polygon",16),c(),a(4," Filters "),_(5,Pt,2,1,"span",17),c(),U(),l(6,"aside",18)(7,"app-filter-panel",19),P("filterChanged",function(o){h(t);let s=d();return C(s.onFilterChange(o))}),c()(),l(8,"div",20)(9,"div",21)(10,"div",22)(11,"app-search-bar",23),P("searched",function(o){h(t);let s=d();return C(s.onSearch(o))}),c()(),l(12,"div",24)(13,"label",25),a(14,"Sort by"),c(),l(15,"select",26),P("change",function(o){h(t);let s=d();return C(s.onSortChange(o))}),l(16,"option",27),a(17,"Highest Rated"),c(),l(18,"option",28),a(19,"Newest"),c(),l(20,"option",29),a(21,"Oldest"),c(),l(22,"option",30),a(23,"Title A-Z"),c(),l(24,"option",31),a(25,"Title Z-A"),c()()(),_(26,kt,8,1,"div",32),l(27,"button",33),P("click",function(){h(t);let o=d();return C(o.toggleStreamableOnly())}),q(),l(28,"svg",34),D(29,"polygon",35),c(),a(30),c(),U(),l(31,"app-view-toggle",36),Se("modeChange",function(o){h(t);let s=d();return Me(s.viewMode,o)||(s.viewMode=o),C(o)}),c(),l(32,"button",37),P("click",function(){h(t);let o=d();return C(o.surpriseMe())}),q(),l(33,"svg",15),D(34,"path",38)(35,"polyline",39)(36,"polyline",40)(37,"polyline",41)(38,"polyline",42)(39,"line",43),c()()(),_(40,It,5,0,"div",44),_(41,Ft,6,0),_(42,Nt,12,8,"a",45),_(43,Vt,11,0,"div",46)(44,Gt,3,1,"div",47),_(45,zt,6,1,"div",48),c()()}if(i&2){let t,n,o,s,b=d();r(5),v(b.activeFilterCount()>0?5:-1),r(),V("browse__sidebar--open",b.filterOpen()),r(),R("availableDecades",((t=b.catalog.meta())==null?null:t.decades)??W(19,oe))("availableGenres",((n=b.catalog.meta())==null?null:n.genres)??W(20,oe))("availableDirectors",((o=b.catalog.meta())==null?null:o.topDirectors)??W(21,oe))("availableLanguages",b.catalog.availableLanguages())("languageCounts",b.catalog.languageCounts()),r(19),v(b.catalog.availableLanguages().length>0?26:-1),r(),V("browse__streamable-toggle--active",b.filter().streamableOnly),Ce("title",b.filter().streamableOnly?"Showing watchable films only \u2014 click to show all":"Showing all films \u2014 click to show watchable only"),r(3),f(" ",b.filter().streamableOnly?"Watchable":"All"," "),r(),we("mode",b.viewMode),r(9),v(b.filterChips().length>0?40:-1),r(),v(b.quickDecades().length>0&&b.filterChips().length===0?41:-1),r(),v((s=b.browseSuggestion())?42:-1,s),r(),v(b.filteredMovies().length===0?43:44),r(2),v(b.paginatedMovies().length<b.filteredMovies().length?45:-1)}}var ze=class i{catalog=N(Te);collection=N(Be);route=N(ke);router=N(De);elRef=N(be);titleService=N(Oe);metaService=N(Pe);static loadLangPref(){try{let e=localStorage.getItem("bw-cinema-lang-pref");if(e){let t=JSON.parse(e);if(Array.isArray(t))return t}}catch{}return[]}loadMoreSentinel;observer=null;pageSize=24;page=x(1);viewMode=x("grid");filterOpen=x(!1);showMoreStats=x(!1);filter=x({query:"",decades:[],genres:[],directors:[],languages:i.loadLangPref(),streamableOnly:!0,minRating:0,yearRange:null,sortBy:"rating",sortDirection:"desc"});selectedLanguage=g(()=>{let e=this.filter().languages;return e.length===1?e[0]:""});activeFilterCount=g(()=>{let e=this.filter(),t=0;return e.decades.length>0&&t++,e.genres.length>0&&t++,e.directors.length>0&&t++,e.streamableOnly&&t++,e.minRating>0&&t++,e.yearRange&&t++,t});filterChips=g(()=>{let e=this.filter(),t=[];for(let n of e.decades)t.push({label:`${n}s`,type:"decade",value:n});for(let n of e.genres)t.push({label:n,type:"genre",value:n});for(let n of e.directors)t.push({label:n,type:"director",value:n});for(let n of e.languages)t.push({label:n,type:"language",value:n});return e.minRating>0&&t.push({label:`${e.minRating}+ rating`,type:"minRating",value:e.minRating}),e.yearRange&&t.push({label:`${e.yearRange[0]}\u2013${e.yearRange[1]}`,type:"yearRange",value:0}),e.query&&t.push({label:`"${e.query}"`,type:"query",value:e.query}),t});quickDecades=g(()=>{let e=this.catalog.meta();if(!e)return[];let t=this.catalog.movies(),n=new Map;for(let o of t){let s=Math.floor(o.year/10)*10;n.set(s,(n.get(s)??0)+1)}return e.decades.map(o=>({decade:o,count:n.get(o)??0}))});quickGenres=g(()=>{let e=this.catalog.meta();if(!e)return[];let t=this.catalog.movies(),n=new Map;for(let o of t)for(let s of o.genres)n.set(s,(n.get(s)??0)+1);return e.genres.slice(0,8).map(o=>({name:o,count:n.get(o)??0}))});filteredMovies=g(()=>this.catalog.search(this.filter()));resultIdx=g(()=>{let e=this.filteredMovies(),t=this.collection.watchedIds(),n=e.length,o=new Date().getFullYear(),s=0,b=0,k=0,T=0,G=0,B=0,$=0,ae=0,le=0,se=0,ce=0,de=0,ge=0,ue=0,K=1/0,Z=0,X="",ee=e[0]?.title??"",me=new Set,pe=new Set,_e=new Set,ve=new Set,H=new Map,te=new Map,ne=[],ie=[];for(let p of e){p.voteAverage>0&&(s+=p.voteAverage,b++,ie.push(p.voteAverage)),p.voteAverage>=7&&le++,k+=p.year,ne.push(p.year),p.year<K&&(K=p.year),p.year>Z&&(Z=p.year),me.add(Math.floor(p.year/10)*10),T+=p.title.length,p.title.length>X.length&&(X=p.title),p.title.length<ee.length&&(ee=p.title),p.isStreamable&&G++,p.language&&p.language!=="English"&&p.language!=="en"&&B++,p.year<1930&&$++,p.directors.length>1&&ae++,p.imdbId&&se++,p.posterUrl&&ce++,p.youtubeId&&de++,p.internetArchiveId&&ge++,p.language&&_e.add(p.language),t.has(p.id)&&ue++;for(let O of p.genres)pe.add(O),H.set(O,(H.get(O)??0)+1);for(let O of p.directors)ve.add(O),te.set(O,(te.get(O)??0)+1)}ne.sort((p,O)=>p-O),ie.sort((p,O)=>p-O);let Ye=H.size>0?[...H.entries()].sort((p,O)=>O[1]-p[1])[0][0]:null;return{n,now:o,ratingSum:s,ratedCount:b,yearSum:k,titleLenSum:T,streamable:G,nonEnglish:B,silentEra:$,coDirected:ae,highRated7:le,withImdb:se,withPoster:ce,withYt:de,withIa:ge,watched:ue,minYear:K,maxYear:Z,longestTitle:X,shortestTitle:ee,decadeCount:me.size,genreCount:pe.size,langCount:_e.size,dirCount:ve.size,topGenre:Ye,dirCounts:te,years:ne,ratings:ie}});resultsSummary=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=e.ratedCount>0?(e.ratingSum/e.ratedCount).toFixed(1):null,n=e.langCount>1?e.langCount:null,o=e.dirCount>1?e.dirCount:null;return{avgRating:t,minYear:e.minYear,maxYear:e.maxYear,topGenre:e.topGenre,langCount:n,dirCount:o}});watchedInResults=g(()=>this.resultIdx().watched);streamableResultCount=g(()=>this.resultIdx().streamable);avgResultYear=g(()=>{let e=this.resultIdx();return e.n>=5?Math.round(e.yearSum/e.n):null});resultLanguageCount=g(()=>{let e=this.resultIdx();return e.n>=10&&e.langCount>1?e.langCount:null});resultAvgFilmAge=g(()=>{let e=this.resultIdx();return e.n<10?null:Math.round(e.years.reduce((t,n)=>t+(e.now-n),0)/e.n)});resultYearRange=g(()=>{let e=this.resultIdx();return e.n<5||e.maxYear-e.minYear<5?null:`${e.minYear}\u2013${e.maxYear}`});resultStreamablePct=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=Math.round(e.streamable/e.n*100);return t===0||t===100?null:t});resultDecadeCount=g(()=>{let e=this.resultIdx();return e.n>=10&&e.decadeCount>1?e.decadeCount:null});resultHighRatedCount=g(()=>{let e=this.resultIdx();return e.n>=10&&e.highRated7>0&&e.highRated7<e.n?e.highRated7:null});resultCoDirectedCount=g(()=>{let e=this.resultIdx();return e.n>=10&&e.coDirected>0?e.coDirected:null});resultNonEnglishCount=g(()=>{let e=this.resultIdx();return e.n>=10&&e.nonEnglish>0?e.nonEnglish:null});resultSilentEraCount=g(()=>{let e=this.resultIdx();return e.n>=10&&e.silentEra>0?e.silentEra:null});resultMedianRating=g(()=>{let e=this.resultIdx();if(e.ratings.length<10)return null;let t=Math.floor(e.ratings.length/2);return(e.ratings.length%2===0?(e.ratings[t-1]+e.ratings[t])/2:e.ratings[t]).toFixed(1)});resultMedianYear=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=Math.floor(e.years.length/2);return e.years.length%2===0?Math.round((e.years[t-1]+e.years[t])/2):e.years[t]});resultAvgYear=g(()=>{let e=this.resultIdx();return e.n>=10?Math.round(e.yearSum/e.n):null});resultLongestTitle=g(()=>{let e=this.resultIdx();return e.n>=10&&e.longestTitle.length>=20?e.longestTitle:null});resultAvgTitleLength=g(()=>{let e=this.resultIdx();return e.n>=10?Math.round(e.titleLenSum/e.n):null});resultShortestTitle=g(()=>{let e=this.resultIdx();return e.n>=10&&e.shortestTitle.length<=8?e.shortestTitle:null});resultUniqueDirectorCount=g(()=>{let e=this.resultIdx();return e.n>=10&&e.dirCount>1?e.dirCount:null});resultGenreCount=g(()=>{let e=this.resultIdx();return e.n>=10&&e.genreCount>1?e.genreCount:null});resultImdbLinkedPct=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=Math.round(e.withImdb/e.n*100);return t>0&&t<100?t:null});resultPosterCoveragePct=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=Math.round(e.withPoster/e.n*100);return t>0&&t<100?t:null});resultYtStreamablePct=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=Math.round(e.withYt/e.n*100);return t>0&&t<100?t:null});resultHighlyRatedPct=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=Math.round(e.highRated7/e.n*100);return t>0&&t<100?t:null});resultCoDirectedPct=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=Math.round(e.coDirected/e.n*100);return t>0&&t<100?t:null});resultIaStreamablePct=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=Math.round(e.withIa/e.n*100);return t>0&&t<100?t:null});topResultDirector=g(()=>{let e=this.resultIdx();if(e.n<10)return null;let t=[...e.dirCounts.entries()].sort((n,o)=>o[1]-n[1])[0];return!t||t[1]<3?null:{name:t[0],count:t[1]}});paginatedMovies=g(()=>this.filteredMovies().slice(0,this.page()*this.pageSize));browseSuggestion=g(()=>{let e=this.collection.watched();if(e.length===0)return null;let t=this.catalog.movies();if(t.length===0)return null;let n=[...e].sort((k,T)=>T.watchedAt-k.watchedAt).slice(0,5),o=new Map(t.map(k=>[k.id,k])),s=this.collection.watchedIds(),b=this.collection.watchlistIds();for(let k of n){let T=o.get(k.movieId);if(!T||T.genres.length===0)continue;let G=t.find(B=>B.id!==T.id&&!s.has(B.id)&&!b.has(B.id)&&B.isStreamable&&B.posterUrl&&B.voteAverage>=6&&B.genres.some($=>T.genres.includes($)));if(G)return{source:T.title,film:G}}return null});ngOnInit(){this.catalog.load(),this.titleService.setTitle("Browse Films \u2014 BW Cinema");let e="Browse and filter classic black-and-white films by decade, genre, director, and language.";this.metaService.updateTag({name:"description",content:e}),this.metaService.updateTag({property:"og:description",content:e}),this.metaService.updateTag({name:"twitter:description",content:e});let t=this.route.snapshot.queryParams;Object.keys(t).length>0&&this.filter.update(n=>E(y({},n),{query:t.q??n.query,decades:t.decades?t.decades.split(",").map(Number):t.decade?[parseInt(t.decade,10)]:n.decades,genres:t.genres?t.genres.split(","):t.genre?[t.genre]:n.genres,directors:t.directors?t.directors.split(","):n.directors,languages:t.languages?t.languages.split(","):n.languages,streamableOnly:t.streamable==="0"?!1:t.streamable==="1"?!0:n.streamableOnly,minRating:t.minRating?parseFloat(t.minRating):n.minRating,yearRange:t.yearMin&&t.yearMax?[parseInt(t.yearMin,10),parseInt(t.yearMax,10)]:n.yearRange,sortBy:t.sortBy??n.sortBy,sortDirection:t.sortDir??n.sortDirection}))}toggleFilter(){let e=!this.filterOpen();this.filterOpen.set(e),e&&setTimeout(()=>{this.elRef.nativeElement.querySelector(".browse__sidebar")?.querySelector("input, button, select, [tabindex]")?.focus()})}onSearch(e){this.filter.update(t=>E(y({},t),{query:e})),this.page.set(1),this.syncUrl()}onFilterChange(e){this.filter.update(t=>y(y({},t),e)),this.page.set(1),this.syncUrl()}onSortChange(e){let t=e.target.value,[n,o]=t.split("-");this.filter.update(s=>E(y({},s),{sortBy:n,sortDirection:o})),this.page.set(1),this.syncUrl()}syncUrl(){let e=this.filter(),t={q:e.query||null,decades:e.decades.length>0?e.decades.join(","):null,genres:e.genres.length>0?e.genres.join(","):null,directors:e.directors.length>0?e.directors.join(","):null,languages:e.languages.length>0?e.languages.join(","):null,streamable:e.streamableOnly?null:"0",minRating:e.minRating>0?String(e.minRating):null,yearMin:e.yearRange?String(e.yearRange[0]):null,yearMax:e.yearRange?String(e.yearRange[1]):null,sortBy:e.sortBy!=="rating"?e.sortBy:null,sortDir:e.sortDirection!=="desc"?e.sortDirection:null,decade:null,genre:null};this.router.navigate([],{queryParams:t,queryParamsHandling:"merge",replaceUrl:!0})}onLanguageChange(e){let t=e.target.value,n=t?[t]:[];this.filter.update(o=>E(y({},o),{languages:n}));try{localStorage.setItem("bw-cinema-lang-pref",JSON.stringify(n))}catch{}this.page.set(1),this.syncUrl()}quickFilterDecade(e){this.filter.update(t=>E(y({},t),{decades:[e]})),this.page.set(1),this.syncUrl()}quickFilterGenre(e){this.filter.update(t=>E(y({},t),{genres:[e]})),this.page.set(1),this.syncUrl()}toggleStreamableOnly(){this.filter.update(e=>E(y({},e),{streamableOnly:!e.streamableOnly})),this.page.set(1),this.syncUrl()}removeChip(e){this.filter.update(t=>{switch(e.type){case"decade":return E(y({},t),{decades:t.decades.filter(n=>n!==e.value)});case"genre":return E(y({},t),{genres:t.genres.filter(n=>n!==e.value)});case"director":return E(y({},t),{directors:t.directors.filter(n=>n!==e.value)});case"language":return E(y({},t),{languages:t.languages.filter(n=>n!==e.value)});case"minRating":return E(y({},t),{minRating:0});case"yearRange":return E(y({},t),{yearRange:null});case"query":return E(y({},t),{query:""});default:return t}}),this.page.set(1),this.syncUrl()}clearFilters(){this.filter.set({query:"",decades:[],genres:[],directors:[],languages:[],streamableOnly:!0,minRating:0,yearRange:null,sortBy:"rating",sortDirection:"desc"}),this.page.set(1),this.syncUrl()}surpriseMe(){let e=this.filteredMovies();if(e.length===0)return;let t=e[Math.floor(Math.random()*e.length)];this.router.navigate(["/movie",t.id])}ngAfterViewInit(){this.setupInfiniteScroll()}ngOnDestroy(){this.observer?.disconnect()}setupInfiniteScroll(){typeof IntersectionObserver>"u"||(this.observer=new IntersectionObserver(e=>{e[0]?.isIntersecting&&this.paginatedMovies().length<this.filteredMovies().length&&(this.page.update(t=>t+1),setTimeout(()=>this.observeSentinel(),100))},{rootMargin:"200px"}),this.observeSentinel())}observeSentinel(){this.observer?.disconnect(),this.loadMoreSentinel&&this.observer?.observe(this.loadMoreSentinel.nativeElement)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Q({type:i,selectors:[["app-browse"]],viewQuery:function(t,n){if(t&1&&fe(it,5),t&2){let o;xe(o=ye())&&(n.loadMoreSentinel=o.first)}},decls:17,vars:9,consts:[["loadMoreSentinel",""],[1,"browse","container"],[1,"browse__top"],["aria-live","polite","aria-atomic","true",1,"browse__subtitle"],[1,"browse__streamable-count"],[1,"browse__results-summary"],[1,"browse__watched-note"],[1,"browse__more-toggle",3,"click"],["role","alert",1,"catalog-error"],[3,"count"],[1,"browse__layout"],[1,"browse__results-sep"],[3,"routerLink"],[3,"click"],[1,"browse__filter-toggle",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"browse__filter-badge"],[1,"browse__sidebar"],[3,"filterChanged","availableDecades","availableGenres","availableDirectors","availableLanguages","languageCounts"],[1,"browse__main"],[1,"browse__toolbar"],[1,"browse__search"],[3,"searched"],[1,"browse__sort"],["for","sort-select",1,"sr-only"],["id","sort-select",3,"change"],["value","rating-desc","selected",""],["value","year-desc"],["value","year-asc"],["value","title-asc"],["value","title-desc"],[1,"browse__lang"],[1,"browse__streamable-toggle",3,"click"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["points","5 3 19 12 5 21 5 3"],[3,"modeChange","mode"],["title","Random film",1,"browse__surprise",3,"click"],["d","M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"],["points","7.5 4.21 12 6.81 16.5 4.21"],["points","7.5 19.79 7.5 14.6 3 12"],["points","21 12 16.5 14.6 16.5 19.79"],["points","3.27 6.96 12 12.01 20.73 6.96"],["x1","12","y1","22.08","x2","12","y2","12"],[1,"browse__chips"],[1,"browse__suggestion",3,"routerLink"],[1,"browse__empty"],["appKeyboardNav",""],[1,"browse__load-more"],["for","lang-select",1,"sr-only"],["id","lang-select",3,"change","value"],["value",""],[3,"value"],[1,"browse__chip"],[1,"browse__chip","browse__chip--clear",3,"click"],[1,"browse__chip",3,"click"],["width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"browse__quick-decades"],[1,"browse__quick-decade"],[1,"browse__quick-decade",3,"click"],[1,"browse__quick-count"],[1,"browse__suggestion-text"],[1,"browse__suggestion-pick"],[3,"src","alt"],["width","48","height","48","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round",1,"browse__empty-icon"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["x1","8","y1","11","x2","14","y2","11"],[1,"browse__empty-title"],[1,"browse__empty-hint"],[1,"btn-secondary",3,"click"],[3,"movies"],[1,"browse__loading-indicator"],[1,"browse__spinner"],[1,"browse__remaining"]],template:function(t,n){if(t&1&&(l(0,"div",1)(1,"div",2)(2,"h1"),a(3,"Browse Films"),c(),l(4,"p",3),a(5),_(6,ct,2,1,"span",4),c(),_(7,pt,6,6,"p",5),_(8,bt,4,3,"p",6),_(9,ht,2,1,"p",6),_(10,Ct,5,5,"p",6),l(11,"button",7),P("click",function(){return n.showMoreStats.set(!n.showMoreStats())}),a(12),c(),_(13,Mt,4,4),c(),_(14,St,5,1,"div",8)(15,Et,1,1,"app-skeleton-grid",9)(16,Yt,46,22,"div",10),c()),t&2){let o,s,b,k;r(5),f(" ",n.filteredMovies().length," films found "),r(),v(!n.filter().streamableOnly&&n.streamableResultCount()>0&&n.streamableResultCount()<n.filteredMovies().length?6:-1),r(),v((o=n.resultsSummary())?7:-1,o),r(),v((s=n.resultStreamablePct())?8:-1,s),r(),v(n.watchedInResults()>0?9:-1),r(),v((b=n.topResultDirector())?10:-1,b),r(2),f(" ",n.showMoreStats()?"Less":"More stats"," "),r(),v(n.showMoreStats()?13:-1),r(),v((k=n.catalog.error())?14:n.catalog.loading()?15:16,k)}},dependencies:[Ie,Fe,qe,Ae,Le,J,Re,Ne,Ve],styles:[".browse[_ngcontent-%COMP%]{padding:var(--space-xl) 0}.browse__top[_ngcontent-%COMP%]{margin-bottom:var(--space-lg)}.browse__top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:var(--space-xs)}.browse__subtitle[_ngcontent-%COMP%]{color:var(--text-tertiary);font-size:.95rem;margin:0}.browse__streamable-count[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:600}.browse__results-summary[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);margin:var(--space-xs) 0 0}.browse__results-sep[_ngcontent-%COMP%]{color:var(--border-bright);margin:0 2px}.browse__watched-note[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);margin:var(--space-xs) 0 0}.browse__more-toggle[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-tertiary);font-size:.75rem;cursor:pointer;padding:var(--space-xs) 0;opacity:.7}.browse__more-toggle[_ngcontent-%COMP%]:hover{opacity:1}.browse__layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:260px 1fr;gap:var(--space-xl)}.browse__sidebar[_ngcontent-%COMP%]{position:sticky;top:76px;align-self:start;max-height:calc(100vh - 92px);overflow-y:auto}.browse__toolbar[_ngcontent-%COMP%]{display:flex;gap:var(--space-sm);align-items:stretch;margin-bottom:var(--space-lg)}.browse__search[_ngcontent-%COMP%]{flex:1}.browse__sort[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:160px;height:100%;border-radius:var(--radius-lg);background-color:var(--bg-surface)}.browse__surprise[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;min-width:40px;min-height:40px;padding:0;border-radius:50%;background:var(--bg-surface);border:1px solid var(--border);color:var(--accent-gold);cursor:pointer;transition:background-color .2s,border-color .2s}.browse__surprise[_ngcontent-%COMP%]:hover{background:var(--accent-gold-dim);border-color:var(--accent-gold)}.browse__chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--space-xs);margin-bottom:var(--space-md)}.browse__chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;background:var(--accent-gold-dim);border:1px solid var(--accent-gold);border-radius:14px;color:var(--accent-gold);font-size:.8rem;font-weight:600;cursor:pointer;transition:background-color .2s;min-height:auto;min-width:auto}.browse__chip[_ngcontent-%COMP%]:hover{background:var(--accent-gold);color:var(--bg-deep)}.browse__chip--clear[_ngcontent-%COMP%]{background:transparent;border-color:var(--border);color:var(--text-tertiary)}.browse__chip--clear[_ngcontent-%COMP%]:hover{background:var(--bg-raised);border-color:var(--text-tertiary);color:var(--text-secondary)}.browse__quick-decades[_ngcontent-%COMP%]{--scroll-row-gap: var(--space-xs);margin-bottom:var(--space-md)}.browse__quick-decade[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 12px;background:var(--bg-surface);border:1px solid var(--border);border-radius:14px;color:var(--text-secondary);font-size:.8rem;font-weight:600;cursor:pointer;white-space:nowrap;transition:all .2s;min-height:auto;min-width:auto}.browse__quick-decade[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold);background:var(--accent-gold-dim)}.browse__quick-count[_ngcontent-%COMP%]{font-size:.65rem;color:var(--text-tertiary)}.browse__suggestion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm);padding:var(--space-md);margin-bottom:var(--space-lg);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);text-decoration:none;color:inherit;transition:border-color .2s,background-color .2s}.browse__suggestion[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);background:var(--bg-raised)}.browse__suggestion-text[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary)}.browse__suggestion-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--accent-gold)}.browse__suggestion-pick[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--space-sm)}.browse__suggestion-pick[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:60px;object-fit:cover;border-radius:var(--radius-sm);aspect-ratio:2 / 3}.browse__suggestion-pick[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary)}.browse__suggestion-pick[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.browse__load-more[_ngcontent-%COMP%]{text-align:center;padding:var(--space-2xl) 0 var(--space-md)}.browse__loading-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--space-sm)}.browse__spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid var(--border);border-top-color:var(--accent-gold);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.browse__remaining[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);font-weight:400}.browse__empty[_ngcontent-%COMP%]{text-align:center;padding:var(--space-3xl) var(--space-lg)}.browse__empty-icon[_ngcontent-%COMP%]{color:var(--text-tertiary);margin-bottom:var(--space-md);opacity:.5}.browse__empty-title[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin:0 0 var(--space-xs)}.browse__empty-hint[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-tertiary);margin:0 0 var(--space-lg)}.browse__lang[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:130px;height:100%;border-radius:var(--radius-lg);background-color:var(--bg-surface)}.browse__streamable-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;height:40px;padding:0 12px;border-radius:var(--radius-lg);background:var(--bg-surface);border:1px solid var(--border);color:var(--text-secondary);font-size:.8rem;font-weight:600;cursor:pointer;transition:background-color .2s,border-color .2s,color .2s;white-space:nowrap}.browse__streamable-toggle[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.browse__streamable-toggle--active[_ngcontent-%COMP%]{background:var(--accent-gold-dim);border-color:var(--accent-gold);color:var(--accent-gold)}.browse__filter-toggle[_ngcontent-%COMP%]{display:none;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);color:var(--text-secondary);font-size:.9rem;font-weight:600;cursor:pointer;margin-bottom:var(--space-md);min-height:44px}.browse__filter-toggle[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);color:var(--accent-gold)}.browse__filter-badge[_ngcontent-%COMP%]{background-color:var(--accent-gold);color:var(--bg-deep);font-size:.7rem;font-weight:700;padding:2px 7px;border-radius:10px;min-width:20px;text-align:center}@media(max-width:900px){.browse__layout[_ngcontent-%COMP%]{grid-template-columns:1fr}.browse__filter-toggle[_ngcontent-%COMP%]{display:inline-flex}.browse__sidebar[_ngcontent-%COMP%]{display:none;position:static;max-height:none}.browse__sidebar--open[_ngcontent-%COMP%]{display:block}.browse__toolbar[_ngcontent-%COMP%]{flex-wrap:wrap}.browse__search[_ngcontent-%COMP%]{flex:1 1 100%}.browse__sort[_ngcontent-%COMP%]{flex:1}.browse__sort[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}.browse__lang[_ngcontent-%COMP%]{flex:1}.browse__lang[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}}"],changeDetection:0})};export{ze as BrowseComponent};
